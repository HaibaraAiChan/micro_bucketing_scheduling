main start at this time 1700887215.670478
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.190 seconds, peak memory: 26.975 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 26.975 GB
Metis partitioning: 5.897 seconds, peak memory: 28.473 GB
Split the graph: 2.304 seconds
Construct subgraphs: 0.074 seconds
REG metis partition end ----................................
REG construction  time spent:  3.1450355052948
pure dgl.metis_partition the time spent:  9.468608140945435

block_gen_time in "generate_blocks_for_one_layer_block"  0.6310570240020752


block_gen_time in "generate_blocks_for_one_layer_block"  1.2758619785308838

connection checking time:  2.078974962234497
block generation total time  1.906919002532959
pure train time  2.298344850540161
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.08984375 GB
    Memory Allocated: 0.1295790672302246  GigaBytes
Max Memory Allocated: 13.869021892547607  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6835341453552246
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.021 seconds, peak memory: 54.968 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.968 GB
Metis partitioning: 6.435 seconds, peak memory: 54.968 GB
Split the graph: 2.328 seconds
Construct subgraphs: 0.068 seconds
REG metis partition end ----................................
REG construction  time spent:  2.810457229614258
pure dgl.metis_partition the time spent:  9.85276985168457

block_gen_time in "generate_blocks_for_one_layer_block"  0.6381256580352783


block_gen_time in "generate_blocks_for_one_layer_block"  1.268988847732544

connection checking time:  2.129025936126709
block generation total time  1.9071145057678223
pure train time  1.6544358730316162
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.140625 GB
    Memory Allocated: 0.12797021865844727  GigaBytes
Max Memory Allocated: 13.869021892547607  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.677428722381592
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.207 seconds, peak memory: 54.968 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.968 GB
Metis partitioning: 6.842 seconds, peak memory: 54.968 GB
Split the graph: 2.447 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.788700580596924
pure dgl.metis_partition the time spent:  10.514578580856323

block_gen_time in "generate_blocks_for_one_layer_block"  0.6406881809234619


block_gen_time in "generate_blocks_for_one_layer_block"  1.335831880569458

connection checking time:  2.181114912033081
block generation total time  1.97652006149292
pure train time  1.6745727062225342
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.14453125 GB
    Memory Allocated: 0.12981367111206055  GigaBytes
Max Memory Allocated: 13.869021892547607  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6716935634613037
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.189 seconds, peak memory: 55.816 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.816 GB
Metis partitioning: 6.911 seconds, peak memory: 55.816 GB
Split the graph: 2.715 seconds
Construct subgraphs: 0.015 seconds
REG metis partition end ----................................
REG construction  time spent:  3.527160406112671
pure dgl.metis_partition the time spent:  10.832984924316406

block_gen_time in "generate_blocks_for_one_layer_block"  0.6348376274108887


block_gen_time in "generate_blocks_for_one_layer_block"  1.3404438495635986

connection checking time:  2.1479907035827637
block generation total time  1.9752814769744873
generate_dataloader_block spend   19.000110387802124
pure train time  1.6679368019104004
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.14453125 GB
    Memory Allocated: 0.12844085693359375  GigaBytes
Max Memory Allocated: 13.869021892547607  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.665853500366211
epoch time :  22.00011110305786
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.181 seconds, peak memory: 57.338 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.338 GB
Metis partitioning: 6.770 seconds, peak memory: 57.338 GB
Split the graph: 2.513 seconds
Construct subgraphs: 0.007 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6374926567077637
pure dgl.metis_partition the time spent:  10.473730564117432

block_gen_time in "generate_blocks_for_one_layer_block"  0.6358120441436768


block_gen_time in "generate_blocks_for_one_layer_block"  1.2609076499938965

connection checking time:  2.0887811183929443
block generation total time  1.8967196941375732
generate_dataloader_block spend   18.61625647544861
pure train time  1.5221407413482666
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.1484375 GB
    Memory Allocated: 0.1116342544555664  GigaBytes
Max Memory Allocated: 13.869021892547607  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6597249507904053
epoch time :  21.41766881942749
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.023 seconds, peak memory: 58.552 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.552 GB
Metis partitioning: 6.526 seconds, peak memory: 58.552 GB
Split the graph: 2.659 seconds
Construct subgraphs: 0.028 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5236008167266846
pure dgl.metis_partition the time spent:  10.238004922866821

block_gen_time in "generate_blocks_for_one_layer_block"  0.6936159133911133


block_gen_time in "generate_blocks_for_one_layer_block"  1.3283286094665527

connection checking time:  2.0643672943115234
block generation total time  2.021944522857666
generate_dataloader_block spend   18.351622581481934
pure train time  1.6573412418365479
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.4892578125 GB
    Memory Allocated: 0.12569618225097656  GigaBytes
Max Memory Allocated: 13.869021892547607  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6529147624969482
epoch time :  21.280787467956543
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.198 seconds, peak memory: 61.603 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.603 GB
Metis partitioning: 6.906 seconds, peak memory: 61.603 GB
Split the graph: 2.765 seconds
Construct subgraphs: 0.010 seconds
REG metis partition end ----................................
REG construction  time spent:  3.467200994491577
pure dgl.metis_partition the time spent:  10.879969835281372

block_gen_time in "generate_blocks_for_one_layer_block"  0.6357874870300293


block_gen_time in "generate_blocks_for_one_layer_block"  1.3073532581329346

connection checking time:  2.1884491443634033
block generation total time  1.9431407451629639
generate_dataloader_block spend   18.97590708732605
pure train time  1.6588525772094727
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.1484375 GB
    Memory Allocated: 0.12926006317138672  GigaBytes
Max Memory Allocated: 13.898130416870117  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6453919410705566
epoch time :  21.99080729484558
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.301 seconds, peak memory: 62.955 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.955 GB
Metis partitioning: 7.211 seconds, peak memory: 62.955 GB
Split the graph: 3.273 seconds
Construct subgraphs: 0.013 seconds
REG metis partition end ----................................
REG construction  time spent:  3.527462959289551
pure dgl.metis_partition the time spent:  11.800939559936523

block_gen_time in "generate_blocks_for_one_layer_block"  0.6342806816101074


block_gen_time in "generate_blocks_for_one_layer_block"  1.3289024829864502

connection checking time:  2.166313648223877
block generation total time  1.9631831645965576
generate_dataloader_block spend   20.0097496509552
pure train time  1.7668769359588623
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.1484375 GB
    Memory Allocated: 0.13048744201660156  GigaBytes
Max Memory Allocated: 13.898130416870117  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.636246919631958
epoch time :  23.104049921035767
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.248 seconds, peak memory: 63.832 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.832 GB
Metis partitioning: 7.130 seconds, peak memory: 63.832 GB
Split the graph: 2.671 seconds
Construct subgraphs: 0.009 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6070713996887207
pure dgl.metis_partition the time spent:  11.059747219085693

block_gen_time in "generate_blocks_for_one_layer_block"  0.6486117839813232


block_gen_time in "generate_blocks_for_one_layer_block"  1.270845651626587

connection checking time:  2.017666816711426
block generation total time  1.9194574356079102
generate_dataloader_block spend   19.006749391555786
pure train time  1.7388172149658203
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.1484375 GB
    Memory Allocated: 0.11331844329833984  GigaBytes
Max Memory Allocated: 13.898130416870117  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.625302791595459
epoch time :  22.05547595024109
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.220 seconds, peak memory: 64.988 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.988 GB
Metis partitioning: 7.152 seconds, peak memory: 64.988 GB
Split the graph: 3.046 seconds
Construct subgraphs: 0.013 seconds
REG metis partition end ----................................
REG construction  time spent:  3.587301015853882
pure dgl.metis_partition the time spent:  11.433210134506226

block_gen_time in "generate_blocks_for_one_layer_block"  0.6332187652587891


block_gen_time in "generate_blocks_for_one_layer_block"  1.3361780643463135

connection checking time:  2.149772882461548
block generation total time  1.9693968296051025
generate_dataloader_block spend   19.659218788146973
pure train time  1.784329891204834
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.1484375 GB
    Memory Allocated: 0.1267542839050293  GigaBytes
Max Memory Allocated: 13.898130416870117  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.612802505493164
epoch time :  22.768852710723877
Total (block generation + training)time/epoch 22.088244880948746
pure train time/epoch 1.6880597670873005

num_input_list  [374851, 367933, 379133, 375343, 355299, 353771, 372261, 377594, 359350, 368938]
