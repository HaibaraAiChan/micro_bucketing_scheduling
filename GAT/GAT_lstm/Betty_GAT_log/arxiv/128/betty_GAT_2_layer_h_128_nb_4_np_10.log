main start at this time 1700886748.1725254
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.196 seconds, peak memory: 26.972 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 26.972 GB
Metis partitioning: 5.805 seconds, peak memory: 28.471 GB
Split the graph: 3.869 seconds
Construct subgraphs: 0.093 seconds
REG metis partition end ----................................
REG construction  time spent:  3.1288154125213623
pure dgl.metis_partition the time spent:  10.964366674423218

block_gen_time in "generate_blocks_for_one_layer_block"  0.6453816890716553


block_gen_time in "generate_blocks_for_one_layer_block"  1.1407361030578613

connection checking time:  1.9005024433135986
block generation total time  1.7861177921295166
pure train time  1.9122424125671387
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.55078125 GB
    Memory Allocated: 0.13175487518310547  GigaBytes
Max Memory Allocated: 17.899890899658203  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.683546781539917
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.358 seconds, peak memory: 55.255 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.255 GB
Metis partitioning: 6.496 seconds, peak memory: 56.220 GB
Split the graph: 3.864 seconds
Construct subgraphs: 0.024 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6410880088806152
pure dgl.metis_partition the time spent:  11.743577718734741

block_gen_time in "generate_blocks_for_one_layer_block"  0.6435055732727051


block_gen_time in "generate_blocks_for_one_layer_block"  1.098989725112915

connection checking time:  1.9425313472747803
block generation total time  1.7424952983856201
pure train time  1.2601470947265625
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.55078125 GB
    Memory Allocated: 0.12992191314697266  GigaBytes
Max Memory Allocated: 17.899890899658203  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6775333881378174
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.311 seconds, peak memory: 59.582 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.582 GB
Metis partitioning: 6.566 seconds, peak memory: 59.582 GB
Split the graph: 3.698 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  3.746443510055542
pure dgl.metis_partition the time spent:  11.600675582885742

block_gen_time in "generate_blocks_for_one_layer_block"  0.644092321395874


block_gen_time in "generate_blocks_for_one_layer_block"  1.148751974105835

connection checking time:  1.9718267917633057
block generation total time  1.792844295501709
pure train time  1.2437024116516113
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.55078125 GB
    Memory Allocated: 0.13115453720092773  GigaBytes
Max Memory Allocated: 17.899890899658203  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6718077659606934
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.136 seconds, peak memory: 59.819 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.819 GB
Metis partitioning: 6.632 seconds, peak memory: 59.819 GB
Split the graph: 3.600 seconds
Construct subgraphs: 0.006 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6092920303344727
pure dgl.metis_partition the time spent:  11.37623143196106

block_gen_time in "generate_blocks_for_one_layer_block"  0.6376345157623291


block_gen_time in "generate_blocks_for_one_layer_block"  1.082573652267456

connection checking time:  1.8937106132507324
block generation total time  1.7202081680297852
generate_dataloader_block spend   19.10494065284729
pure train time  1.2470669746398926
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.55078125 GB
    Memory Allocated: 0.13063478469848633  GigaBytes
Max Memory Allocated: 17.899890899658203  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6659841537475586
epoch time :  21.534586429595947
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.115 seconds, peak memory: 60.225 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.225 GB
Metis partitioning: 6.678 seconds, peak memory: 60.225 GB
Split the graph: 5.186 seconds
Construct subgraphs: 0.030 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5751702785491943
pure dgl.metis_partition the time spent:  13.010743379592896

block_gen_time in "generate_blocks_for_one_layer_block"  0.6398742198944092


block_gen_time in "generate_blocks_for_one_layer_block"  1.0812559127807617

connection checking time:  1.8954112529754639
block generation total time  1.721130132675171
generate_dataloader_block spend   20.697434425354004
pure train time  1.2230651378631592
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.55078125 GB
    Memory Allocated: 0.1321091651916504  GigaBytes
Max Memory Allocated: 17.899890899658203  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.659773349761963
epoch time :  23.10773515701294
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.263 seconds, peak memory: 60.632 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.632 GB
Metis partitioning: 6.658 seconds, peak memory: 60.632 GB
Split the graph: 3.834 seconds
Construct subgraphs: 0.010 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6030220985412598
pure dgl.metis_partition the time spent:  11.766187906265259

block_gen_time in "generate_blocks_for_one_layer_block"  0.6703896522521973


block_gen_time in "generate_blocks_for_one_layer_block"  1.065664529800415

connection checking time:  1.9163265228271484
block generation total time  1.7360541820526123
generate_dataloader_block spend   19.56315565109253
pure train time  1.8090438842773438
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.845703125 GB
    Memory Allocated: 0.13128042221069336  GigaBytes
Max Memory Allocated: 18.000903129577637  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6529457569122314
epoch time :  22.248001098632812
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.214 seconds, peak memory: 63.068 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.068 GB
Metis partitioning: 6.700 seconds, peak memory: 63.068 GB
Split the graph: 3.911 seconds
Construct subgraphs: 0.011 seconds
REG metis partition end ----................................
REG construction  time spent:  3.48814058303833
pure dgl.metis_partition the time spent:  11.837816953659058

block_gen_time in "generate_blocks_for_one_layer_block"  0.6401243209838867


block_gen_time in "generate_blocks_for_one_layer_block"  1.148193597793579

connection checking time:  1.9784965515136719
block generation total time  1.7883179187774658
generate_dataloader_block spend   19.621984720230103
pure train time  1.3178071975708008
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.515625 GB
    Memory Allocated: 0.13208770751953125  GigaBytes
Max Memory Allocated: 18.000903129577637  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.645676612854004
epoch time :  22.121132612228394
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.219 seconds, peak memory: 63.068 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.068 GB
Metis partitioning: 6.770 seconds, peak memory: 63.068 GB
Split the graph: 3.580 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7442824840545654
pure dgl.metis_partition the time spent:  11.593890190124512

block_gen_time in "generate_blocks_for_one_layer_block"  0.6394214630126953


block_gen_time in "generate_blocks_for_one_layer_block"  1.1635892391204834

connection checking time:  1.946326494216919
block generation total time  1.8030107021331787
generate_dataloader_block spend   19.62445378303528
pure train time  1.315931797027588
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.271484375 GB
    Memory Allocated: 0.11274147033691406  GigaBytes
Max Memory Allocated: 18.000903129577637  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6364388465881348
epoch time :  22.121926069259644
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.152 seconds, peak memory: 63.068 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.068 GB
Metis partitioning: 6.819 seconds, peak memory: 63.068 GB
Split the graph: 3.967 seconds
Construct subgraphs: 0.026 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5095551013946533
pure dgl.metis_partition the time spent:  11.96634840965271

block_gen_time in "generate_blocks_for_one_layer_block"  0.6384983062744141


block_gen_time in "generate_blocks_for_one_layer_block"  1.1215732097625732

connection checking time:  1.9136486053466797
block generation total time  1.7600715160369873
generate_dataloader_block spend   19.66698169708252
pure train time  1.53493332862854
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.8671875 GB
    Memory Allocated: 0.13128089904785156  GigaBytes
Max Memory Allocated: 18.000903129577637  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6257381439208984
epoch time :  22.36280107498169
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.199 seconds, peak memory: 66.113 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.113 GB
Metis partitioning: 7.003 seconds, peak memory: 66.113 GB
Split the graph: 3.553 seconds
Construct subgraphs: 0.006 seconds
REG metis partition end ----................................
REG construction  time spent:  3.771704912185669
pure dgl.metis_partition the time spent:  11.763319253921509

block_gen_time in "generate_blocks_for_one_layer_block"  0.6520919799804688


block_gen_time in "generate_blocks_for_one_layer_block"  1.1278114318847656

connection checking time:  2.040195941925049
block generation total time  1.7799034118652344
generate_dataloader_block spend   19.8806574344635
pure train time  1.4712629318237305
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.89453125 GB
    Memory Allocated: 0.1347050666809082  GigaBytes
Max Memory Allocated: 18.000903129577637  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6132421493530273
epoch time :  22.517115831375122
Total (block generation + training)time/epoch 22.287609134401595
pure train time/epoch 1.4453407128651936

num_input_list  [302417, 297415, 298700, 294342, 291060, 288239, 297753, 298906, 291627, 302415]
