main start at this time 1700887681.7026932
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.188 seconds, peak memory: 26.972 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 26.972 GB
Metis partitioning: 6.459 seconds, peak memory: 30.221 GB
Split the graph: 1.513 seconds
Construct subgraphs: 0.082 seconds
REG metis partition end ----................................
REG construction  time spent:  3.1488916873931885
pure dgl.metis_partition the time spent:  9.243534564971924

block_gen_time in "generate_blocks_for_one_layer_block"  0.6305632591247559


block_gen_time in "generate_blocks_for_one_layer_block"  1.4848227500915527

connection checking time:  2.385939598083496
block generation total time  2.1153860092163086
pure train time  2.8020219802856445
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.873046875 GB
    Memory Allocated: 0.10990047454833984  GigaBytes
Max Memory Allocated: 10.77700424194336  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6835389137268066
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.170 seconds, peak memory: 53.034 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 53.034 GB
Metis partitioning: 6.816 seconds, peak memory: 53.034 GB
Split the graph: 1.702 seconds
Construct subgraphs: 0.124 seconds
REG metis partition end ----................................
REG construction  time spent:  4.144161939620972
pure dgl.metis_partition the time spent:  9.814143657684326

block_gen_time in "generate_blocks_for_one_layer_block"  0.6441750526428223


block_gen_time in "generate_blocks_for_one_layer_block"  1.5124893188476562

connection checking time:  2.2080423831939697
block generation total time  2.1566643714904785
pure train time  2.5826876163482666
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.751953125 GB
    Memory Allocated: 0.13368606567382812  GigaBytes
Max Memory Allocated: 11.795609474182129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.677480697631836
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.287 seconds, peak memory: 58.261 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.261 GB
Metis partitioning: 6.503 seconds, peak memory: 58.261 GB
Split the graph: 2.245 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  3.577058792114258
pure dgl.metis_partition the time spent:  10.06059455871582

block_gen_time in "generate_blocks_for_one_layer_block"  0.3127768039703369


block_gen_time in "generate_blocks_for_one_layer_block"  1.470792293548584

connection checking time:  1.5261476039886475
block generation total time  1.783569097518921
pure train time  2.27783203125
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.802734375 GB
    Memory Allocated: 0.12511014938354492  GigaBytes
Max Memory Allocated: 11.795609474182129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.671769857406616
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.233 seconds, peak memory: 58.261 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.261 GB
Metis partitioning: 6.756 seconds, peak memory: 58.261 GB
Split the graph: 1.767 seconds
Construct subgraphs: 0.033 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4608612060546875
pure dgl.metis_partition the time spent:  9.7903413772583

block_gen_time in "generate_blocks_for_one_layer_block"  0.6419439315795898


block_gen_time in "generate_blocks_for_one_layer_block"  1.5158324241638184

connection checking time:  2.189819097518921
block generation total time  2.157776355743408
generate_dataloader_block spend   18.042418241500854
pure train time  2.1716208457946777
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.818359375 GB
    Memory Allocated: 0.134796142578125  GigaBytes
Max Memory Allocated: 11.930488109588623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.66591477394104
epoch time :  21.749057292938232
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.254 seconds, peak memory: 58.261 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.261 GB
Metis partitioning: 7.039 seconds, peak memory: 58.261 GB
Split the graph: 2.116 seconds
Construct subgraphs: 0.034 seconds
REG metis partition end ----................................
REG construction  time spent:  3.647549629211426
pure dgl.metis_partition the time spent:  10.445269346237183

block_gen_time in "generate_blocks_for_one_layer_block"  0.32248973846435547


block_gen_time in "generate_blocks_for_one_layer_block"  0.7736947536468506

connection checking time:  1.3265092372894287
block generation total time  1.096184492111206
generate_dataloader_block spend   17.016857862472534
pure train time  2.1973633766174316
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.818359375 GB
    Memory Allocated: 0.11069250106811523  GigaBytes
Max Memory Allocated: 11.930488109588623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6597177982330322
epoch time :  20.74272608757019
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.160 seconds, peak memory: 58.261 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.261 GB
Metis partitioning: 7.108 seconds, peak memory: 58.261 GB
Split the graph: 2.072 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.408780336380005
pure dgl.metis_partition the time spent:  10.35905408859253

block_gen_time in "generate_blocks_for_one_layer_block"  0.6451928615570068


block_gen_time in "generate_blocks_for_one_layer_block"  1.5403735637664795

connection checking time:  2.3552043437957764
block generation total time  2.1855664253234863
generate_dataloader_block spend   18.75683307647705
pure train time  2.306957960128784
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.818359375 GB
    Memory Allocated: 0.12641572952270508  GigaBytes
Max Memory Allocated: 11.930488109588623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6529297828674316
epoch time :  22.61050057411194
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.186 seconds, peak memory: 59.305 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.305 GB
Metis partitioning: 7.048 seconds, peak memory: 59.305 GB
Split the graph: 1.687 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.823540687561035
pure dgl.metis_partition the time spent:  9.937556505203247

block_gen_time in "generate_blocks_for_one_layer_block"  0.6642980575561523


block_gen_time in "generate_blocks_for_one_layer_block"  1.534386157989502

connection checking time:  2.204460620880127
block generation total time  2.1986842155456543
generate_dataloader_block spend   18.63405418395996
pure train time  2.3403351306915283
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.826171875 GB
    Memory Allocated: 0.12806367874145508  GigaBytes
Max Memory Allocated: 11.930488109588623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6452219486236572
epoch time :  22.519033432006836
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.298 seconds, peak memory: 60.594 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.594 GB
Metis partitioning: 7.058 seconds, peak memory: 60.594 GB
Split the graph: 1.887 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.470932722091675
pure dgl.metis_partition the time spent:  10.262115001678467

block_gen_time in "generate_blocks_for_one_layer_block"  0.6642670631408691


block_gen_time in "generate_blocks_for_one_layer_block"  1.5265734195709229

connection checking time:  2.4434332847595215
block generation total time  2.190840482711792
generate_dataloader_block spend   18.902219533920288
pure train time  2.272498846054077
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.826171875 GB
    Memory Allocated: 0.12569665908813477  GigaBytes
Max Memory Allocated: 11.930488109588623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6363706588745117
epoch time :  22.73983669281006
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.226 seconds, peak memory: 62.203 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.203 GB
Metis partitioning: 7.176 seconds, peak memory: 62.203 GB
Split the graph: 1.848 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.787285566329956
pure dgl.metis_partition the time spent:  10.27118992805481

block_gen_time in "generate_blocks_for_one_layer_block"  0.6350443363189697


block_gen_time in "generate_blocks_for_one_layer_block"  1.4974391460418701

connection checking time:  2.0872836112976074
block generation total time  2.13248348236084
generate_dataloader_block spend   18.749290943145752
pure train time  2.2369155883789062
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.826171875 GB
    Memory Allocated: 0.13182640075683594  GigaBytes
Max Memory Allocated: 11.930488109588623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6252663135528564
epoch time :  22.472391366958618
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.216 seconds, peak memory: 63.133 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.133 GB
Metis partitioning: 7.241 seconds, peak memory: 63.133 GB
Split the graph: 2.353 seconds
Construct subgraphs: 0.015 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5217959880828857
pure dgl.metis_partition the time spent:  10.828105926513672

block_gen_time in "generate_blocks_for_one_layer_block"  0.6400470733642578


block_gen_time in "generate_blocks_for_one_layer_block"  1.5169868469238281

connection checking time:  2.3053488731384277
block generation total time  2.157033920288086
generate_dataloader_block spend   19.293198108673096
pure train time  2.2276854515075684
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.826171875 GB
    Memory Allocated: 0.13318824768066406  GigaBytes
Max Memory Allocated: 11.930488109588623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6131880283355713
epoch time :  23.028241395950317
Total (block generation + training)time/epoch 22.265968322753906
pure train time/epoch 2.263626058896383

num_input_list  [468277, 469608, 463434, 470692, 472898, 476765, 478518, 475068, 462352, 467031]
