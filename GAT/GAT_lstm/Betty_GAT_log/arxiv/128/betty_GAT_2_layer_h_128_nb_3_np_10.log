main start at this time 1700886525.240115
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.200 seconds, peak memory: 26.975 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 26.975 GB
Metis partitioning: 5.583 seconds, peak memory: 28.473 GB
Split the graph: 3.896 seconds
Construct subgraphs: 0.098 seconds
REG metis partition end ----................................
REG construction  time spent:  3.225573778152466
pure dgl.metis_partition the time spent:  10.778839588165283

block_gen_time in "generate_blocks_for_one_layer_block"  0.6376879215240479


block_gen_time in "generate_blocks_for_one_layer_block"  0.9781603813171387

connection checking time:  1.7399907112121582
block generation total time  1.6158483028411865
pure train time  2.169175624847412
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 10.400390625 GB
    Memory Allocated: 0.13908672332763672  GigaBytes
Max Memory Allocated: 19.66391658782959  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6835436820983887
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.224 seconds, peak memory: 56.215 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.215 GB
Metis partitioning: 6.041 seconds, peak memory: 56.215 GB
Split the graph: 4.338 seconds
Construct subgraphs: 0.028 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6671977043151855
pure dgl.metis_partition the time spent:  11.632436752319336

block_gen_time in "generate_blocks_for_one_layer_block"  0.6364855766296387


block_gen_time in "generate_blocks_for_one_layer_block"  1.0695936679840088

connection checking time:  1.7688112258911133
block generation total time  1.7060792446136475
pure train time  1.0575213432312012
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.390625 GB
    Memory Allocated: 0.14205026626586914  GigaBytes
Max Memory Allocated: 19.67704153060913  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6775193214416504
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.175 seconds, peak memory: 56.215 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.215 GB
Metis partitioning: 5.892 seconds, peak memory: 56.215 GB
Split the graph: 4.371 seconds
Construct subgraphs: 0.033 seconds
REG metis partition end ----................................
REG construction  time spent:  3.569795608520508
pure dgl.metis_partition the time spent:  11.47467303276062

block_gen_time in "generate_blocks_for_one_layer_block"  0.6891040802001953


block_gen_time in "generate_blocks_for_one_layer_block"  1.0082437992095947

connection checking time:  1.8197500705718994
block generation total time  1.69734787940979
pure train time  1.6004035472869873
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.0078125 GB
    Memory Allocated: 0.13225793838500977  GigaBytes
Max Memory Allocated: 19.67704153060913  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.671806573867798
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.257 seconds, peak memory: 60.516 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.516 GB
Metis partitioning: 6.122 seconds, peak memory: 60.516 GB
Split the graph: 4.104 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.673358678817749
pure dgl.metis_partition the time spent:  11.50151538848877

block_gen_time in "generate_blocks_for_one_layer_block"  0.6400609016418457


block_gen_time in "generate_blocks_for_one_layer_block"  0.9870750904083252

connection checking time:  1.763258695602417
block generation total time  1.627135992050171
generate_dataloader_block spend   19.093653678894043
pure train time  1.029829978942871
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.435546875 GB
    Memory Allocated: 0.13883304595947266  GigaBytes
Max Memory Allocated: 19.67704153060913  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6660585403442383
epoch time :  21.209528923034668
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.063 seconds, peak memory: 60.516 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.516 GB
Metis partitioning: 5.972 seconds, peak memory: 60.516 GB
Split the graph: 4.541 seconds
Construct subgraphs: 0.027 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4589381217956543
pure dgl.metis_partition the time spent:  11.606510162353516

block_gen_time in "generate_blocks_for_one_layer_block"  0.6369786262512207


block_gen_time in "generate_blocks_for_one_layer_block"  1.0406818389892578

connection checking time:  1.7562212944030762
block generation total time  1.6776604652404785
generate_dataloader_block spend   19.00318217277527
pure train time  1.0560576915740967
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.517578125 GB
    Memory Allocated: 0.14168548583984375  GigaBytes
Max Memory Allocated: 19.67704153060913  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.660050868988037
epoch time :  21.140907049179077
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.245 seconds, peak memory: 60.516 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.516 GB
Metis partitioning: 5.909 seconds, peak memory: 60.516 GB
Split the graph: 4.350 seconds
Construct subgraphs: 0.158 seconds
REG metis partition end ----................................
REG construction  time spent:  3.654205560684204
pure dgl.metis_partition the time spent:  11.663436651229858

block_gen_time in "generate_blocks_for_one_layer_block"  0.7007544040679932


block_gen_time in "generate_blocks_for_one_layer_block"  1.0111169815063477

connection checking time:  1.7900328636169434
block generation total time  1.7118713855743408
generate_dataloader_block spend   19.307870388031006
pure train time  1.0563757419586182
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.517578125 GB
    Memory Allocated: 0.14112424850463867  GigaBytes
Max Memory Allocated: 19.67704153060913  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.653233528137207
epoch time :  21.461313724517822
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.209 seconds, peak memory: 60.516 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.516 GB
Metis partitioning: 6.030 seconds, peak memory: 60.516 GB
Split the graph: 4.269 seconds
Construct subgraphs: 0.012 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5107617378234863
pure dgl.metis_partition the time spent:  11.523059606552124

block_gen_time in "generate_blocks_for_one_layer_block"  0.6345953941345215


block_gen_time in "generate_blocks_for_one_layer_block"  1.0126268863677979

connection checking time:  1.7767305374145508
block generation total time  1.6472222805023193
generate_dataloader_block spend   18.99037265777588
pure train time  1.2881495952606201
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.4140625 GB
    Memory Allocated: 0.14019346237182617  GigaBytes
Max Memory Allocated: 19.67704153060913  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6454596519470215
epoch time :  21.412586212158203
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.252 seconds, peak memory: 61.558 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.558 GB
Metis partitioning: 5.988 seconds, peak memory: 61.558 GB
Split the graph: 4.217 seconds
Construct subgraphs: 0.015 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6407859325408936
pure dgl.metis_partition the time spent:  11.474490404129028

block_gen_time in "generate_blocks_for_one_layer_block"  0.34743809700012207


block_gen_time in "generate_blocks_for_one_layer_block"  0.5306398868560791

connection checking time:  1.2003521919250488
block generation total time  0.8780779838562012
generate_dataloader_block spend   17.714638471603394
pure train time  0.9530007839202881
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.21875 GB
    Memory Allocated: 0.14302635192871094  GigaBytes
Max Memory Allocated: 19.67704153060913  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6365647315979004
epoch time :  19.756264448165894
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.183 seconds, peak memory: 61.558 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.558 GB
Metis partitioning: 5.908 seconds, peak memory: 61.558 GB
Split the graph: 4.061 seconds
Construct subgraphs: 0.011 seconds
REG metis partition end ----................................
REG construction  time spent:  3.22900652885437
pure dgl.metis_partition the time spent:  11.165856122970581

block_gen_time in "generate_blocks_for_one_layer_block"  0.3347280025482178


block_gen_time in "generate_blocks_for_one_layer_block"  0.9110784530639648

connection checking time:  1.222393274307251
block generation total time  1.2458064556121826
generate_dataloader_block spend   17.339242458343506
pure train time  1.037893533706665
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.21875 GB
    Memory Allocated: 0.13353490829467773  GigaBytes
Max Memory Allocated: 19.67704153060913  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.626424789428711
epoch time :  19.45736813545227
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.187 seconds, peak memory: 61.558 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.558 GB
Metis partitioning: 6.145 seconds, peak memory: 61.558 GB
Split the graph: 4.279 seconds
Construct subgraphs: 0.025 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5221590995788574
pure dgl.metis_partition the time spent:  11.639123678207397

block_gen_time in "generate_blocks_for_one_layer_block"  0.6505870819091797


block_gen_time in "generate_blocks_for_one_layer_block"  1.0069191455841064

connection checking time:  1.777906894683838
block generation total time  1.6575062274932861
generate_dataloader_block spend   19.154326915740967
pure train time  1.0381219387054443
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.21875 GB
    Memory Allocated: 0.13472700119018555  GigaBytes
Max Memory Allocated: 19.67704153060913  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6128571033477783
epoch time :  21.29649329185486
Total (block generation + training)time/epoch 20.819204466683523
pure train time/epoch 1.0715998808542888

num_input_list  [250227, 253725, 248144, 251003, 252140, 255656, 255596, 252351, 251831, 252942]
