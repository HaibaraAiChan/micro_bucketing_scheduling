main start at this time 1700886125.4239206
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.209 seconds, peak memory: 26.972 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 26.972 GB
Metis partitioning: 6.049 seconds, peak memory: 28.471 GB
Split the graph: 2.251 seconds
Construct subgraphs: 0.073 seconds
REG metis partition end ----................................
REG construction  time spent:  3.174912452697754
pure dgl.metis_partition the time spent:  9.583635568618774

block_gen_time in "generate_blocks_for_one_layer_block"  0.6451566219329834


block_gen_time in "generate_blocks_for_one_layer_block"  1.337073564529419

connection checking time:  2.237283945083618
block generation total time  1.9822301864624023
pure train time  2.352315664291382
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.67578125 GB
    Memory Allocated: 0.1263432502746582  GigaBytes
Max Memory Allocated: 12.542394161224365  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6835339069366455
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.235 seconds, peak memory: 53.018 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 53.018 GB
Metis partitioning: 6.635 seconds, peak memory: 54.783 GB
Split the graph: 2.535 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6714987754821777
pure dgl.metis_partition the time spent:  10.423799753189087

block_gen_time in "generate_blocks_for_one_layer_block"  0.6352035999298096


block_gen_time in "generate_blocks_for_one_layer_block"  1.2778775691986084

connection checking time:  2.120805501937866
block generation total time  1.913081169128418
pure train time  1.8023159503936768
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.677734375 GB
    Memory Allocated: 0.12389516830444336  GigaBytes
Max Memory Allocated: 12.542394161224365  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.677586555480957
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.268 seconds, peak memory: 57.596 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.596 GB
Metis partitioning: 6.732 seconds, peak memory: 57.596 GB
Split the graph: 2.358 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5423977375030518
pure dgl.metis_partition the time spent:  10.378006219863892

block_gen_time in "generate_blocks_for_one_layer_block"  0.6391990184783936


block_gen_time in "generate_blocks_for_one_layer_block"  1.3125007152557373

connection checking time:  2.1572201251983643
block generation total time  1.9516997337341309
pure train time  2.3329646587371826
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.533203125 GB
    Memory Allocated: 0.12667369842529297  GigaBytes
Max Memory Allocated: 12.707347869873047  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6717958450317383
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.142 seconds, peak memory: 60.453 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.453 GB
Metis partitioning: 6.986 seconds, peak memory: 60.453 GB
Split the graph: 2.535 seconds
Construct subgraphs: 0.034 seconds
REG metis partition end ----................................
REG construction  time spent:  3.485323429107666
pure dgl.metis_partition the time spent:  10.698147296905518

block_gen_time in "generate_blocks_for_one_layer_block"  0.6363296508789062


block_gen_time in "generate_blocks_for_one_layer_block"  1.2868084907531738

connection checking time:  2.147279739379883
block generation total time  1.92313814163208
generate_dataloader_block spend   18.77786421775818
pure train time  1.7732858657836914
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.337890625 GB
    Memory Allocated: 0.12283754348754883  GigaBytes
Max Memory Allocated: 12.707347869873047  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6658902168273926
epoch time :  21.903444051742554
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.219 seconds, peak memory: 60.453 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.453 GB
Metis partitioning: 6.862 seconds, peak memory: 60.453 GB
Split the graph: 2.476 seconds
Construct subgraphs: 0.011 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6929898262023926
pure dgl.metis_partition the time spent:  10.569884538650513

block_gen_time in "generate_blocks_for_one_layer_block"  0.7079117298126221


block_gen_time in "generate_blocks_for_one_layer_block"  1.3814151287078857

connection checking time:  2.2841076850891113
block generation total time  2.089326858520508
generate_dataloader_block spend   19.166876077651978
pure train time  2.019484519958496
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.580078125 GB
    Memory Allocated: 0.12172985076904297  GigaBytes
Max Memory Allocated: 12.707347869873047  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6597399711608887
epoch time :  22.52818489074707
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.316 seconds, peak memory: 66.177 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.177 GB
Metis partitioning: 7.149 seconds, peak memory: 66.177 GB
Split the graph: 2.562 seconds
Construct subgraphs: 0.012 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5905444622039795
pure dgl.metis_partition the time spent:  11.04164719581604

block_gen_time in "generate_blocks_for_one_layer_block"  0.6395111083984375


block_gen_time in "generate_blocks_for_one_layer_block"  1.3171813488006592

connection checking time:  2.176025629043579
block generation total time  1.9566924571990967
generate_dataloader_block spend   19.286841869354248
pure train time  1.781418800354004
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.29296875 GB
    Memory Allocated: 0.12727069854736328  GigaBytes
Max Memory Allocated: 12.707347869873047  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6529552936553955
epoch time :  22.41548776626587
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.203 seconds, peak memory: 66.177 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.177 GB
Metis partitioning: 7.442 seconds, peak memory: 66.177 GB
Split the graph: 2.798 seconds
Construct subgraphs: 0.012 seconds
REG metis partition end ----................................
REG construction  time spent:  3.738980293273926
pure dgl.metis_partition the time spent:  11.457781076431274

block_gen_time in "generate_blocks_for_one_layer_block"  0.6348445415496826


block_gen_time in "generate_blocks_for_one_layer_block"  1.2929821014404297

connection checking time:  2.191737174987793
block generation total time  1.9278266429901123
generate_dataloader_block spend   19.832335233688354
pure train time  1.8101210594177246
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.29296875 GB
    Memory Allocated: 0.12435293197631836  GigaBytes
Max Memory Allocated: 12.707347869873047  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.645083427429199
epoch time :  22.962592363357544
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.255 seconds, peak memory: 66.177 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.177 GB
Metis partitioning: 7.596 seconds, peak memory: 66.177 GB
Split the graph: 2.892 seconds
Construct subgraphs: 0.015 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5914716720581055
pure dgl.metis_partition the time spent:  11.76129150390625

block_gen_time in "generate_blocks_for_one_layer_block"  0.632117509841919


block_gen_time in "generate_blocks_for_one_layer_block"  1.2979471683502197

connection checking time:  2.127295732498169
block generation total time  1.9300646781921387
generate_dataloader_block spend   19.94222927093506
pure train time  1.8091998100280762
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.32421875 GB
    Memory Allocated: 0.13007545471191406  GigaBytes
Max Memory Allocated: 12.707347869873047  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6364035606384277
epoch time :  23.091909885406494
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.253 seconds, peak memory: 66.177 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.177 GB
Metis partitioning: 7.365 seconds, peak memory: 66.177 GB
Split the graph: 2.295 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5195741653442383
pure dgl.metis_partition the time spent:  10.928269147872925

block_gen_time in "generate_blocks_for_one_layer_block"  0.6439826488494873


block_gen_time in "generate_blocks_for_one_layer_block"  1.3426101207733154

connection checking time:  2.214293956756592
block generation total time  1.9865927696228027
generate_dataloader_block spend   19.16300678253174
pure train time  1.8447062969207764
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.32421875 GB
    Memory Allocated: 0.12541913986206055  GigaBytes
Max Memory Allocated: 12.707347869873047  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.62541127204895
epoch time :  22.410860538482666
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.142 seconds, peak memory: 66.177 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.177 GB
Metis partitioning: 7.476 seconds, peak memory: 66.177 GB
Split the graph: 3.069 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6191248893737793
pure dgl.metis_partition the time spent:  11.703558683395386

block_gen_time in "generate_blocks_for_one_layer_block"  0.32108187675476074


block_gen_time in "generate_blocks_for_one_layer_block"  0.6617825031280518

connection checking time:  1.1124992370605469
block generation total time  0.9828643798828125
generate_dataloader_block spend   17.851728439331055
pure train time  1.6938374042510986
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.32421875 GB
    Memory Allocated: 0.1258697509765625  GigaBytes
Max Memory Allocated: 12.707347869873047  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6131811141967773
epoch time :  20.897074222564697
Total (block generation + training)time/epoch 22.31564600127084
pure train time/epoch 1.8264613151550293

num_input_list  [392948, 380976, 387667, 387521, 384715, 388310, 384268, 386372, 392812, 378827]
