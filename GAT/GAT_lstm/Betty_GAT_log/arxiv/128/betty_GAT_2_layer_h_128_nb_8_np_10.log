main start at this time 1700887446.6692355
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.220 seconds, peak memory: 26.975 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 26.975 GB
Metis partitioning: 6.460 seconds, peak memory: 30.225 GB
Split the graph: 1.854 seconds
Construct subgraphs: 0.084 seconds
REG metis partition end ----................................
REG construction  time spent:  3.1433300971984863
pure dgl.metis_partition the time spent:  9.618675947189331

block_gen_time in "generate_blocks_for_one_layer_block"  0.6344738006591797


block_gen_time in "generate_blocks_for_one_layer_block"  1.3674569129943848

connection checking time:  2.2260327339172363
block generation total time  2.0019307136535645
pure train time  2.3920772075653076
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.212890625 GB
    Memory Allocated: 0.11034250259399414  GigaBytes
Max Memory Allocated: 12.810186386108398  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6836049556732178
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.006 seconds, peak memory: 51.871 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 51.871 GB
Metis partitioning: 6.638 seconds, peak memory: 51.871 GB
Split the graph: 2.458 seconds
Construct subgraphs: 0.029 seconds
REG metis partition end ----................................
REG construction  time spent:  2.769313097000122
pure dgl.metis_partition the time spent:  10.132756233215332

block_gen_time in "generate_blocks_for_one_layer_block"  0.6334288120269775


block_gen_time in "generate_blocks_for_one_layer_block"  1.406672477722168

connection checking time:  2.2485177516937256
block generation total time  2.0401012897491455
pure train time  2.0040690898895264
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.212890625 GB
    Memory Allocated: 0.11881875991821289  GigaBytes
Max Memory Allocated: 12.810186386108398  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6774935722351074
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.335 seconds, peak memory: 55.034 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.034 GB
Metis partitioning: 6.980 seconds, peak memory: 55.034 GB
Split the graph: 2.382 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7884304523468018
pure dgl.metis_partition the time spent:  10.72034740447998

block_gen_time in "generate_blocks_for_one_layer_block"  0.3208351135253906


block_gen_time in "generate_blocks_for_one_layer_block"  1.3801226615905762

connection checking time:  1.9614794254302979
block generation total time  1.7009577751159668
pure train time  2.0199363231658936
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.212890625 GB
    Memory Allocated: 0.10781574249267578  GigaBytes
Max Memory Allocated: 12.810186386108398  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.671863317489624
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.342 seconds, peak memory: 57.343 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.343 GB
Metis partitioning: 6.839 seconds, peak memory: 57.343 GB
Split the graph: 2.574 seconds
Construct subgraphs: 0.015 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4267807006835938
pure dgl.metis_partition the time spent:  10.771966218948364

block_gen_time in "generate_blocks_for_one_layer_block"  0.6266043186187744


block_gen_time in "generate_blocks_for_one_layer_block"  1.4273765087127686

connection checking time:  2.3169915676116943
block generation total time  2.053980827331543
generate_dataloader_block spend   19.10284399986267
pure train time  2.023129463195801
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.404296875 GB
    Memory Allocated: 0.1252145767211914  GigaBytes
Max Memory Allocated: 12.934691905975342  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.665942668914795
epoch time :  22.5586895942688
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.232 seconds, peak memory: 60.624 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.624 GB
Metis partitioning: 6.940 seconds, peak memory: 60.624 GB
Split the graph: 2.161 seconds
Construct subgraphs: 0.031 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8625619411468506
pure dgl.metis_partition the time spent:  10.365593194961548

block_gen_time in "generate_blocks_for_one_layer_block"  0.633216381072998


block_gen_time in "generate_blocks_for_one_layer_block"  1.4168727397918701

connection checking time:  2.3539350032806396
block generation total time  2.050089120864868
generate_dataloader_block spend   19.15973448753357
pure train time  2.0122880935668945
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.42578125 GB
    Memory Allocated: 0.1105504035949707  GigaBytes
Max Memory Allocated: 12.934691905975342  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.659879446029663
epoch time :  22.666500568389893
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.204 seconds, peak memory: 61.289 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.289 GB
Metis partitioning: 6.778 seconds, peak memory: 61.289 GB
Split the graph: 3.020 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.419733762741089
pure dgl.metis_partition the time spent:  11.018489599227905

block_gen_time in "generate_blocks_for_one_layer_block"  0.6320254802703857


block_gen_time in "generate_blocks_for_one_layer_block"  1.4284069538116455

connection checking time:  2.264241933822632
block generation total time  2.0604324340820312
generate_dataloader_block spend   19.2878315448761
pure train time  2.120143413543701
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.42578125 GB
    Memory Allocated: 0.12463998794555664  GigaBytes
Max Memory Allocated: 12.934691905975342  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6530699729919434
epoch time :  22.827972650527954
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.255 seconds, peak memory: 61.684 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.684 GB
Metis partitioning: 6.890 seconds, peak memory: 61.684 GB
Split the graph: 2.212 seconds
Construct subgraphs: 0.013 seconds
REG metis partition end ----................................
REG construction  time spent:  3.881385087966919
pure dgl.metis_partition the time spent:  10.372960090637207

block_gen_time in "generate_blocks_for_one_layer_block"  0.6373608112335205


block_gen_time in "generate_blocks_for_one_layer_block"  1.4170598983764648

connection checking time:  2.1761248111724854
block generation total time  2.0544207096099854
generate_dataloader_block spend   19.014768600463867
pure train time  2.016338586807251
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.42578125 GB
    Memory Allocated: 0.13385343551635742  GigaBytes
Max Memory Allocated: 12.955322742462158  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.645653247833252
epoch time :  22.4540958404541
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.323 seconds, peak memory: 64.197 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.197 GB
Metis partitioning: 7.070 seconds, peak memory: 64.197 GB
Split the graph: 2.454 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.3989436626434326
pure dgl.metis_partition the time spent:  10.864839792251587

block_gen_time in "generate_blocks_for_one_layer_block"  0.6428723335266113


block_gen_time in "generate_blocks_for_one_layer_block"  1.4118871688842773

connection checking time:  2.3645498752593994
block generation total time  2.0547595024108887
generate_dataloader_block spend   19.219074010849
pure train time  1.9663615226745605
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.42578125 GB
    Memory Allocated: 0.12546157836914062  GigaBytes
Max Memory Allocated: 12.955322742462158  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.636688709259033
epoch time :  22.668715238571167
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.268 seconds, peak memory: 66.334 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.334 GB
Metis partitioning: 7.221 seconds, peak memory: 66.334 GB
Split the graph: 2.286 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5755038261413574
pure dgl.metis_partition the time spent:  10.79098892211914

block_gen_time in "generate_blocks_for_one_layer_block"  0.31963181495666504


block_gen_time in "generate_blocks_for_one_layer_block"  0.7275655269622803

connection checking time:  1.2772698402404785
block generation total time  1.0471973419189453
generate_dataloader_block spend   17.183855056762695
pure train time  1.8731186389923096
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.42578125 GB
    Memory Allocated: 0.12455987930297852  GigaBytes
Max Memory Allocated: 12.955322742462158  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.626049280166626
epoch time :  20.49936556816101
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.183 seconds, peak memory: 67.959 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 67.959 GB
Metis partitioning: 7.474 seconds, peak memory: 67.959 GB
Split the graph: 2.666 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.620096206665039
pure dgl.metis_partition the time spent:  11.340922594070435

block_gen_time in "generate_blocks_for_one_layer_block"  0.6391210556030273


block_gen_time in "generate_blocks_for_one_layer_block"  1.3893506526947021

connection checking time:  2.2749710083007812
block generation total time  2.0284717082977295
generate_dataloader_block spend   19.7897367477417
pure train time  1.9978423118591309
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.42578125 GB
    Memory Allocated: 0.1244516372680664  GigaBytes
Max Memory Allocated: 12.955322742462158  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6133873462677
epoch time :  23.255465984344482
Total (block generation + training)time/epoch 22.41868499347142
pure train time/epoch 1.9976820945739746

num_input_list  [423471, 419560, 419649, 419408, 433613, 418170, 423026, 428823, 420250, 427550]
