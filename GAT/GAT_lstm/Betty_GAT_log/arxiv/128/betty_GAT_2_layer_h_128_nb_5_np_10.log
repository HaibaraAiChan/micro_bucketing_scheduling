main start at this time 1700886983.1875002
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.215 seconds, peak memory: 27.069 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.069 GB
Metis partitioning: 5.814 seconds, peak memory: 28.567 GB
Split the graph: 2.717 seconds
Construct subgraphs: 0.094 seconds
REG metis partition end ----................................
REG construction  time spent:  3.130236864089966
pure dgl.metis_partition the time spent:  9.841570854187012

block_gen_time in "generate_blocks_for_one_layer_block"  0.6331543922424316


block_gen_time in "generate_blocks_for_one_layer_block"  1.2044107913970947

connection checking time:  1.9781217575073242
block generation total time  1.8375651836395264
pure train time  1.819636344909668
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.251953125 GB
    Memory Allocated: 0.13254976272583008  GigaBytes
Max Memory Allocated: 15.382062911987305  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6835455894470215
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.019 seconds, peak memory: 55.478 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.478 GB
Metis partitioning: 6.483 seconds, peak memory: 57.228 GB
Split the graph: 2.698 seconds
Construct subgraphs: 0.069 seconds
REG metis partition end ----................................
REG construction  time spent:  2.835299491882324
pure dgl.metis_partition the time spent:  10.271079778671265

block_gen_time in "generate_blocks_for_one_layer_block"  0.6432476043701172


block_gen_time in "generate_blocks_for_one_layer_block"  1.260056972503662

connection checking time:  2.0949814319610596
block generation total time  1.9033045768737793
pure train time  1.5010206699371338
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.251953125 GB
    Memory Allocated: 0.13269615173339844  GigaBytes
Max Memory Allocated: 15.382062911987305  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.677490472793579
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.266 seconds, peak memory: 60.163 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.163 GB
Metis partitioning: 6.521 seconds, peak memory: 60.163 GB
Split the graph: 2.928 seconds
Construct subgraphs: 0.010 seconds
REG metis partition end ----................................
REG construction  time spent:  3.957726240158081
pure dgl.metis_partition the time spent:  10.726372003555298

block_gen_time in "generate_blocks_for_one_layer_block"  0.6466405391693115


block_gen_time in "generate_blocks_for_one_layer_block"  1.2087945938110352

connection checking time:  2.070038318634033
block generation total time  1.8554351329803467
pure train time  1.8830580711364746
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.37109375 GB
    Memory Allocated: 0.13002586364746094  GigaBytes
Max Memory Allocated: 15.568541049957275  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.671851634979248
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.179 seconds, peak memory: 62.191 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.191 GB
Metis partitioning: 6.518 seconds, peak memory: 62.191 GB
Split the graph: 3.278 seconds
Construct subgraphs: 0.010 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7642362117767334
pure dgl.metis_partition the time spent:  10.986513137817383

block_gen_time in "generate_blocks_for_one_layer_block"  0.6565275192260742


block_gen_time in "generate_blocks_for_one_layer_block"  1.2493071556091309

connection checking time:  2.0232737064361572
block generation total time  1.905834674835205
generate_dataloader_block spend   19.235433340072632
pure train time  1.4853103160858154
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.416015625 GB
    Memory Allocated: 0.1309642791748047  GigaBytes
Max Memory Allocated: 15.568541049957275  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.665945053100586
epoch time :  21.971667051315308
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.215 seconds, peak memory: 62.191 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.191 GB
Metis partitioning: 7.061 seconds, peak memory: 62.191 GB
Split the graph: 3.099 seconds
Construct subgraphs: 0.012 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9920945167541504
pure dgl.metis_partition the time spent:  11.38952350616455

block_gen_time in "generate_blocks_for_one_layer_block"  0.654883861541748


block_gen_time in "generate_blocks_for_one_layer_block"  1.207521915435791

connection checking time:  2.013460636138916
block generation total time  1.862405776977539
generate_dataloader_block spend   19.802586793899536
pure train time  1.445261001586914
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.064453125 GB
    Memory Allocated: 0.12881135940551758  GigaBytes
Max Memory Allocated: 15.640535354614258  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.659870147705078
epoch time :  22.49713397026062
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.222 seconds, peak memory: 63.035 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.035 GB
Metis partitioning: 6.742 seconds, peak memory: 63.035 GB
Split the graph: 3.392 seconds
Construct subgraphs: 0.011 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7307817935943604
pure dgl.metis_partition the time spent:  11.369246006011963

block_gen_time in "generate_blocks_for_one_layer_block"  0.643796443939209


block_gen_time in "generate_blocks_for_one_layer_block"  1.1874663829803467

connection checking time:  1.9787101745605469
block generation total time  1.8312628269195557
generate_dataloader_block spend   19.446056127548218
pure train time  1.4408864974975586
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.064453125 GB
    Memory Allocated: 0.12917470932006836  GigaBytes
Max Memory Allocated: 15.640535354614258  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6530308723449707
epoch time :  22.167664289474487
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.190 seconds, peak memory: 66.064 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.064 GB
Metis partitioning: 6.838 seconds, peak memory: 66.064 GB
Split the graph: 2.837 seconds
Construct subgraphs: 0.011 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6551074981689453
pure dgl.metis_partition the time spent:  10.87814998626709

block_gen_time in "generate_blocks_for_one_layer_block"  0.6344060897827148


block_gen_time in "generate_blocks_for_one_layer_block"  1.2173380851745605

connection checking time:  2.081157684326172
block generation total time  1.8517441749572754
generate_dataloader_block spend   18.991442441940308
pure train time  1.659712314605713
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.462890625 GB
    Memory Allocated: 0.13311529159545898  GigaBytes
Max Memory Allocated: 15.80254077911377  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.645644187927246
epoch time :  21.959266901016235
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.261 seconds, peak memory: 70.270 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 70.270 GB
Metis partitioning: 6.882 seconds, peak memory: 70.270 GB
Split the graph: 3.505 seconds
Construct subgraphs: 0.011 seconds
REG metis partition end ----................................
REG construction  time spent:  3.769484758377075
pure dgl.metis_partition the time spent:  11.66191840171814

block_gen_time in "generate_blocks_for_one_layer_block"  0.6409635543823242


block_gen_time in "generate_blocks_for_one_layer_block"  1.19004487991333

connection checking time:  2.008648633956909
block generation total time  1.8310084342956543
generate_dataloader_block spend   19.799455165863037
pure train time  1.429652214050293
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.521484375 GB
    Memory Allocated: 0.13034677505493164  GigaBytes
Max Memory Allocated: 15.80254077911377  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.636516571044922
epoch time :  22.504331588745117
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.205 seconds, peak memory: 70.270 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 70.270 GB
Metis partitioning: 7.038 seconds, peak memory: 70.270 GB
Split the graph: 3.048 seconds
Construct subgraphs: 0.012 seconds
REG metis partition end ----................................
REG construction  time spent:  3.679837226867676
pure dgl.metis_partition the time spent:  11.30576467514038

block_gen_time in "generate_blocks_for_one_layer_block"  0.6447463035583496


block_gen_time in "generate_blocks_for_one_layer_block"  1.2159521579742432

connection checking time:  2.0356435775756836
block generation total time  1.8606984615325928
generate_dataloader_block spend   19.41179609298706
pure train time  1.479142427444458
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.521484375 GB
    Memory Allocated: 0.13176536560058594  GigaBytes
Max Memory Allocated: 15.80254077911377  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6261367797851562
epoch time :  22.162842988967896
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.210 seconds, peak memory: 70.270 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 70.270 GB
Metis partitioning: 7.264 seconds, peak memory: 70.270 GB
Split the graph: 3.161 seconds
Construct subgraphs: 0.015 seconds
REG metis partition end ----................................
REG construction  time spent:  3.821751594543457
pure dgl.metis_partition the time spent:  11.651966571807861

block_gen_time in "generate_blocks_for_one_layer_block"  0.6410098075866699


block_gen_time in "generate_blocks_for_one_layer_block"  1.213618278503418

connection checking time:  2.0309176445007324
block generation total time  1.854628086090088
generate_dataloader_block spend   19.88284921646118
pure train time  1.453730583190918
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.521484375 GB
    Memory Allocated: 0.1321415901184082  GigaBytes
Max Memory Allocated: 15.80254077911377  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6134023666381836
epoch time :  22.612197637557983
Total (block generation + training)time/epoch 22.267866441181727
pure train time/epoch 1.484730839729309

num_input_list  [337019, 348354, 331987, 332405, 333818, 326854, 340622, 333886, 333384, 338295]
