main start at this time 1700887916.9145606
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.189 seconds, peak memory: 26.970 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 26.970 GB
Metis partitioning: 6.537 seconds, peak memory: 30.218 GB
Split the graph: 1.195 seconds
Construct subgraphs: 0.062 seconds
REG metis partition end ----................................
REG construction  time spent:  3.0516836643218994
pure dgl.metis_partition the time spent:  8.984743118286133

block_gen_time in "generate_blocks_for_one_layer_block"  0.6376452445983887


block_gen_time in "generate_blocks_for_one_layer_block"  1.6285529136657715

connection checking time:  2.332890272140503
block generation total time  2.26619815826416
pure train time  3.383526563644409
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.17578125 GB
    Memory Allocated: 0.11559534072875977  GigaBytes
Max Memory Allocated: 9.568607807159424  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.683568000793457
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.343 seconds, peak memory: 51.898 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 51.898 GB
Metis partitioning: 7.445 seconds, peak memory: 51.898 GB
Split the graph: 1.546 seconds
Construct subgraphs: 0.025 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5116190910339355
pure dgl.metis_partition the time spent:  10.361866235733032

block_gen_time in "generate_blocks_for_one_layer_block"  0.636662483215332


block_gen_time in "generate_blocks_for_one_layer_block"  1.6429738998413086

connection checking time:  2.646062135696411
block generation total time  2.2796363830566406
pure train time  3.0173375606536865
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.07421875 GB
    Memory Allocated: 0.1284346580505371  GigaBytes
Max Memory Allocated: 9.603633403778076  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.677490472793579
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.218 seconds, peak memory: 56.992 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.992 GB
Metis partitioning: 6.728 seconds, peak memory: 56.992 GB
Split the graph: 1.505 seconds
Construct subgraphs: 0.028 seconds
REG metis partition end ----................................
REG construction  time spent:  3.468264579772949
pure dgl.metis_partition the time spent:  9.480944633483887

block_gen_time in "generate_blocks_for_one_layer_block"  0.32317543029785156


block_gen_time in "generate_blocks_for_one_layer_block"  1.6744532585144043

connection checking time:  2.0465095043182373
block generation total time  1.9976286888122559
pure train time  3.0303726196289062
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.07421875 GB
    Memory Allocated: 0.12881088256835938  GigaBytes
Max Memory Allocated: 9.603633403778076  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6716346740722656
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.221 seconds, peak memory: 57.968 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.968 GB
Metis partitioning: 6.703 seconds, peak memory: 57.968 GB
Split the graph: 1.333 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7258410453796387
pure dgl.metis_partition the time spent:  9.274890422821045

block_gen_time in "generate_blocks_for_one_layer_block"  0.3216676712036133


block_gen_time in "generate_blocks_for_one_layer_block"  1.6778817176818848

connection checking time:  2.1957976818084717
block generation total time  1.999549388885498
generate_dataloader_block spend   17.65063452720642
pure train time  3.050828695297241
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.07421875 GB
    Memory Allocated: 0.12745380401611328  GigaBytes
Max Memory Allocated: 9.603633403778076  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6658935546875
epoch time :  22.408752918243408
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.275 seconds, peak memory: 59.581 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.581 GB
Metis partitioning: 6.962 seconds, peak memory: 59.581 GB
Split the graph: 1.288 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.527055501937866
pure dgl.metis_partition the time spent:  9.544811248779297

block_gen_time in "generate_blocks_for_one_layer_block"  0.6479339599609375


block_gen_time in "generate_blocks_for_one_layer_block"  1.6493594646453857

connection checking time:  2.6277687549591064
block generation total time  2.2972934246063232
generate_dataloader_block spend   18.5090970993042
pure train time  3.029770612716675
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.07421875 GB
    Memory Allocated: 0.10941171646118164  GigaBytes
Max Memory Allocated: 9.603633403778076  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6596176624298096
epoch time :  23.213478565216064
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.296 seconds, peak memory: 60.436 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.436 GB
Metis partitioning: 7.127 seconds, peak memory: 60.436 GB
Split the graph: 1.486 seconds
Construct subgraphs: 0.024 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9023358821868896
pure dgl.metis_partition the time spent:  9.935410261154175

block_gen_time in "generate_blocks_for_one_layer_block"  0.645735502243042


block_gen_time in "generate_blocks_for_one_layer_block"  1.6831932067871094

connection checking time:  2.6718909740448
block generation total time  2.3289287090301514
generate_dataloader_block spend   19.398909330368042
pure train time  3.0166664123535156
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.07421875 GB
    Memory Allocated: 0.13268756866455078  GigaBytes
Max Memory Allocated: 9.603633403778076  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6530492305755615
epoch time :  24.111281394958496
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.290 seconds, peak memory: 61.113 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.113 GB
Metis partitioning: 7.176 seconds, peak memory: 61.113 GB
Split the graph: 1.371 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4392881393432617
pure dgl.metis_partition the time spent:  9.859435081481934

block_gen_time in "generate_blocks_for_one_layer_block"  0.6501328945159912


block_gen_time in "generate_blocks_for_one_layer_block"  1.666386365890503

connection checking time:  2.46803879737854
block generation total time  2.316519260406494
generate_dataloader_block spend   18.627056121826172
pure train time  3.0403120517730713
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.07421875 GB
    Memory Allocated: 0.1322932243347168  GigaBytes
Max Memory Allocated: 9.603633403778076  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6454312801361084
epoch time :  23.331185817718506
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.216 seconds, peak memory: 62.301 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.301 GB
Metis partitioning: 7.498 seconds, peak memory: 62.301 GB
Split the graph: 2.033 seconds
Construct subgraphs: 0.024 seconds
REG metis partition end ----................................
REG construction  time spent:  3.523963689804077
pure dgl.metis_partition the time spent:  10.773872137069702

block_gen_time in "generate_blocks_for_one_layer_block"  0.6362297534942627


block_gen_time in "generate_blocks_for_one_layer_block"  1.6477892398834229

connection checking time:  2.5811638832092285
block generation total time  2.2840189933776855
generate_dataloader_block spend   19.676619052886963
pure train time  2.986053466796875
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.07421875 GB
    Memory Allocated: 0.13129472732543945  GigaBytes
Max Memory Allocated: 9.603633403778076  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6367077827453613
epoch time :  24.268615245819092
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.237 seconds, peak memory: 63.020 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.020 GB
Metis partitioning: 7.266 seconds, peak memory: 63.020 GB
Split the graph: 1.617 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5118188858032227
pure dgl.metis_partition the time spent:  10.140918731689453

block_gen_time in "generate_blocks_for_one_layer_block"  0.6426787376403809


block_gen_time in "generate_blocks_for_one_layer_block"  1.636718988418579

connection checking time:  2.6657614707946777
block generation total time  2.27939772605896
generate_dataloader_block spend   19.141390323638916
pure train time  3.510234832763672
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.845703125 GB
    Memory Allocated: 0.12808942794799805  GigaBytes
Max Memory Allocated: 9.65868854522705  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6261916160583496
epoch time :  24.148426055908203
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.230 seconds, peak memory: 65.325 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.325 GB
Metis partitioning: 7.466 seconds, peak memory: 65.325 GB
Split the graph: 1.436 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.677825450897217
pure dgl.metis_partition the time spent:  10.151008605957031

block_gen_time in "generate_blocks_for_one_layer_block"  0.6609764099121094


block_gen_time in "generate_blocks_for_one_layer_block"  1.666764497756958

connection checking time:  2.3617167472839355
block generation total time  2.3277409076690674
generate_dataloader_block spend   18.980112314224243
pure train time  3.0542335510253906
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.634765625 GB
    Memory Allocated: 0.13298273086547852  GigaBytes
Max Memory Allocated: 9.65868854522705  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.612671375274658
epoch time :  23.707541704177856
Total (block generation + training)time/epoch 23.59846796308245
pure train time/epoch 3.1062118212381997

num_input_list  [559999, 546903, 546608, 563954, 548095, 564248, 554107, 545031, 547821, 555608]
