main start at this time 1700537653.3506985
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.223 seconds, peak memory: 27.002 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.002 GB
Metis partitioning: 6.221 seconds, peak memory: 28.502 GB
Split the graph: 0.955 seconds
Construct subgraphs: 0.092 seconds
REG metis partition end ----................................
REG construction  time spent:  3.0610294342041016
pure dgl.metis_partition the time spent:  8.494945287704468

block_gen_time in "generate_blocks_for_one_layer_block"  0.6468260288238525


block_gen_time in "generate_blocks_for_one_layer_block"  1.8332712650299072

connection checking time:  2.8584537506103516
block generation total time  2.4800972938537598
pure train time  6.842868804931641
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.259765625 GB
    Memory Allocated: 0.2218189239501953  GigaBytes
Max Memory Allocated: 15.166882514953613  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6988515853881836
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.415 seconds, peak memory: 55.329 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.329 GB
Metis partitioning: 7.176 seconds, peak memory: 55.329 GB
Split the graph: 1.192 seconds
Construct subgraphs: 0.144 seconds
REG metis partition end ----................................
REG construction  time spent:  3.661050796508789
pure dgl.metis_partition the time spent:  9.929063081741333

block_gen_time in "generate_blocks_for_one_layer_block"  0.6714577674865723


block_gen_time in "generate_blocks_for_one_layer_block"  1.8751611709594727

connection checking time:  2.58209228515625
block generation total time  2.546618938446045
pure train time  6.992659091949463
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.970703125 GB
    Memory Allocated: 0.21990728378295898  GigaBytes
Max Memory Allocated: 15.502742767333984  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.691210985183716
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.263 seconds, peak memory: 59.103 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.103 GB
Metis partitioning: 6.705 seconds, peak memory: 59.103 GB
Split the graph: 1.063 seconds
Construct subgraphs: 0.110 seconds
REG metis partition end ----................................
REG construction  time spent:  3.326352834701538
pure dgl.metis_partition the time spent:  9.14377760887146

block_gen_time in "generate_blocks_for_one_layer_block"  0.6607472896575928


block_gen_time in "generate_blocks_for_one_layer_block"  1.8216757774353027

connection checking time:  2.8530690670013428
block generation total time  2.4824230670928955
pure train time  6.439165353775024
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.771484375 GB
    Memory Allocated: 0.22030401229858398  GigaBytes
Max Memory Allocated: 15.505330562591553  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6842384338378906
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.245 seconds, peak memory: 60.325 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.325 GB
Metis partitioning: 7.121 seconds, peak memory: 60.325 GB
Split the graph: 1.234 seconds
Construct subgraphs: 0.134 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4703752994537354
pure dgl.metis_partition the time spent:  9.735916376113892

block_gen_time in "generate_blocks_for_one_layer_block"  0.6525423526763916


block_gen_time in "generate_blocks_for_one_layer_block"  1.7973363399505615

connection checking time:  2.8623814582824707
block generation total time  2.449878692626953
generate_dataloader_block spend   19.005784034729004
pure train time  6.0628602504730225
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.771484375 GB
    Memory Allocated: 0.21503400802612305  GigaBytes
Max Memory Allocated: 15.505330562591553  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6769299507141113
epoch time :  31.278571844100952
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.173 seconds, peak memory: 60.325 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.325 GB
Metis partitioning: 7.079 seconds, peak memory: 60.325 GB
Split the graph: 1.188 seconds
Construct subgraphs: 0.114 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4022109508514404
pure dgl.metis_partition the time spent:  9.555772304534912

block_gen_time in "generate_blocks_for_one_layer_block"  0.6508355140686035


block_gen_time in "generate_blocks_for_one_layer_block"  1.8152365684509277

connection checking time:  2.616081476211548
block generation total time  2.4660720825195312
generate_dataloader_block spend   18.446237325668335
pure train time  6.132976055145264
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.771484375 GB
    Memory Allocated: 0.2076869010925293  GigaBytes
Max Memory Allocated: 15.505330562591553  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.668646812438965
epoch time :  30.791465520858765
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.190 seconds, peak memory: 60.325 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.325 GB
Metis partitioning: 7.309 seconds, peak memory: 60.325 GB
Split the graph: 1.319 seconds
Construct subgraphs: 0.126 seconds
REG metis partition end ----................................
REG construction  time spent:  3.526989459991455
pure dgl.metis_partition the time spent:  9.945285081863403

block_gen_time in "generate_blocks_for_one_layer_block"  0.6765367984771729


block_gen_time in "generate_blocks_for_one_layer_block"  1.762493371963501

connection checking time:  2.8539061546325684
block generation total time  2.439030170440674
generate_dataloader_block spend   19.271028757095337
pure train time  6.176544427871704
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.775390625 GB
    Memory Allocated: 0.22127580642700195  GigaBytes
Max Memory Allocated: 15.505330562591553  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6587955951690674
epoch time :  31.533360481262207
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.186 seconds, peak memory: 60.325 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.325 GB
Metis partitioning: 7.125 seconds, peak memory: 60.325 GB
Split the graph: 1.047 seconds
Construct subgraphs: 0.128 seconds
REG metis partition end ----................................
REG construction  time spent:  3.533116579055786
pure dgl.metis_partition the time spent:  9.489100456237793

block_gen_time in "generate_blocks_for_one_layer_block"  0.6676738262176514


block_gen_time in "generate_blocks_for_one_layer_block"  1.8623669147491455

connection checking time:  2.943735122680664
block generation total time  2.530040740966797
generate_dataloader_block spend   19.004015684127808
pure train time  6.356616735458374
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.302734375 GB
    Memory Allocated: 0.22608566284179688  GigaBytes
Max Memory Allocated: 15.727085590362549  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6464784145355225
epoch time :  31.724488973617554
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.167 seconds, peak memory: 64.075 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.075 GB
Metis partitioning: 7.017 seconds, peak memory: 64.075 GB
Split the graph: 1.233 seconds
Construct subgraphs: 0.102 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4470698833465576
pure dgl.metis_partition the time spent:  9.520622730255127

block_gen_time in "generate_blocks_for_one_layer_block"  0.6703431606292725


block_gen_time in "generate_blocks_for_one_layer_block"  1.8489220142364502

connection checking time:  2.83349609375
block generation total time  2.5192651748657227
generate_dataloader_block spend   18.694262742996216
pure train time  6.222931146621704
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.30859375 GB
    Memory Allocated: 0.2204151153564453  GigaBytes
Max Memory Allocated: 15.727085590362549  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.632096290588379
epoch time :  31.21773386001587
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.307 seconds, peak memory: 64.075 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.075 GB
Metis partitioning: 6.939 seconds, peak memory: 64.075 GB
Split the graph: 1.101 seconds
Construct subgraphs: 0.135 seconds
REG metis partition end ----................................
REG construction  time spent:  3.601820707321167
pure dgl.metis_partition the time spent:  9.483918905258179

block_gen_time in "generate_blocks_for_one_layer_block"  0.6487627029418945


block_gen_time in "generate_blocks_for_one_layer_block"  1.7721748352050781

connection checking time:  2.8207571506500244
block generation total time  2.4209375381469727
generate_dataloader_block spend   18.824532508850098
pure train time  6.031465291976929
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.30859375 GB
    Memory Allocated: 0.21843671798706055  GigaBytes
Max Memory Allocated: 15.727085590362549  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6176960468292236
epoch time :  30.92354702949524
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.202 seconds, peak memory: 64.075 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.075 GB
Metis partitioning: 7.108 seconds, peak memory: 64.075 GB
Split the graph: 1.137 seconds
Construct subgraphs: 0.135 seconds
REG metis partition end ----................................
REG construction  time spent:  3.2797906398773193
pure dgl.metis_partition the time spent:  9.583961963653564

block_gen_time in "generate_blocks_for_one_layer_block"  0.7019617557525635


block_gen_time in "generate_blocks_for_one_layer_block"  1.7686800956726074

connection checking time:  2.64809513092041
block generation total time  2.470641851425171
generate_dataloader_block spend   18.400389671325684
pure train time  6.2693517208099365
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.19140625 GB
    Memory Allocated: 0.20683717727661133  GigaBytes
Max Memory Allocated: 16.1858811378479  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.602857828140259
epoch time :  30.727638721466064
Total (block generation + training)time/epoch 31.17096999713353
pure train time/epoch 6.198314229647319

num_input_list  [672536, 659255, 661331, 654777, 655626, 644589, 678057, 671714, 637779, 634469]
