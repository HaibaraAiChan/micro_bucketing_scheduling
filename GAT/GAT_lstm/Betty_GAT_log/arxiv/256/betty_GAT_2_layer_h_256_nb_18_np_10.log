main start at this time 1700537337.6096702
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.178 seconds, peak memory: 27.006 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.006 GB
Metis partitioning: 6.401 seconds, peak memory: 28.504 GB
Split the graph: 1.151 seconds
Construct subgraphs: 0.062 seconds
REG metis partition end ----................................
REG construction  time spent:  3.1777594089508057
pure dgl.metis_partition the time spent:  8.79447603225708

block_gen_time in "generate_blocks_for_one_layer_block"  0.6583011150360107


block_gen_time in "generate_blocks_for_one_layer_block"  1.7827792167663574

connection checking time:  2.5483624935150146
block generation total time  2.441080331802368
pure train time  6.9312779903411865
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.9296875 GB
    Memory Allocated: 0.2076730728149414  GigaBytes
Max Memory Allocated: 15.592020988464355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.698857545852661
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.266 seconds, peak memory: 55.376 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.376 GB
Metis partitioning: 6.343 seconds, peak memory: 55.376 GB
Split the graph: 1.061 seconds
Construct subgraphs: 0.151 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5712316036224365
pure dgl.metis_partition the time spent:  8.824049472808838

block_gen_time in "generate_blocks_for_one_layer_block"  0.6719622611999512


block_gen_time in "generate_blocks_for_one_layer_block"  1.8308472633361816

connection checking time:  2.643958806991577
block generation total time  2.502809524536133
pure train time  6.1798930168151855
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.640625 GB
    Memory Allocated: 0.20723772048950195  GigaBytes
Max Memory Allocated: 15.964910507202148  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6912519931793213
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.163 seconds, peak memory: 58.024 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.024 GB
Metis partitioning: 6.591 seconds, peak memory: 58.024 GB
Split the graph: 1.198 seconds
Construct subgraphs: 0.128 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5665314197540283
pure dgl.metis_partition the time spent:  9.081843852996826

block_gen_time in "generate_blocks_for_one_layer_block"  0.6889629364013672


block_gen_time in "generate_blocks_for_one_layer_block"  1.7635347843170166

connection checking time:  2.6107895374298096
block generation total time  2.452497720718384
pure train time  5.738364934921265
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.671875 GB
    Memory Allocated: 0.22256040573120117  GigaBytes
Max Memory Allocated: 15.964910507202148  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6840898990631104
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.194 seconds, peak memory: 58.024 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.024 GB
Metis partitioning: 7.237 seconds, peak memory: 58.024 GB
Split the graph: 1.166 seconds
Construct subgraphs: 0.142 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6803319454193115
pure dgl.metis_partition the time spent:  9.740849733352661

block_gen_time in "generate_blocks_for_one_layer_block"  0.6481404304504395


block_gen_time in "generate_blocks_for_one_layer_block"  1.6885662078857422

connection checking time:  2.775286912918091
block generation total time  2.3367066383361816
generate_dataloader_block spend   19.035724401474
pure train time  5.585278034210205
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.67578125 GB
    Memory Allocated: 0.21849393844604492  GigaBytes
Max Memory Allocated: 15.964910507202148  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.676955223083496
epoch time :  30.47474217414856
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.181 seconds, peak memory: 58.024 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.024 GB
Metis partitioning: 6.972 seconds, peak memory: 58.024 GB
Split the graph: 1.399 seconds
Construct subgraphs: 0.122 seconds
REG metis partition end ----................................
REG construction  time spent:  3.551750659942627
pure dgl.metis_partition the time spent:  9.675731658935547

block_gen_time in "generate_blocks_for_one_layer_block"  0.6408183574676514


block_gen_time in "generate_blocks_for_one_layer_block"  1.7814302444458008

connection checking time:  2.6002254486083984
block generation total time  2.422248601913452
generate_dataloader_block spend   18.74959111213684
pure train time  5.546428442001343
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.67578125 GB
    Memory Allocated: 0.21834230422973633  GigaBytes
Max Memory Allocated: 15.964910507202148  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6689891815185547
epoch time :  30.12916898727417
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.069 seconds, peak memory: 58.024 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.024 GB
Metis partitioning: 7.976 seconds, peak memory: 58.024 GB
Split the graph: 1.328 seconds
Construct subgraphs: 0.142 seconds
REG metis partition end ----................................
REG construction  time spent:  3.480902671813965
pure dgl.metis_partition the time spent:  10.516642808914185

block_gen_time in "generate_blocks_for_one_layer_block"  0.631523847579956


block_gen_time in "generate_blocks_for_one_layer_block"  1.677304983139038

connection checking time:  2.7312560081481934
block generation total time  2.308828830718994
generate_dataloader_block spend   19.547943592071533
pure train time  5.64622950553894
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.677734375 GB
    Memory Allocated: 0.2195873260498047  GigaBytes
Max Memory Allocated: 15.964910507202148  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.658921957015991
epoch time :  30.984841346740723
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.157 seconds, peak memory: 58.024 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.024 GB
Metis partitioning: 7.041 seconds, peak memory: 58.024 GB
Split the graph: 1.132 seconds
Construct subgraphs: 0.125 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5930545330047607
pure dgl.metis_partition the time spent:  9.457272052764893

block_gen_time in "generate_blocks_for_one_layer_block"  0.6403052806854248


block_gen_time in "generate_blocks_for_one_layer_block"  1.7206144332885742

connection checking time:  2.748150110244751
block generation total time  2.360919713973999
generate_dataloader_block spend   18.6348078250885
pure train time  5.584360599517822
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.677734375 GB
    Memory Allocated: 0.2207193374633789  GigaBytes
Max Memory Allocated: 15.964910507202148  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6464741230010986
epoch time :  30.15042781829834
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.184 seconds, peak memory: 58.441 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.441 GB
Metis partitioning: 7.593 seconds, peak memory: 58.441 GB
Split the graph: 1.630 seconds
Construct subgraphs: 0.119 seconds
REG metis partition end ----................................
REG construction  time spent:  3.679286003112793
pure dgl.metis_partition the time spent:  10.527302503585815

block_gen_time in "generate_blocks_for_one_layer_block"  0.31138062477111816


block_gen_time in "generate_blocks_for_one_layer_block"  1.6780922412872314

connection checking time:  1.8137669563293457
block generation total time  1.9894728660583496
generate_dataloader_block spend   18.420252084732056
pure train time  5.142219543457031
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.6796875 GB
    Memory Allocated: 0.22060871124267578  GigaBytes
Max Memory Allocated: 15.964910507202148  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6316726207733154
epoch time :  29.436554193496704
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.231 seconds, peak memory: 59.410 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.410 GB
Metis partitioning: 7.310 seconds, peak memory: 59.410 GB
Split the graph: 1.308 seconds
Construct subgraphs: 0.124 seconds
REG metis partition end ----................................
REG construction  time spent:  2.9996798038482666
pure dgl.metis_partition the time spent:  9.974311828613281

block_gen_time in "generate_blocks_for_one_layer_block"  0.6688659191131592


block_gen_time in "generate_blocks_for_one_layer_block"  1.7077648639678955

connection checking time:  2.5664944648742676
block generation total time  2.3766307830810547
generate_dataloader_block spend   18.314664125442505
pure train time  5.793895244598389
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.33984375 GB
    Memory Allocated: 0.22142267227172852  GigaBytes
Max Memory Allocated: 15.964910507202148  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6175265312194824
epoch time :  30.067819118499756
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.242 seconds, peak memory: 64.155 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.155 GB
Metis partitioning: 7.683 seconds, peak memory: 64.155 GB
Split the graph: 1.236 seconds
Construct subgraphs: 0.136 seconds
REG metis partition end ----................................
REG construction  time spent:  3.598417043685913
pure dgl.metis_partition the time spent:  10.299315214157104

block_gen_time in "generate_blocks_for_one_layer_block"  0.630120038986206


block_gen_time in "generate_blocks_for_one_layer_block"  1.6916043758392334

connection checking time:  2.7412712574005127
block generation total time  2.3217244148254395
generate_dataloader_block spend   19.468245267868042
pure train time  5.472192764282227
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.23828125 GB
    Memory Allocated: 0.21975040435791016  GigaBytes
Max Memory Allocated: 16.909433841705322  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6030654907226562
epoch time :  30.68705177307129
Total (block generation + training)time/epoch 30.275798354830062
pure train time/epoch 5.530887683232625

num_input_list  [620722, 648235, 636270, 605589, 597677, 593427, 615436, 605567, 601257, 594889]
