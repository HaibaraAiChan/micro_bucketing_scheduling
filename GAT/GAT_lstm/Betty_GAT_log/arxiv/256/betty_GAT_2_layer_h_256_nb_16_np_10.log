main start at this time 1700537021.474655
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.206 seconds, peak memory: 27.069 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.069 GB
Metis partitioning: 6.513 seconds, peak memory: 28.567 GB
Split the graph: 1.333 seconds
Construct subgraphs: 0.093 seconds
REG metis partition end ----................................
REG construction  time spent:  3.0635485649108887
pure dgl.metis_partition the time spent:  9.148760795593262

block_gen_time in "generate_blocks_for_one_layer_block"  0.6395750045776367


block_gen_time in "generate_blocks_for_one_layer_block"  1.6395559310913086

connection checking time:  2.624660015106201
block generation total time  2.2791309356689453
pure train time  5.991243362426758
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.505859375 GB
    Memory Allocated: 0.20229721069335938  GigaBytes
Max Memory Allocated: 16.359439373016357  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6988582611083984
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.268 seconds, peak memory: 55.626 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.626 GB
Metis partitioning: 6.883 seconds, peak memory: 57.152 GB
Split the graph: 1.438 seconds
Construct subgraphs: 0.133 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7764275074005127
pure dgl.metis_partition the time spent:  9.723773717880249

block_gen_time in "generate_blocks_for_one_layer_block"  0.6327033042907715


block_gen_time in "generate_blocks_for_one_layer_block"  1.7921843528747559

connection checking time:  2.827303409576416
block generation total time  2.4248876571655273
pure train time  6.238693952560425
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.916015625 GB
    Memory Allocated: 0.2045907974243164  GigaBytes
Max Memory Allocated: 17.558500289916992  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6912269592285156
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.267 seconds, peak memory: 62.095 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.095 GB
Metis partitioning: 6.794 seconds, peak memory: 62.095 GB
Split the graph: 1.549 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.536315441131592
pure dgl.metis_partition the time spent:  9.63124942779541

block_gen_time in "generate_blocks_for_one_layer_block"  0.656294584274292


block_gen_time in "generate_blocks_for_one_layer_block"  1.67997407913208

connection checking time:  2.584062337875366
block generation total time  2.336268663406372
pure train time  5.467066526412964
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.611328125 GB
    Memory Allocated: 0.21341705322265625  GigaBytes
Max Memory Allocated: 17.90190362930298  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.684278964996338
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.218 seconds, peak memory: 62.730 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.730 GB
Metis partitioning: 6.945 seconds, peak memory: 62.730 GB
Split the graph: 1.580 seconds
Construct subgraphs: 0.028 seconds
REG metis partition end ----................................
REG construction  time spent:  3.1124682426452637
pure dgl.metis_partition the time spent:  9.772623777389526

block_gen_time in "generate_blocks_for_one_layer_block"  0.6616241931915283


block_gen_time in "generate_blocks_for_one_layer_block"  1.7010340690612793

connection checking time:  2.41560697555542
block generation total time  2.3626582622528076
generate_dataloader_block spend   18.238554000854492
pure train time  5.319801568984985
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.63671875 GB
    Memory Allocated: 0.22465896606445312  GigaBytes
Max Memory Allocated: 17.90190362930298  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6769793033599854
epoch time :  29.389423847198486
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.280 seconds, peak memory: 63.201 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.201 GB
Metis partitioning: 7.275 seconds, peak memory: 63.201 GB
Split the graph: 1.424 seconds
Construct subgraphs: 0.010 seconds
REG metis partition end ----................................
REG construction  time spent:  3.403986930847168
pure dgl.metis_partition the time spent:  9.990878582000732

block_gen_time in "generate_blocks_for_one_layer_block"  0.6435108184814453


block_gen_time in "generate_blocks_for_one_layer_block"  1.7378461360931396

connection checking time:  2.793442964553833
block generation total time  2.381356954574585
generate_dataloader_block spend   19.165409564971924
pure train time  5.366039991378784
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.63671875 GB
    Memory Allocated: 0.21746253967285156  GigaBytes
Max Memory Allocated: 17.90190362930298  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6689252853393555
epoch time :  30.5098876953125
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.177 seconds, peak memory: 63.454 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.454 GB
Metis partitioning: 7.079 seconds, peak memory: 63.454 GB
Split the graph: 1.201 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.563498020172119
pure dgl.metis_partition the time spent:  9.476202964782715

block_gen_time in "generate_blocks_for_one_layer_block"  0.6567122936248779


block_gen_time in "generate_blocks_for_one_layer_block"  1.731583833694458

connection checking time:  2.528942584991455
block generation total time  2.388296127319336
generate_dataloader_block spend   18.485506772994995
pure train time  5.446671009063721
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.63671875 GB
    Memory Allocated: 0.21990203857421875  GigaBytes
Max Memory Allocated: 17.90190362930298  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6591506004333496
epoch time :  29.847949266433716
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.263 seconds, peak memory: 64.691 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.691 GB
Metis partitioning: 7.748 seconds, peak memory: 64.691 GB
Split the graph: 1.813 seconds
Construct subgraphs: 0.029 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6174068450927734
pure dgl.metis_partition the time spent:  10.853704690933228

block_gen_time in "generate_blocks_for_one_layer_block"  0.6753764152526855


block_gen_time in "generate_blocks_for_one_layer_block"  1.7113819122314453

connection checking time:  2.6545510292053223
block generation total time  2.386758327484131
generate_dataloader_block spend   20.061079025268555
pure train time  5.304149627685547
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.63671875 GB
    Memory Allocated: 0.2085280418395996  GigaBytes
Max Memory Allocated: 17.90190362930298  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.646087646484375
epoch time :  31.148948907852173
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.295 seconds, peak memory: 65.707 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.707 GB
Metis partitioning: 8.001 seconds, peak memory: 65.707 GB
Split the graph: 1.498 seconds
Construct subgraphs: 0.029 seconds
REG metis partition end ----................................
REG construction  time spent:  3.600907325744629
pure dgl.metis_partition the time spent:  10.825081586837769

block_gen_time in "generate_blocks_for_one_layer_block"  0.638761043548584


block_gen_time in "generate_blocks_for_one_layer_block"  1.7285008430480957

connection checking time:  2.716024398803711
block generation total time  2.3672618865966797
generate_dataloader_block spend   20.070169925689697
pure train time  5.288061857223511
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.65234375 GB
    Memory Allocated: 0.22655344009399414  GigaBytes
Max Memory Allocated: 17.90190362930298  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6314499378204346
epoch time :  31.276238203048706
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.264 seconds, peak memory: 66.805 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.805 GB
Metis partitioning: 7.352 seconds, peak memory: 66.805 GB
Split the graph: 1.365 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5292723178863525
pure dgl.metis_partition the time spent:  10.002427101135254

block_gen_time in "generate_blocks_for_one_layer_block"  0.3244776725769043


block_gen_time in "generate_blocks_for_one_layer_block"  1.6643123626708984

connection checking time:  2.3557686805725098
block generation total time  1.9887900352478027
generate_dataloader_block spend   18.422314167022705
pure train time  5.23158597946167
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.65234375 GB
    Memory Allocated: 0.219970703125  GigaBytes
Max Memory Allocated: 17.90190362930298  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6168901920318604
epoch time :  29.38528800010681
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.225 seconds, peak memory: 67.930 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 67.930 GB
Metis partitioning: 7.548 seconds, peak memory: 67.930 GB
Split the graph: 1.599 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.595811367034912
pure dgl.metis_partition the time spent:  10.38949179649353

block_gen_time in "generate_blocks_for_one_layer_block"  0.6386129856109619


block_gen_time in "generate_blocks_for_one_layer_block"  1.7245540618896484

connection checking time:  2.7369589805603027
block generation total time  2.3631670475006104
generate_dataloader_block spend   19.69681215286255
pure train time  5.3253138065338135
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.65234375 GB
    Memory Allocated: 0.2239522933959961  GigaBytes
Max Memory Allocated: 17.90190362930298  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6022989749908447
epoch time :  30.91164493560791
Total (block generation + training)time/epoch 30.352765015193395
pure train time/epoch 5.326970378557841

num_input_list  [578290, 610755, 585258, 587544, 612114, 601481, 589765, 597363, 582739, 594075]
