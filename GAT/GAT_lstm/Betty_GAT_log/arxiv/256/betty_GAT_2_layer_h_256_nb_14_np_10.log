main start at this time 1700536409.324669
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.184 seconds, peak memory: 27.004 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.004 GB
Metis partitioning: 6.693 seconds, peak memory: 30.252 GB
Split the graph: 1.184 seconds
Construct subgraphs: 0.100 seconds
REG metis partition end ----................................
REG construction  time spent:  3.0668864250183105
pure dgl.metis_partition the time spent:  9.161997556686401

block_gen_time in "generate_blocks_for_one_layer_block"  0.6444149017333984


block_gen_time in "generate_blocks_for_one_layer_block"  1.6433124542236328

connection checking time:  2.605034351348877
block generation total time  2.2877273559570312
pure train time  6.0564045906066895
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.33984375 GB
    Memory Allocated: 0.2095327377319336  GigaBytes
Max Memory Allocated: 18.990848064422607  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.698869228363037
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.360 seconds, peak memory: 57.833 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.833 GB
Metis partitioning: 7.262 seconds, peak memory: 57.833 GB
Split the graph: 1.383 seconds
Construct subgraphs: 0.007 seconds
REG metis partition end ----................................
REG construction  time spent:  3.244420051574707
pure dgl.metis_partition the time spent:  10.014289140701294

block_gen_time in "generate_blocks_for_one_layer_block"  0.6708052158355713


block_gen_time in "generate_blocks_for_one_layer_block"  1.5081195831298828

connection checking time:  1.5329921245574951
block generation total time  2.178924798965454
pure train time  5.416687726974487
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.23828125 GB
    Memory Allocated: 0.22208404541015625  GigaBytes
Max Memory Allocated: 19.167341709136963  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.69118070602417
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.224 seconds, peak memory: 58.835 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.835 GB
Metis partitioning: 7.008 seconds, peak memory: 58.835 GB
Split the graph: 1.521 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.474991798400879
pure dgl.metis_partition the time spent:  9.774501323699951

block_gen_time in "generate_blocks_for_one_layer_block"  0.653428316116333


block_gen_time in "generate_blocks_for_one_layer_block"  1.6103143692016602

connection checking time:  2.4838078022003174
block generation total time  2.263742685317993
pure train time  5.798633098602295
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.626953125 GB
    Memory Allocated: 0.20536375045776367  GigaBytes
Max Memory Allocated: 19.167341709136963  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6842610836029053
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.295 seconds, peak memory: 59.723 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.723 GB
Metis partitioning: 6.905 seconds, peak memory: 59.723 GB
Split the graph: 1.393 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.658759832382202
pure dgl.metis_partition the time spent:  9.614428758621216

block_gen_time in "generate_blocks_for_one_layer_block"  0.651355504989624


block_gen_time in "generate_blocks_for_one_layer_block"  1.6982252597808838

connection checking time:  2.6882145404815674
block generation total time  2.349580764770508
generate_dataloader_block spend   18.856793642044067
pure train time  5.2391815185546875
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.9609375 GB
    Memory Allocated: 0.22092580795288086  GigaBytes
Max Memory Allocated: 19.167341709136963  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.67690110206604
epoch time :  29.753339767456055
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.301 seconds, peak memory: 60.596 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.596 GB
Metis partitioning: 7.348 seconds, peak memory: 60.596 GB
Split the graph: 1.631 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  3.434563159942627
pure dgl.metis_partition the time spent:  10.303685903549194

block_gen_time in "generate_blocks_for_one_layer_block"  0.6349852085113525


block_gen_time in "generate_blocks_for_one_layer_block"  1.6124815940856934

connection checking time:  2.2500815391540527
block generation total time  2.247466802597046
generate_dataloader_block spend   18.684485912322998
pure train time  4.951439142227173
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.9921875 GB
    Memory Allocated: 0.2041168212890625  GigaBytes
Max Memory Allocated: 19.167341709136963  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.668879508972168
epoch time :  29.16655993461609
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.253 seconds, peak memory: 61.918 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.918 GB
Metis partitioning: 6.742 seconds, peak memory: 61.918 GB
Split the graph: 1.270 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6217219829559326
pure dgl.metis_partition the time spent:  9.287569284439087

block_gen_time in "generate_blocks_for_one_layer_block"  0.643608570098877


block_gen_time in "generate_blocks_for_one_layer_block"  1.7215640544891357

connection checking time:  2.482844352722168
block generation total time  2.3651726245880127
generate_dataloader_block spend   18.294586896896362
pure train time  5.142387390136719
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.025390625 GB
    Memory Allocated: 0.22615623474121094  GigaBytes
Max Memory Allocated: 19.167341709136963  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6589231491088867
epoch time :  29.121367692947388
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.289 seconds, peak memory: 64.242 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.242 GB
Metis partitioning: 7.200 seconds, peak memory: 64.242 GB
Split the graph: 1.497 seconds
Construct subgraphs: 0.025 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4852347373962402
pure dgl.metis_partition the time spent:  10.013907194137573

block_gen_time in "generate_blocks_for_one_layer_block"  0.6366767883300781


block_gen_time in "generate_blocks_for_one_layer_block"  1.658353328704834

connection checking time:  2.714792251586914
block generation total time  2.295030117034912
generate_dataloader_block spend   18.971863269805908
pure train time  5.09388279914856
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.02734375 GB
    Memory Allocated: 0.22736740112304688  GigaBytes
Max Memory Allocated: 19.167341709136963  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6464717388153076
epoch time :  29.702823638916016
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.258 seconds, peak memory: 64.766 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.766 GB
Metis partitioning: 7.103 seconds, peak memory: 64.766 GB
Split the graph: 1.529 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4480092525482178
pure dgl.metis_partition the time spent:  9.912461996078491

block_gen_time in "generate_blocks_for_one_layer_block"  0.6476905345916748


block_gen_time in "generate_blocks_for_one_layer_block"  1.6256403923034668

connection checking time:  2.622141122817993
block generation total time  2.2733309268951416
generate_dataloader_block spend   18.729356050491333
pure train time  5.039044618606567
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.03125 GB
    Memory Allocated: 0.22787952423095703  GigaBytes
Max Memory Allocated: 19.167341709136963  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6319875717163086
epoch time :  29.303110599517822
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.290 seconds, peak memory: 66.190 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.190 GB
Metis partitioning: 7.236 seconds, peak memory: 66.190 GB
Split the graph: 1.322 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5787243843078613
pure dgl.metis_partition the time spent:  9.869327306747437

block_gen_time in "generate_blocks_for_one_layer_block"  0.6352806091308594


block_gen_time in "generate_blocks_for_one_layer_block"  1.1111111640930176

connection checking time:  2.4137959480285645
block generation total time  1.746391773223877
generate_dataloader_block spend   18.06611943244934
pure train time  4.962350845336914
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.294921875 GB
    Memory Allocated: 0.22256946563720703  GigaBytes
Max Memory Allocated: 19.222368240356445  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6164603233337402
epoch time :  28.58427143096924
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.178 seconds, peak memory: 68.120 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 68.120 GB
Metis partitioning: 7.129 seconds, peak memory: 68.120 GB
Split the graph: 1.671 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  2.91662859916687
pure dgl.metis_partition the time spent:  10.001904964447021

block_gen_time in "generate_blocks_for_one_layer_block"  0.6418302059173584


block_gen_time in "generate_blocks_for_one_layer_block"  1.6545374393463135

connection checking time:  2.494107961654663
block generation total time  2.296367645263672
generate_dataloader_block spend   18.143218517303467
pure train time  5.6845057010650635
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.39453125 GB
    Memory Allocated: 0.22643136978149414  GigaBytes
Max Memory Allocated: 19.222368240356445  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6022768020629883
epoch time :  28.896735668182373
Total (block generation + training)time/epoch 29.218313932418823
pure train time/epoch 5.145601749420166

num_input_list  [559999, 546903, 536659, 563954, 548095, 564248, 554107, 545031, 547821, 555608]
