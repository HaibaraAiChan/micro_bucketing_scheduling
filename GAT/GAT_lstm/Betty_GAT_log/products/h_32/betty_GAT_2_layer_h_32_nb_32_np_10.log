main start at this time 1700897027.7181876
#nodes: 2449029
#edges: 123718024
#classes: 47
success----------------------------------------
196571
39255
2164782
# Nodes: 2400608
# Edges: 123718024
# Train: 196571
# Val: 39255
# Test: 2164782
# Classes: 47

in feats:  100
self._in_src_feats,  100
self._in_dst_feats 100
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 2.852 seconds, peak memory: 40.429 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 40.429 GB
Metis partitioning: 15.549 seconds, peak memory: 40.429 GB
Split the graph: 0.890 seconds
Construct subgraphs: 0.028 seconds
REG metis partition end ----................................
REG construction  time spent:  11.650899410247803
pure dgl.metis_partition the time spent:  19.319804430007935

block_gen_time in "generate_blocks_for_one_layer_block"  5.3909592628479


block_gen_time in "generate_blocks_for_one_layer_block"  17.658969402313232

connection checking time:  25.652631759643555
block generation total time  23.049928665161133
generate_dataloader_block spend   83.06305623054504
pure train time  6.9338624477386475
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.638671875 GB
    Memory Allocated: 0.6560006141662598  GigaBytes
Max Memory Allocated: 6.606727123260498  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.80172061920166
epoch time :  93.27523350715637
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 3.285 seconds, peak memory: 58.815 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.815 GB
Metis partitioning: 17.102 seconds, peak memory: 58.815 GB
Split the graph: 0.973 seconds
Construct subgraphs: 0.672 seconds
REG metis partition end ----................................
REG construction  time spent:  12.522290468215942
pure dgl.metis_partition the time spent:  22.033815145492554

block_gen_time in "generate_blocks_for_one_layer_block"  5.039828062057495


block_gen_time in "generate_blocks_for_one_layer_block"  17.37904167175293

connection checking time:  25.249165058135986
block generation total time  22.418869733810425
generate_dataloader_block spend   85.93423080444336
pure train time  6.304150342941284
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.671875 GB
    Memory Allocated: 0.6866946220397949  GigaBytes
Max Memory Allocated: 6.6620683670043945  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.796905279159546
epoch time :  95.42758989334106
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 2.768 seconds, peak memory: 64.729 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.729 GB
Metis partitioning: 18.117 seconds, peak memory: 64.729 GB
Split the graph: 1.035 seconds
Construct subgraphs: 0.741 seconds
REG metis partition end ----................................
REG construction  time spent:  12.506571054458618
pure dgl.metis_partition the time spent:  22.663010358810425

block_gen_time in "generate_blocks_for_one_layer_block"  4.9908177852630615


block_gen_time in "generate_blocks_for_one_layer_block"  18.984149932861328

connection checking time:  27.1049485206604
block generation total time  23.97496771812439
generate_dataloader_block spend   89.90887260437012
pure train time  5.900288105010986
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.853515625 GB
    Memory Allocated: 0.6717262268066406  GigaBytes
Max Memory Allocated: 6.995954990386963  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.792067766189575
epoch time :  99.18616676330566
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 2.971 seconds, peak memory: 67.971 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 67.971 GB
Metis partitioning: 17.346 seconds, peak memory: 67.971 GB
Split the graph: 1.043 seconds
Construct subgraphs: 0.517 seconds
REG metis partition end ----................................
REG construction  time spent:  12.725855350494385
pure dgl.metis_partition the time spent:  21.878133296966553

block_gen_time in "generate_blocks_for_one_layer_block"  4.926733016967773


block_gen_time in "generate_blocks_for_one_layer_block"  18.894896984100342

connection checking time:  25.15553092956543
block generation total time  23.821630001068115
generate_dataloader_block spend   87.23098230361938
pure train time  6.219816207885742
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.70703125 GB
    Memory Allocated: 0.6581840515136719  GigaBytes
Max Memory Allocated: 6.995954990386963  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7871129512786865
epoch time :  96.8436508178711
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 3.495 seconds, peak memory: 70.034 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 70.034 GB
Metis partitioning: 17.598 seconds, peak memory: 70.034 GB
Split the graph: 0.981 seconds
Construct subgraphs: 0.725 seconds
REG metis partition end ----................................
REG construction  time spent:  12.576936483383179
pure dgl.metis_partition the time spent:  22.80117106437683

block_gen_time in "generate_blocks_for_one_layer_block"  2.913482189178467


block_gen_time in "generate_blocks_for_one_layer_block"  18.18818497657776

connection checking time:  23.29418420791626
block generation total time  21.101667165756226
generate_dataloader_block spend   83.2837176322937
pure train time  5.9749016761779785
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.70703125 GB
    Memory Allocated: 0.663543701171875  GigaBytes
Max Memory Allocated: 7.066224575042725  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7820980548858643
epoch time :  92.54252982139587
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 3.270 seconds, peak memory: 70.409 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 70.409 GB
Metis partitioning: 18.199 seconds, peak memory: 70.409 GB
Split the graph: 0.976 seconds
Construct subgraphs: 0.668 seconds
REG metis partition end ----................................
REG construction  time spent:  11.235755443572998
pure dgl.metis_partition the time spent:  23.11424946784973

block_gen_time in "generate_blocks_for_one_layer_block"  5.239470958709717


block_gen_time in "generate_blocks_for_one_layer_block"  18.000131130218506

connection checking time:  25.656914710998535
block generation total time  23.239602088928223
generate_dataloader_block spend   86.78645968437195
pure train time  6.130774259567261
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.70703125 GB
    Memory Allocated: 0.6718034744262695  GigaBytes
Max Memory Allocated: 7.066224575042725  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.777019739151001
epoch time :  96.16268658638
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 3.409 seconds, peak memory: 70.780 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 70.780 GB
Metis partitioning: 18.088 seconds, peak memory: 70.780 GB
Split the graph: 0.977 seconds
Construct subgraphs: 0.745 seconds
REG metis partition end ----................................
REG construction  time spent:  12.621303796768188
pure dgl.metis_partition the time spent:  23.221057176589966

block_gen_time in "generate_blocks_for_one_layer_block"  4.9965455532073975


block_gen_time in "generate_blocks_for_one_layer_block"  18.830344200134277

connection checking time:  19.29076075553894
block generation total time  23.826889753341675
generate_dataloader_block spend   82.57933640480042
pure train time  6.178568601608276
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.61328125 GB
    Memory Allocated: 0.6922521591186523  GigaBytes
Max Memory Allocated: 7.646554946899414  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7718281745910645
epoch time :  92.1388897895813
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 3.144 seconds, peak memory: 73.157 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.157 GB
Metis partitioning: 18.089 seconds, peak memory: 73.157 GB
Split the graph: 0.915 seconds
Construct subgraphs: 0.655 seconds
REG metis partition end ----................................
REG construction  time spent:  12.645994901657104
pure dgl.metis_partition the time spent:  22.804809093475342

block_gen_time in "generate_blocks_for_one_layer_block"  5.030249834060669


block_gen_time in "generate_blocks_for_one_layer_block"  17.80668306350708

connection checking time:  24.86812472343445
block generation total time  22.83693289756775
generate_dataloader_block spend   86.75819277763367
pure train time  6.123382091522217
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.61328125 GB
    Memory Allocated: 0.6986842155456543  GigaBytes
Max Memory Allocated: 7.646554946899414  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7664828300476074
epoch time :  96.07830786705017
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 3.356 seconds, peak memory: 73.358 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.358 GB
Metis partitioning: 18.679 seconds, peak memory: 73.358 GB
Split the graph: 1.386 seconds
Construct subgraphs: 0.711 seconds
REG metis partition end ----................................
REG construction  time spent:  11.691402196884155
pure dgl.metis_partition the time spent:  24.134429454803467

block_gen_time in "generate_blocks_for_one_layer_block"  5.079952239990234


block_gen_time in "generate_blocks_for_one_layer_block"  19.055198192596436

connection checking time:  26.231270790100098
block generation total time  24.13515043258667
generate_dataloader_block spend   89.99039316177368
pure train time  5.960684299468994
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.646484375 GB
    Memory Allocated: 0.6781787872314453  GigaBytes
Max Memory Allocated: 8.012709140777588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.760981321334839
epoch time :  99.35536360740662
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 3.254 seconds, peak memory: 75.618 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.618 GB
Metis partitioning: 18.402 seconds, peak memory: 75.618 GB
Split the graph: 1.118 seconds
Construct subgraphs: 0.650 seconds
REG metis partition end ----................................
REG construction  time spent:  12.833317995071411
pure dgl.metis_partition the time spent:  23.4259614944458

block_gen_time in "generate_blocks_for_one_layer_block"  4.947136402130127


block_gen_time in "generate_blocks_for_one_layer_block"  17.640836000442505

connection checking time:  25.619091987609863
block generation total time  22.587972402572632
generate_dataloader_block spend   88.1551296710968
pure train time  6.161315202713013
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.646484375 GB
    Memory Allocated: 0.6381592750549316  GigaBytes
Max Memory Allocated: 8.012709140777588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7553000450134277
epoch time :  97.54000544548035
Total (block generation + training)time/epoch 95.85504131317138
pure train time/epoch 6.0882710218429565

num_input_list  [6464391, 6414888, 6459608, 6388379, 6433330, 6372886, 6379178, 6253096, 6497142, 6496971]
