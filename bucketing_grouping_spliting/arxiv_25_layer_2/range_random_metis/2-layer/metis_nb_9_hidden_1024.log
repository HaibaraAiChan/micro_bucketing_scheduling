main start at this time 1691262770.7043388
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.037 seconds, peak memory: 24.029 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 24.029 GB
Metis partitioning: 0.156 seconds, peak memory: 24.056 GB
Split the graph: 0.056 seconds
Construct subgraphs: 0.018 seconds
10113
10103
10097
10101
10101
10105
10111
10108
10102
The batched output nid list before graph partition
connection checking time:  4.659849166870117
block generation total time  4.104761123657227
pure train time  4.831483364105225
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.8359375 GB
    Memory Allocated: 0.21801280975341797  GigaBytes
Max Memory Allocated: 9.287912845611572  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.775031566619873
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 62.214 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.214 GB
Metis partitioning: 0.152 seconds, peak memory: 62.214 GB
Split the graph: 0.055 seconds
Construct subgraphs: 0.025 seconds
10113
10103
10097
10101
10101
10105
10111
10108
10102
The batched output nid list before graph partition
connection checking time:  4.687924861907959
block generation total time  4.231749773025513
pure train time  4.420023202896118
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.828125 GB
    Memory Allocated: 0.21755361557006836  GigaBytes
Max Memory Allocated: 9.451303005218506  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.190253496170044
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 63.408 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.408 GB
Metis partitioning: 0.161 seconds, peak memory: 63.408 GB
Split the graph: 0.050 seconds
Construct subgraphs: 0.004 seconds
10113
10103
10097
10101
10101
10105
10111
10108
10102
The batched output nid list before graph partition
connection checking time:  4.196005821228027
block generation total time  3.811575174331665
pure train time  4.392045259475708
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.83203125 GB
    Memory Allocated: 0.2169337272644043  GigaBytes
Max Memory Allocated: 9.451303005218506  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6106746196746826
loading full batch data spends  0.07404589653015137
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 63.426 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.426 GB
Metis partitioning: 0.165 seconds, peak memory: 63.426 GB
Split the graph: 0.059 seconds
Construct subgraphs: 0.009 seconds
10113
10103
10097
10101
10101
10105
10111
10108
10102
The batched output nid list before graph partition
connection checking time:  4.579482555389404
block generation total time  4.109475135803223
generate_dataloader_block spend   9.338518381118774
pure train time  4.438507318496704
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.83203125 GB
    Memory Allocated: 0.2180342674255371  GigaBytes
Max Memory Allocated: 9.451303005218506  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.081159830093384
loading full batch data spends  0.07285356521606445
Convert a graph into a bidirected graph: 0.020 seconds, peak memory: 63.427 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.427 GB
Metis partitioning: 0.169 seconds, peak memory: 63.427 GB
Split the graph: 0.065 seconds
Construct subgraphs: 0.010 seconds
10113
10103
10097
10101
10101
10105
10111
10108
10102
The batched output nid list before graph partition
connection checking time:  4.680979251861572
block generation total time  4.16128396987915
generate_dataloader_block spend   9.523904085159302
pure train time  4.417001485824585
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.833984375 GB
    Memory Allocated: 0.21708250045776367  GigaBytes
Max Memory Allocated: 9.451303005218506  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0677568912506104
loading full batch data spends  0.07650327682495117
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 63.450 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.450 GB
Metis partitioning: 0.162 seconds, peak memory: 63.450 GB
Split the graph: 0.057 seconds
Construct subgraphs: 0.006 seconds
10113
10103
10097
10101
10101
10105
10111
10108
10102
The batched output nid list before graph partition
connection checking time:  4.637810468673706
block generation total time  4.137408971786499
generate_dataloader_block spend   9.416523694992065
pure train time  4.431726694107056
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.833984375 GB
    Memory Allocated: 0.21719121932983398  GigaBytes
Max Memory Allocated: 9.451303005218506  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0668580532073975
loading full batch data spends  0.07332682609558105
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 63.463 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.463 GB
Metis partitioning: 0.161 seconds, peak memory: 63.463 GB
Split the graph: 0.061 seconds
Construct subgraphs: 0.010 seconds
10113
10103
10097
10101
10101
10105
10111
10108
10102
The batched output nid list before graph partition
connection checking time:  4.608060121536255
block generation total time  4.11888313293457
generate_dataloader_block spend   9.377212762832642
pure train time  4.449805498123169
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.833984375 GB
    Memory Allocated: 0.2175731658935547  GigaBytes
Max Memory Allocated: 9.451303005218506  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0295677185058594
loading full batch data spends  0.07204914093017578
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 63.467 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.467 GB
Metis partitioning: 0.156 seconds, peak memory: 63.467 GB
Split the graph: 0.052 seconds
Construct subgraphs: 0.005 seconds
10113
10103
10097
10101
10101
10105
10111
10108
10102
The batched output nid list before graph partition
connection checking time:  4.670307874679565
block generation total time  4.136028289794922
generate_dataloader_block spend   9.423484086990356
pure train time  4.420098304748535
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.833984375 GB
    Memory Allocated: 0.21715831756591797  GigaBytes
Max Memory Allocated: 9.451303005218506  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.960144519805908
loading full batch data spends  0.07226967811584473
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 63.473 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.473 GB
Metis partitioning: 0.159 seconds, peak memory: 63.473 GB
Split the graph: 0.061 seconds
Construct subgraphs: 0.008 seconds
10113
10103
10097
10101
10101
10105
10111
10108
10102
The batched output nid list before graph partition
connection checking time:  4.616325378417969
block generation total time  4.116575002670288
generate_dataloader_block spend   9.374258518218994
pure train time  4.410749912261963
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.833984375 GB
    Memory Allocated: 0.21715164184570312  GigaBytes
Max Memory Allocated: 9.451303005218506  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8694815635681152
loading full batch data spends  0.06544113159179688
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 63.474 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.474 GB
Metis partitioning: 0.149 seconds, peak memory: 63.474 GB
Split the graph: 0.055 seconds
Construct subgraphs: 0.006 seconds
10113
10103
10097
10101
10101
10105
10111
10108
10102
The batched output nid list before graph partition
connection checking time:  4.61687159538269
block generation total time  4.125531435012817
generate_dataloader_block spend   9.361202239990234
pure train time  4.424516916275024
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.83984375 GB
    Memory Allocated: 0.2177562713623047  GigaBytes
Max Memory Allocated: 9.451303005218506  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7696168422698975
Total (block generation + training)time/epoch 14.948200838906425
pure train time/epoch 4.425649801890056

mean number of num_input_list  1070381.4
