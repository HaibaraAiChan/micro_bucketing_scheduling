main start at this time 1697833481.0249097
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.297 seconds, peak memory: 27.482 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.482 GB
Metis partitioning: 5.577 seconds, peak memory: 28.263 GB
Split the graph: 4.376 seconds
Construct subgraphs: 0.136 seconds
REG metis partition end ----................................
REG construction  time spent:  3.773233652114868
pure dgl.metis_partition the time spent:  11.417958974838257

block_gen_time in "generate_blocks_for_one_layer_block"  0.6648666858673096


block_gen_time in "generate_blocks_for_one_layer_block"  1.2063438892364502

connection checking time:  1.9548451900482178
block generation total time  1.8712105751037598
epoch,  0
pure train time  1.473120927810669
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 10.76953125 GB
    Memory Allocated: 0.08170509338378906  GigaBytes
Max Memory Allocated: 8.319091320037842  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.834669589996338
REG start----................................
Convert a graph into a bidirected graph: 1.370 seconds, peak memory: 49.455 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 49.455 GB
Metis partitioning: 5.554 seconds, peak memory: 50.196 GB
Split the graph: 4.925 seconds
Construct subgraphs: 0.136 seconds
REG metis partition end ----................................
REG construction  time spent:  3.804692268371582
pure dgl.metis_partition the time spent:  12.001047372817993

block_gen_time in "generate_blocks_for_one_layer_block"  0.6936206817626953


block_gen_time in "generate_blocks_for_one_layer_block"  1.1603496074676514

connection checking time:  1.9958107471466064
block generation total time  1.8539702892303467
epoch,  1
pure train time  0.9137060642242432
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 10.76953125 GB
    Memory Allocated: 0.08240604400634766  GigaBytes
Max Memory Allocated: 8.327415943145752  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.5772385597229004
REG start----................................
Convert a graph into a bidirected graph: 1.357 seconds, peak memory: 59.459 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.459 GB
Metis partitioning: 6.189 seconds, peak memory: 60.247 GB
Split the graph: 4.789 seconds
Construct subgraphs: 0.024 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7951772212982178
pure dgl.metis_partition the time spent:  12.374670505523682

block_gen_time in "generate_blocks_for_one_layer_block"  0.6817655563354492


block_gen_time in "generate_blocks_for_one_layer_block"  1.2086296081542969

connection checking time:  1.9741559028625488
block generation total time  1.890395164489746
epoch,  2
pure train time  0.8736708164215088
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.5625 GB
    Memory Allocated: 0.08658838272094727  GigaBytes
Max Memory Allocated: 8.507142543792725  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.364971160888672
loading full batch data spends  0.06203341484069824
REG start----................................
Convert a graph into a bidirected graph: 1.380 seconds, peak memory: 64.280 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.280 GB
Metis partitioning: 5.706 seconds, peak memory: 65.055 GB
Split the graph: 4.536 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  4.080304145812988
pure dgl.metis_partition the time spent:  11.655311346054077

block_gen_time in "generate_blocks_for_one_layer_block"  0.6834921836853027


block_gen_time in "generate_blocks_for_one_layer_block"  1.1842758655548096

connection checking time:  1.9232227802276611
block generation total time  1.8677680492401123
generate_dataloader_block spend   20.220962285995483
epoch,  3
pure train time  0.8585333824157715
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.5625 GB
    Memory Allocated: 0.08256769180297852  GigaBytes
Max Memory Allocated: 8.507142543792725  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2214760780334473
loading full batch data spends  0.0635673999786377
REG start----................................
Convert a graph into a bidirected graph: 1.358 seconds, peak memory: 65.862 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.862 GB
Metis partitioning: 5.783 seconds, peak memory: 65.862 GB
Split the graph: 4.256 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  4.066456317901611
pure dgl.metis_partition the time spent:  11.430006980895996

block_gen_time in "generate_blocks_for_one_layer_block"  0.6943039894104004


block_gen_time in "generate_blocks_for_one_layer_block"  1.128258466720581

connection checking time:  1.932452917098999
block generation total time  1.8225624561309814
generate_dataloader_block spend   19.948765516281128
epoch,  4
pure train time  0.8017642498016357
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.5625 GB
    Memory Allocated: 0.08295440673828125  GigaBytes
Max Memory Allocated: 8.507142543792725  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.169193744659424
Total (block generation + training)time/epoch 21.174564480781555
pure train time/epoch nan

num_input_list  [301054, 299283, 296818, 291345, 289334]
