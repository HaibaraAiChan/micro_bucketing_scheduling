main start at this time 1691462092.2454374
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.286 seconds, peak memory: 27.422 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.422 GB
Metis partitioning: 6.417 seconds, peak memory: 28.009 GB
Split the graph: 0.684 seconds
Construct subgraphs: 0.061 seconds
REG metis partition end ----................................
REG construction  time spent:  3.669642686843872
pure dgl.metis_partition the time spent:  8.46480917930603
connection checking time:  3.08870267868042
block generation total time  2.729445219039917
epoch,  0
pure train time  7.920569181442261
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.150390625 GB
    Memory Allocated: 0.1628584861755371  GigaBytes
Max Memory Allocated: 3.8245434761047363  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.777304172515869
REG start----................................
Convert a graph into a bidirected graph: 1.291 seconds, peak memory: 43.445 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 43.445 GB
Metis partitioning: 6.820 seconds, peak memory: 44.066 GB
Split the graph: 0.612 seconds
Construct subgraphs: 0.073 seconds
REG metis partition end ----................................
REG construction  time spent:  3.718973398208618
pure dgl.metis_partition the time spent:  8.812817096710205
connection checking time:  2.808452606201172
block generation total time  2.7204649448394775
epoch,  1
pure train time  7.552468776702881
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.150390625 GB
    Memory Allocated: 0.1744861602783203  GigaBytes
Max Memory Allocated: 3.872323513031006  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1912853717803955
REG start----................................
Convert a graph into a bidirected graph: 1.318 seconds, peak memory: 54.514 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.514 GB
Metis partitioning: 6.408 seconds, peak memory: 55.089 GB
Split the graph: 0.856 seconds
Construct subgraphs: 0.126 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7111804485321045
pure dgl.metis_partition the time spent:  8.723337173461914
connection checking time:  2.759782075881958
block generation total time  2.8321053981781006
epoch,  2
pure train time  7.55456018447876
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.6015625 GB
    Memory Allocated: 0.1763324737548828  GigaBytes
Max Memory Allocated: 4.043553829193115  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.604590654373169
loading full batch data spends  0.11832475662231445
REG start----................................
Convert a graph into a bidirected graph: 1.394 seconds, peak memory: 55.829 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.829 GB
Metis partitioning: 6.843 seconds, peak memory: 56.455 GB
Split the graph: 0.768 seconds
Construct subgraphs: 0.155 seconds
REG metis partition end ----................................
REG construction  time spent:  4.012907266616821
pure dgl.metis_partition the time spent:  9.1808340549469
connection checking time:  3.254838228225708
block generation total time  2.7595808506011963
generate_dataloader_block spend   19.91782021522522
epoch,  3
pure train time  7.500844717025757
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.603515625 GB
    Memory Allocated: 0.1759324073791504  GigaBytes
Max Memory Allocated: 4.043553829193115  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0808517932891846
loading full batch data spends  0.10745048522949219
REG start----................................
Convert a graph into a bidirected graph: 1.337 seconds, peak memory: 56.455 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.455 GB
Metis partitioning: 6.695 seconds, peak memory: 56.543 GB
Split the graph: 0.856 seconds
Construct subgraphs: 0.141 seconds
REG metis partition end ----................................
REG construction  time spent:  4.053569555282593
pure dgl.metis_partition the time spent:  9.045628786087036
connection checking time:  3.295574903488159
block generation total time  2.7158384323120117
generate_dataloader_block spend   19.779985904693604
epoch,  4
pure train time  7.547152042388916
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.09765625 GB
    Memory Allocated: 0.15741348266601562  GigaBytes
Max Memory Allocated: 4.067458152770996  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0659801959991455
loading full batch data spends  0.15715909004211426
REG start----................................
Convert a graph into a bidirected graph: 1.293 seconds, peak memory: 56.543 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.543 GB
Metis partitioning: 6.677 seconds, peak memory: 57.018 GB
Split the graph: 0.939 seconds
Construct subgraphs: 0.181 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8265764713287354
pure dgl.metis_partition the time spent:  9.105680465698242
connection checking time:  3.1446633338928223
block generation total time  2.6860365867614746
generate_dataloader_block spend   19.44556188583374
epoch,  5
pure train time  7.545359373092651
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.09765625 GB
    Memory Allocated: 0.17415285110473633  GigaBytes
Max Memory Allocated: 4.067458152770996  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0664327144622803
loading full batch data spends  0.11275172233581543
REG start----................................
Convert a graph into a bidirected graph: 1.315 seconds, peak memory: 57.018 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.018 GB
Metis partitioning: 6.712 seconds, peak memory: 57.305 GB
Split the graph: 0.822 seconds
Construct subgraphs: 0.113 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9717345237731934
pure dgl.metis_partition the time spent:  8.978569030761719
connection checking time:  3.181549072265625
block generation total time  2.7179388999938965
generate_dataloader_block spend   19.538069009780884
epoch,  6
pure train time  7.524644136428833
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.56640625 GB
    Memory Allocated: 0.1560831069946289  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0287585258483887
loading full batch data spends  0.13234949111938477
REG start----................................
Convert a graph into a bidirected graph: 1.300 seconds, peak memory: 57.305 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.305 GB
Metis partitioning: 6.969 seconds, peak memory: 57.684 GB
Split the graph: 0.979 seconds
Construct subgraphs: 0.149 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8698089122772217
pure dgl.metis_partition the time spent:  9.414267301559448
connection checking time:  2.8654282093048096
block generation total time  2.7240357398986816
generate_dataloader_block spend   19.55447268486023
epoch,  7
pure train time  7.561975479125977
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.56640625 GB
    Memory Allocated: 0.17345285415649414  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.9588749408721924
loading full batch data spends  0.16138219833374023
REG start----................................
Convert a graph into a bidirected graph: 1.367 seconds, peak memory: 57.684 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.684 GB
Metis partitioning: 7.051 seconds, peak memory: 57.848 GB
Split the graph: 0.916 seconds
Construct subgraphs: 0.104 seconds
REG metis partition end ----................................
REG construction  time spent:  3.97938871383667
pure dgl.metis_partition the time spent:  9.453535079956055
connection checking time:  2.8217556476593018
block generation total time  2.708101272583008
generate_dataloader_block spend   19.586483001708984
epoch,  8
pure train time  7.53734564781189
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.1606006622314453  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.866990327835083
loading full batch data spends  0.11908769607543945
REG start----................................
Convert a graph into a bidirected graph: 1.293 seconds, peak memory: 57.848 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.848 GB
Metis partitioning: 6.752 seconds, peak memory: 57.848 GB
Split the graph: 0.870 seconds
Construct subgraphs: 0.144 seconds
REG metis partition end ----................................
REG construction  time spent:  3.863553047180176
pure dgl.metis_partition the time spent:  9.073925733566284
connection checking time:  3.297592878341675
block generation total time  2.7925143241882324
generate_dataloader_block spend   19.717413663864136
epoch,  9
pure train time  7.523934364318848
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.1724224090576172  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7673444747924805
loading full batch data spends  0.1185145378112793
REG start----................................
Convert a graph into a bidirected graph: 1.452 seconds, peak memory: 57.848 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.848 GB
Metis partitioning: 6.953 seconds, peak memory: 57.848 GB
Split the graph: 0.898 seconds
Construct subgraphs: 0.140 seconds
REG metis partition end ----................................
REG construction  time spent:  3.953641653060913
pure dgl.metis_partition the time spent:  9.45835018157959
connection checking time:  2.8339569568634033
block generation total time  2.7722575664520264
generate_dataloader_block spend   19.632315635681152
epoch,  10
pure train time  7.560952425003052
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.1703653335571289  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.6730127334594727
loading full batch data spends  0.13567757606506348
REG start----................................
Convert a graph into a bidirected graph: 1.354 seconds, peak memory: 57.848 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.848 GB
Metis partitioning: 7.062 seconds, peak memory: 57.848 GB
Split the graph: 0.825 seconds
Construct subgraphs: 0.139 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9374101161956787
pure dgl.metis_partition the time spent:  9.395411014556885
connection checking time:  3.323094367980957
block generation total time  2.730712890625
generate_dataloader_block spend   20.120847702026367
epoch,  11
pure train time  7.545797824859619
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.17514562606811523  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.6052536964416504
loading full batch data spends  0.14479327201843262
REG start----................................
Convert a graph into a bidirected graph: 1.320 seconds, peak memory: 57.848 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.848 GB
Metis partitioning: 6.920 seconds, peak memory: 57.848 GB
Split the graph: 0.744 seconds
Construct subgraphs: 0.154 seconds
REG metis partition end ----................................
REG construction  time spent:  3.926234245300293
pure dgl.metis_partition the time spent:  9.156481742858887
connection checking time:  3.2324368953704834
block generation total time  2.801121234893799
generate_dataloader_block spend   19.832395553588867
epoch,  12
pure train time  7.527170896530151
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.15936899185180664  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.5576581954956055
loading full batch data spends  0.12671470642089844
REG start----................................
Convert a graph into a bidirected graph: 1.334 seconds, peak memory: 57.848 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.848 GB
Metis partitioning: 7.084 seconds, peak memory: 57.884 GB
Split the graph: 0.979 seconds
Construct subgraphs: 0.149 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8730239868164062
pure dgl.metis_partition the time spent:  9.561908483505249
connection checking time:  3.058725118637085
block generation total time  2.7478718757629395
generate_dataloader_block spend   19.963324069976807
epoch,  13
pure train time  7.581101655960083
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.1591644287109375  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.471477746963501
loading full batch data spends  0.12743687629699707
REG start----................................
Convert a graph into a bidirected graph: 1.365 seconds, peak memory: 57.884 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.884 GB
Metis partitioning: 7.340 seconds, peak memory: 57.939 GB
Split the graph: 0.975 seconds
Construct subgraphs: 0.153 seconds
REG metis partition end ----................................
REG construction  time spent:  3.829371690750122
pure dgl.metis_partition the time spent:  9.849661827087402
connection checking time:  2.3485965728759766
block generation total time  2.747945785522461
generate_dataloader_block spend   19.46862268447876
epoch,  14
pure train time  7.574950218200684
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.1661210060119629  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.396261215209961
loading full batch data spends  0.11820816993713379
REG start----................................
Convert a graph into a bidirected graph: 1.404 seconds, peak memory: 57.939 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.939 GB
Metis partitioning: 7.352 seconds, peak memory: 57.939 GB
Split the graph: 0.886 seconds
Construct subgraphs: 0.143 seconds
REG metis partition end ----................................
REG construction  time spent:  4.112779140472412
pure dgl.metis_partition the time spent:  9.802079200744629
connection checking time:  1.5263864994049072
block generation total time  1.3886682987213135
generate_dataloader_block spend   17.412832021713257
epoch,  15
pure train time  7.186219930648804
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.17262697219848633  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.3213987350463867
loading full batch data spends  0.12640047073364258
REG start----................................
Convert a graph into a bidirected graph: 1.332 seconds, peak memory: 57.939 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.939 GB
Metis partitioning: 7.675 seconds, peak memory: 57.939 GB
Split the graph: 0.907 seconds
Construct subgraphs: 0.151 seconds
REG metis partition end ----................................
REG construction  time spent:  3.504230260848999
pure dgl.metis_partition the time spent:  10.08656120300293
connection checking time:  3.1653761863708496
block generation total time  2.728330612182617
generate_dataloader_block spend   20.170998096466064
epoch,  16
pure train time  7.513362646102905
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.16985273361206055  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.2491109371185303
loading full batch data spends  0.11820840835571289
REG start----................................
Convert a graph into a bidirected graph: 1.284 seconds, peak memory: 57.939 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.939 GB
Metis partitioning: 7.142 seconds, peak memory: 57.939 GB
Split the graph: 1.082 seconds
Construct subgraphs: 0.217 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9629082679748535
pure dgl.metis_partition the time spent:  9.742206811904907
connection checking time:  3.3303658962249756
block generation total time  2.7846906185150146
generate_dataloader_block spend   20.557394981384277
epoch,  17
pure train time  7.4977312088012695
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.17479944229125977  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.1968531608581543
loading full batch data spends  0.13406896591186523
REG start----................................
Convert a graph into a bidirected graph: 1.294 seconds, peak memory: 57.939 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.939 GB
Metis partitioning: 7.020 seconds, peak memory: 57.939 GB
Split the graph: 0.781 seconds
Construct subgraphs: 0.126 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8059136867523193
pure dgl.metis_partition the time spent:  9.237985134124756
connection checking time:  2.588268518447876
block generation total time  2.833449363708496
generate_dataloader_block spend   19.070531845092773
epoch,  18
pure train time  7.525554418563843
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.1748824119567871  GigaBytes
Max Memory Allocated: 4.095789909362793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.147120475769043
loading full batch data spends  0.10985279083251953
REG start----................................
Convert a graph into a bidirected graph: 1.372 seconds, peak memory: 57.939 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.939 GB
Metis partitioning: 7.220 seconds, peak memory: 57.939 GB
Split the graph: 0.871 seconds
Construct subgraphs: 0.141 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9544920921325684
pure dgl.metis_partition the time spent:  9.622230768203735
connection checking time:  3.241136074066162
block generation total time  2.708016872406006
generate_dataloader_block spend   20.16600489616394
epoch,  19
pure train time  7.538607120513916
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.580078125 GB
    Memory Allocated: 0.1744246482849121  GigaBytes
Max Memory Allocated: 4.144411087036133  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.087232828140259
Total (block generation + training)time/epoch 28.601784369524786
pure train time/epoch 7.516313823064168

num_input_list  [803258, 812122, 832917, 809145, 799433, 781338, 809314, 795066, 801965, 812387, 784343, 806068, 808245, 777637, 787519, 784307, 790032, 820461, 790520, 793393]
