main start at this time 1691461059.889949
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.292 seconds, peak memory: 27.381 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.381 GB
Metis partitioning: 6.047 seconds, peak memory: 27.996 GB
Split the graph: 1.492 seconds
Construct subgraphs: 0.115 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8264477252960205
pure dgl.metis_partition the time spent:  8.962282657623291
connection checking time:  2.5449705123901367
block generation total time  2.2414145469665527
epoch,  0
pure train time  5.144070863723755
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.146484375 GB
    Memory Allocated: 0.19060516357421875  GigaBytes
Max Memory Allocated: 8.510056018829346  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.775967597961426
REG start----................................
Convert a graph into a bidirected graph: 1.333 seconds, peak memory: 50.388 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 50.388 GB
Metis partitioning: 6.155 seconds, peak memory: 50.957 GB
Split the graph: 1.686 seconds
Construct subgraphs: 0.147 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6805853843688965
pure dgl.metis_partition the time spent:  9.336413145065308
connection checking time:  2.568000316619873
block generation total time  2.27946400642395
epoch,  1
pure train time  4.675166368484497
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.146484375 GB
    Memory Allocated: 0.19007396697998047  GigaBytes
Max Memory Allocated: 8.510056018829346  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1919803619384766
REG start----................................
Convert a graph into a bidirected graph: 1.364 seconds, peak memory: 61.342 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.342 GB
Metis partitioning: 6.060 seconds, peak memory: 61.922 GB
Split the graph: 1.480 seconds
Construct subgraphs: 0.026 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9283626079559326
pure dgl.metis_partition the time spent:  8.946765184402466
connection checking time:  2.6211462020874023
block generation total time  2.416560173034668
epoch,  2
pure train time  4.747164726257324
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.2109375 GB
    Memory Allocated: 0.1908435821533203  GigaBytes
Max Memory Allocated: 8.510056018829346  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.603956460952759
loading full batch data spends  0.09738326072692871
REG start----................................
Convert a graph into a bidirected graph: 1.412 seconds, peak memory: 62.131 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.131 GB
Metis partitioning: 6.758 seconds, peak memory: 62.131 GB
Split the graph: 1.995 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.989729404449463
pure dgl.metis_partition the time spent:  10.20147156715393
connection checking time:  2.6003928184509277
block generation total time  2.295727252960205
generate_dataloader_block spend   19.7320556640625
epoch,  3
pure train time  4.7330732345581055
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.609375 GB
    Memory Allocated: 0.1894702911376953  GigaBytes
Max Memory Allocated: 9.31775712966919  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.078922986984253
loading full batch data spends  0.08453965187072754
REG start----................................
Convert a graph into a bidirected graph: 1.326 seconds, peak memory: 62.976 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.976 GB
Metis partitioning: 6.216 seconds, peak memory: 63.606 GB
Split the graph: 1.803 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8552966117858887
pure dgl.metis_partition the time spent:  9.384763956069946
connection checking time:  2.554607391357422
block generation total time  2.211331605911255
generate_dataloader_block spend   18.697817087173462
epoch,  4
pure train time  4.697075843811035
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.609375 GB
    Memory Allocated: 0.18208026885986328  GigaBytes
Max Memory Allocated: 9.31775712966919  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.067822217941284
loading full batch data spends  0.07216644287109375
REG start----................................
Convert a graph into a bidirected graph: 1.327 seconds, peak memory: 63.651 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.651 GB
Metis partitioning: 6.187 seconds, peak memory: 63.651 GB
Split the graph: 1.491 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9793248176574707
pure dgl.metis_partition the time spent:  9.041462421417236
connection checking time:  1.3642895221710205
block generation total time  1.1620125770568848
generate_dataloader_block spend   16.16320538520813
epoch,  5
pure train time  4.649050951004028
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.609375 GB
    Memory Allocated: 0.1896810531616211  GigaBytes
Max Memory Allocated: 9.31775712966919  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.066185712814331
loading full batch data spends  0.0858907699584961
REG start----................................
Convert a graph into a bidirected graph: 1.327 seconds, peak memory: 63.774 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.774 GB
Metis partitioning: 6.336 seconds, peak memory: 63.774 GB
Split the graph: 1.755 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  3.893237352371216
pure dgl.metis_partition the time spent:  9.456745862960815
connection checking time:  2.3796966075897217
block generation total time  2.3066976070404053
generate_dataloader_block spend   18.680889129638672
epoch,  6
pure train time  4.745631217956543
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.609375 GB
    Memory Allocated: 0.18335437774658203  GigaBytes
Max Memory Allocated: 9.31775712966919  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0297398567199707
loading full batch data spends  0.08477330207824707
REG start----................................
Convert a graph into a bidirected graph: 1.305 seconds, peak memory: 63.774 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.774 GB
Metis partitioning: 6.528 seconds, peak memory: 63.774 GB
Split the graph: 1.856 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8480584621429443
pure dgl.metis_partition the time spent:  9.726067781448364
connection checking time:  2.3305504322052
block generation total time  2.2788236141204834
generate_dataloader_block spend   18.775530338287354
epoch,  7
pure train time  4.706766128540039
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.62890625 GB
    Memory Allocated: 0.16669082641601562  GigaBytes
Max Memory Allocated: 9.31775712966919  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.9590463638305664
loading full batch data spends  0.06114959716796875
REG start----................................
Convert a graph into a bidirected graph: 1.288 seconds, peak memory: 63.774 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.774 GB
Metis partitioning: 6.633 seconds, peak memory: 63.774 GB
Split the graph: 1.888 seconds
Construct subgraphs: 0.037 seconds
REG metis partition end ----................................
REG construction  time spent:  3.795130491256714
pure dgl.metis_partition the time spent:  9.864130973815918
connection checking time:  2.3077762126922607
block generation total time  2.2739272117614746
generate_dataloader_block spend   18.875473022460938
epoch,  8
pure train time  4.678795576095581
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.62890625 GB
    Memory Allocated: 0.1816558837890625  GigaBytes
Max Memory Allocated: 9.31775712966919  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8694052696228027
loading full batch data spends  0.07018041610717773
REG start----................................
Convert a graph into a bidirected graph: 1.295 seconds, peak memory: 63.820 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.820 GB
Metis partitioning: 6.289 seconds, peak memory: 63.820 GB
Split the graph: 1.426 seconds
Construct subgraphs: 0.032 seconds
REG metis partition end ----................................
REG construction  time spent:  3.77333402633667
pure dgl.metis_partition the time spent:  9.06055760383606
connection checking time:  2.5907318592071533
block generation total time  2.295044422149658
generate_dataloader_block spend   18.409924507141113
epoch,  9
pure train time  4.664617300033569
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.62890625 GB
    Memory Allocated: 0.16523504257202148  GigaBytes
Max Memory Allocated: 9.31775712966919  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.76861572265625
loading full batch data spends  0.06539177894592285
REG start----................................
Convert a graph into a bidirected graph: 1.363 seconds, peak memory: 63.820 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.820 GB
Metis partitioning: 6.725 seconds, peak memory: 63.820 GB
Split the graph: 1.756 seconds
Construct subgraphs: 0.031 seconds
REG metis partition end ----................................
REG construction  time spent:  4.032070636749268
pure dgl.metis_partition the time spent:  9.891889095306396
connection checking time:  2.6004245281219482
block generation total time  2.2729063034057617
generate_dataloader_block spend   19.49199867248535
epoch,  10
pure train time  4.67103123664856
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.62890625 GB
    Memory Allocated: 0.18197202682495117  GigaBytes
Max Memory Allocated: 9.31775712966919  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.6720962524414062
loading full batch data spends  0.06502318382263184
REG start----................................
Convert a graph into a bidirected graph: 1.342 seconds, peak memory: 63.820 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.820 GB
Metis partitioning: 6.382 seconds, peak memory: 63.834 GB
Split the graph: 1.575 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.855682373046875
pure dgl.metis_partition the time spent:  9.336269855499268
connection checking time:  2.201810598373413
block generation total time  2.000311851501465
generate_dataloader_block spend   18.0154447555542
epoch,  11
pure train time  4.736154079437256
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.62890625 GB
    Memory Allocated: 0.16434764862060547  GigaBytes
Max Memory Allocated: 9.31775712966919  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.606806755065918
loading full batch data spends  0.06476974487304688
REG start----................................
Convert a graph into a bidirected graph: 1.350 seconds, peak memory: 63.852 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.852 GB
Metis partitioning: 6.446 seconds, peak memory: 63.852 GB
Split the graph: 1.830 seconds
Construct subgraphs: 0.035 seconds
REG metis partition end ----................................
REG construction  time spent:  3.829664945602417
pure dgl.metis_partition the time spent:  9.689453840255737
connection checking time:  2.6340010166168213
block generation total time  2.3355720043182373
generate_dataloader_block spend   19.23399305343628
epoch,  12
pure train time  4.727588891983032
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.62890625 GB
    Memory Allocated: 0.18172645568847656  GigaBytes
Max Memory Allocated: 9.31775712966919  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.5572776794433594
loading full batch data spends  0.08315873146057129
REG start----................................
Convert a graph into a bidirected graph: 1.322 seconds, peak memory: 63.852 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.852 GB
Metis partitioning: 6.544 seconds, peak memory: 63.888 GB
Split the graph: 1.717 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8483734130859375
pure dgl.metis_partition the time spent:  9.623732566833496
connection checking time:  1.9052884578704834
block generation total time  1.9411170482635498
generate_dataloader_block spend   17.96083664894104
epoch,  13
pure train time  4.6988914012908936
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.62890625 GB
    Memory Allocated: 0.17470741271972656  GigaBytes
Max Memory Allocated: 9.31775712966919  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.4738502502441406
loading full batch data spends  0.06364202499389648
REG start----................................
Convert a graph into a bidirected graph: 1.362 seconds, peak memory: 63.888 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.888 GB
Metis partitioning: 6.860 seconds, peak memory: 63.888 GB
Split the graph: 1.685 seconds
Construct subgraphs: 0.028 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8537960052490234
pure dgl.metis_partition the time spent:  9.952048063278198
connection checking time:  2.299034595489502
block generation total time  2.2376303672790527
generate_dataloader_block spend   18.965834379196167
epoch,  14
pure train time  4.720296382904053
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.830078125 GB
    Memory Allocated: 0.1875615119934082  GigaBytes
Max Memory Allocated: 9.506072044372559  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.3972713947296143
loading full batch data spends  0.08850383758544922
REG start----................................
Convert a graph into a bidirected graph: 1.380 seconds, peak memory: 64.218 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.218 GB
Metis partitioning: 6.711 seconds, peak memory: 64.781 GB
Split the graph: 2.001 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.899585247039795
pure dgl.metis_partition the time spent:  10.13044810295105
connection checking time:  2.4293131828308105
block generation total time  2.2731692790985107
generate_dataloader_block spend   19.357208728790283
epoch,  15
pure train time  4.737553834915161
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.830078125 GB
    Memory Allocated: 0.18280315399169922  GigaBytes
Max Memory Allocated: 9.506072044372559  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.3213815689086914
loading full batch data spends  0.08786511421203613
REG start----................................
Convert a graph into a bidirected graph: 1.324 seconds, peak memory: 64.941 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.941 GB
Metis partitioning: 6.749 seconds, peak memory: 64.941 GB
Split the graph: 1.660 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9902896881103516
pure dgl.metis_partition the time spent:  9.772499561309814
connection checking time:  2.447143793106079
block generation total time  2.266414165496826
generate_dataloader_block spend   19.132895469665527
epoch,  16
pure train time  4.7021098136901855
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.830078125 GB
    Memory Allocated: 0.1906118392944336  GigaBytes
Max Memory Allocated: 9.506072044372559  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.248196840286255
loading full batch data spends  0.06888675689697266
REG start----................................
Convert a graph into a bidirected graph: 1.332 seconds, peak memory: 64.941 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.941 GB
Metis partitioning: 6.778 seconds, peak memory: 64.941 GB
Split the graph: 1.343 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  4.058612108230591
pure dgl.metis_partition the time spent:  9.491884708404541
connection checking time:  2.2761738300323486
block generation total time  2.092921018600464
generate_dataloader_block spend   18.57418990135193
epoch,  17
pure train time  4.723190784454346
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.830078125 GB
    Memory Allocated: 0.1834092140197754  GigaBytes
Max Memory Allocated: 9.506072044372559  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.1964001655578613
loading full batch data spends  0.07699704170227051
REG start----................................
Convert a graph into a bidirected graph: 1.347 seconds, peak memory: 64.955 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.955 GB
Metis partitioning: 7.030 seconds, peak memory: 64.955 GB
Split the graph: 1.936 seconds
Construct subgraphs: 0.027 seconds
REG metis partition end ----................................
REG construction  time spent:  4.090434789657593
pure dgl.metis_partition the time spent:  10.358428716659546
connection checking time:  2.532219648361206
block generation total time  2.2853875160217285
generate_dataloader_block spend   19.975786447525024
epoch,  18
pure train time  4.7349913120269775
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.830078125 GB
    Memory Allocated: 0.16889238357543945  GigaBytes
Max Memory Allocated: 9.506072044372559  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.1465976238250732
loading full batch data spends  0.08834123611450195
REG start----................................
Convert a graph into a bidirected graph: 1.363 seconds, peak memory: 65.102 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.102 GB
Metis partitioning: 6.803 seconds, peak memory: 65.102 GB
Split the graph: 1.756 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  4.0584635734558105
pure dgl.metis_partition the time spent:  9.96293830871582
connection checking time:  2.4303455352783203
block generation total time  2.2582294940948486
generate_dataloader_block spend   19.405603170394897
epoch,  19
pure train time  4.720669269561768
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.830078125 GB
    Memory Allocated: 0.19110727310180664  GigaBytes
Max Memory Allocated: 9.506072044372559  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.0892457962036133
Total (block generation + training)time/epoch 24.537011988022748
pure train time/epoch 4.707822545369466

num_input_list  [531047, 525177, 540011, 514547, 507469, 498794, 522395, 523834, 516575, 536860, 506984, 529851, 530312, 507456, 492952, 508796, 507954, 536586, 497615, 510376]
