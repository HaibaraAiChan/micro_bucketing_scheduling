main start at this time 1691460562.0207314
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.337 seconds, peak memory: 27.384 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.384 GB
Metis partitioning: 6.030 seconds, peak memory: 27.997 GB
Split the graph: 1.989 seconds
Construct subgraphs: 0.143 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8756930828094482
pure dgl.metis_partition the time spent:  9.516436338424683
connection checking time:  2.456981658935547
block generation total time  2.1657285690307617
epoch,  0
pure train time  4.934298992156982
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.65625 GB
    Memory Allocated: 0.17626953125  GigaBytes
Max Memory Allocated: 9.382798671722412  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7769811153411865
REG start----................................
Convert a graph into a bidirected graph: 1.283 seconds, peak memory: 51.388 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 51.388 GB
Metis partitioning: 6.221 seconds, peak memory: 51.957 GB
Split the graph: 1.629 seconds
Construct subgraphs: 0.096 seconds
REG metis partition end ----................................
REG construction  time spent:  3.707808017730713
pure dgl.metis_partition the time spent:  9.245334386825562
connection checking time:  2.4150705337524414
block generation total time  2.179614543914795
epoch,  1
pure train time  4.540562868118286
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.712890625 GB
    Memory Allocated: 0.17546749114990234  GigaBytes
Max Memory Allocated: 9.382798671722412  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.191040515899658
REG start----................................
Convert a graph into a bidirected graph: 1.281 seconds, peak memory: 61.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.510 GB
Metis partitioning: 6.122 seconds, peak memory: 62.090 GB
Split the graph: 1.763 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.674527406692505
pure dgl.metis_partition the time spent:  9.202758550643921
connection checking time:  2.113513946533203
block generation total time  2.206310749053955
epoch,  2
pure train time  4.515188932418823
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.9375 GB
    Memory Allocated: 0.18027114868164062  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6146788597106934
loading full batch data spends  0.06703805923461914
REG start----................................
Convert a graph into a bidirected graph: 1.314 seconds, peak memory: 64.643 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.643 GB
Metis partitioning: 6.262 seconds, peak memory: 65.277 GB
Split the graph: 1.994 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  4.058797597885132
pure dgl.metis_partition the time spent:  9.606715679168701
connection checking time:  2.4041619300842285
block generation total time  2.264133930206299
generate_dataloader_block spend   18.990073204040527
epoch,  3
pure train time  4.551977157592773
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.9375 GB
    Memory Allocated: 0.19544267654418945  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.076735258102417
loading full batch data spends  0.08679914474487305
REG start----................................
Convert a graph into a bidirected graph: 1.317 seconds, peak memory: 65.437 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.437 GB
Metis partitioning: 6.294 seconds, peak memory: 65.437 GB
Split the graph: 1.837 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9354846477508545
pure dgl.metis_partition the time spent:  9.484065055847168
connection checking time:  1.5299794673919678
block generation total time  1.4717967510223389
generate_dataloader_block spend   17.03785538673401
epoch,  4
pure train time  4.44128680229187
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.9375 GB
    Memory Allocated: 0.1943063735961914  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.066643476486206
loading full batch data spends  0.07554864883422852
REG start----................................
Convert a graph into a bidirected graph: 1.323 seconds, peak memory: 65.444 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.444 GB
Metis partitioning: 6.325 seconds, peak memory: 65.444 GB
Split the graph: 1.936 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7800509929656982
pure dgl.metis_partition the time spent:  9.622487306594849
connection checking time:  2.193542003631592
block generation total time  2.1743171215057373
generate_dataloader_block spend   18.39826536178589
epoch,  5
pure train time  4.5456342697143555
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.9375 GB
    Memory Allocated: 0.18675470352172852  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.066196918487549
loading full batch data spends  0.08417892456054688
REG start----................................
Convert a graph into a bidirected graph: 1.316 seconds, peak memory: 65.444 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.444 GB
Metis partitioning: 6.397 seconds, peak memory: 65.444 GB
Split the graph: 1.897 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.878465414047241
pure dgl.metis_partition the time spent:  9.649723768234253
connection checking time:  2.006368398666382
block generation total time  2.235501289367676
generate_dataloader_block spend   18.408690929412842
epoch,  6
pure train time  4.45153546333313
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.9375 GB
    Memory Allocated: 0.18683433532714844  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0292892456054688
loading full batch data spends  0.061164140701293945
REG start----................................
Convert a graph into a bidirected graph: 1.297 seconds, peak memory: 65.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.510 GB
Metis partitioning: 6.805 seconds, peak memory: 65.510 GB
Split the graph: 1.971 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  3.902226686477661
pure dgl.metis_partition the time spent:  10.113440752029419
connection checking time:  2.368041515350342
block generation total time  2.2894535064697266
generate_dataloader_block spend   19.298683404922485
epoch,  7
pure train time  4.549465656280518
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.9375 GB
    Memory Allocated: 0.17833757400512695  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.9590351581573486
loading full batch data spends  0.05598759651184082
REG start----................................
Convert a graph into a bidirected graph: 1.305 seconds, peak memory: 65.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.510 GB
Metis partitioning: 6.301 seconds, peak memory: 65.510 GB
Split the graph: 1.808 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7874503135681152
pure dgl.metis_partition the time spent:  9.449257850646973
connection checking time:  2.287026882171631
block generation total time  2.238409996032715
generate_dataloader_block spend   18.38627290725708
epoch,  8
pure train time  4.520946025848389
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.9375 GB
    Memory Allocated: 0.18638896942138672  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8695924282073975
loading full batch data spends  0.08292627334594727
REG start----................................
Convert a graph into a bidirected graph: 1.355 seconds, peak memory: 65.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.510 GB
Metis partitioning: 6.528 seconds, peak memory: 65.510 GB
Split the graph: 1.929 seconds
Construct subgraphs: 0.030 seconds
REG metis partition end ----................................
REG construction  time spent:  3.978107213973999
pure dgl.metis_partition the time spent:  9.85949444770813
connection checking time:  2.5412709712982178
block generation total time  2.242414951324463
generate_dataloader_block spend   19.299986362457275
epoch,  9
pure train time  4.530885457992554
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.951171875 GB
    Memory Allocated: 0.1950817108154297  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7686543464660645
loading full batch data spends  0.06442975997924805
REG start----................................
Convert a graph into a bidirected graph: 1.292 seconds, peak memory: 65.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.510 GB
Metis partitioning: 6.404 seconds, peak memory: 65.510 GB
Split the graph: 1.811 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  4.013545751571655
pure dgl.metis_partition the time spent:  9.55073094367981
connection checking time:  2.3537309169769287
block generation total time  2.229522943496704
generate_dataloader_block spend   18.768709897994995
epoch,  10
pure train time  4.5261595249176025
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.951171875 GB
    Memory Allocated: 0.19559907913208008  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.6730382442474365
loading full batch data spends  0.07884430885314941
REG start----................................
Convert a graph into a bidirected graph: 1.359 seconds, peak memory: 65.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.510 GB
Metis partitioning: 6.517 seconds, peak memory: 65.510 GB
Split the graph: 1.956 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9325265884399414
pure dgl.metis_partition the time spent:  9.86841368675232
connection checking time:  2.220184326171875
block generation total time  2.2194910049438477
generate_dataloader_block spend   18.841063261032104
epoch,  11
pure train time  4.545201301574707
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.951171875 GB
    Memory Allocated: 0.18739938735961914  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.605379104614258
loading full batch data spends  0.09535861015319824
REG start----................................
Convert a graph into a bidirected graph: 1.313 seconds, peak memory: 65.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.510 GB
Metis partitioning: 6.326 seconds, peak memory: 65.510 GB
Split the graph: 1.573 seconds
Construct subgraphs: 0.053 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8842437267303467
pure dgl.metis_partition the time spent:  9.282556056976318
connection checking time:  2.5369455814361572
block generation total time  2.279172420501709
generate_dataloader_block spend   18.6748685836792
epoch,  12
pure train time  4.57501482963562
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.951171875 GB
    Memory Allocated: 0.18788719177246094  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.5574536323547363
loading full batch data spends  0.07666516304016113
REG start----................................
Convert a graph into a bidirected graph: 1.527 seconds, peak memory: 65.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.510 GB
Metis partitioning: 6.452 seconds, peak memory: 65.510 GB
Split the graph: 1.834 seconds
Construct subgraphs: 0.031 seconds
REG metis partition end ----................................
REG construction  time spent:  4.036968469619751
pure dgl.metis_partition the time spent:  9.863776922225952
connection checking time:  2.4786324501037598
block generation total time  2.277554988861084
generate_dataloader_block spend   19.415342092514038
epoch,  13
pure train time  4.542312860488892
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.951171875 GB
    Memory Allocated: 0.1747422218322754  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.4744246006011963
loading full batch data spends  0.07853126525878906
REG start----................................
Convert a graph into a bidirected graph: 1.357 seconds, peak memory: 65.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.510 GB
Metis partitioning: 6.650 seconds, peak memory: 65.510 GB
Split the graph: 1.899 seconds
Construct subgraphs: 0.032 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8423819541931152
pure dgl.metis_partition the time spent:  9.954803466796875
connection checking time:  2.2889769077301025
block generation total time  2.2569568157196045
generate_dataloader_block spend   18.999037981033325
epoch,  14
pure train time  4.53603458404541
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.951171875 GB
    Memory Allocated: 0.17551088333129883  GigaBytes
Max Memory Allocated: 9.505038261413574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.3985939025878906
loading full batch data spends  0.06099700927734375
REG start----................................
Convert a graph into a bidirected graph: 1.334 seconds, peak memory: 65.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.510 GB
Metis partitioning: 6.512 seconds, peak memory: 65.510 GB
Split the graph: 1.846 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9012579917907715
pure dgl.metis_partition the time spent:  9.732734680175781
connection checking time:  2.310720205307007
block generation total time  2.317004680633545
generate_dataloader_block spend   18.894656658172607
epoch,  15
pure train time  4.530497312545776
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.1875 GB
    Memory Allocated: 0.17675065994262695  GigaBytes
Max Memory Allocated: 9.579151630401611  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.3223154544830322
loading full batch data spends  0.0640711784362793
REG start----................................
Convert a graph into a bidirected graph: 1.362 seconds, peak memory: 66.120 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.120 GB
Metis partitioning: 6.668 seconds, peak memory: 66.728 GB
Split the graph: 2.015 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9449033737182617
pure dgl.metis_partition the time spent:  10.084592580795288
connection checking time:  1.457552433013916
block generation total time  1.466557502746582
generate_dataloader_block spend   17.58249020576477
epoch,  16
pure train time  4.480509519577026
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.44140625 GB
    Memory Allocated: 0.19597148895263672  GigaBytes
Max Memory Allocated: 9.674293994903564  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.2499539852142334
loading full batch data spends  0.07433915138244629
REG start----................................
Convert a graph into a bidirected graph: 1.362 seconds, peak memory: 67.350 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 67.350 GB
Metis partitioning: 6.930 seconds, peak memory: 67.985 GB
Split the graph: 1.836 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.824361801147461
pure dgl.metis_partition the time spent:  10.168163776397705
connection checking time:  2.5719106197357178
block generation total time  2.272088050842285
generate_dataloader_block spend   19.567959785461426
epoch,  17
pure train time  4.540186882019043
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.44140625 GB
    Memory Allocated: 0.1954822540283203  GigaBytes
Max Memory Allocated: 9.674293994903564  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.1982614994049072
loading full batch data spends  0.07035326957702637
REG start----................................
Convert a graph into a bidirected graph: 1.379 seconds, peak memory: 68.182 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 68.182 GB
Metis partitioning: 6.831 seconds, peak memory: 68.182 GB
Split the graph: 1.688 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  4.050523281097412
pure dgl.metis_partition the time spent:  9.944971561431885
connection checking time:  2.37276291847229
block generation total time  2.250274658203125
generate_dataloader_block spend   19.29402184486389
epoch,  18
pure train time  4.543905258178711
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.44140625 GB
    Memory Allocated: 0.18780994415283203  GigaBytes
Max Memory Allocated: 9.674293994903564  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.1485955715179443
loading full batch data spends  0.09486722946166992
REG start----................................
Convert a graph into a bidirected graph: 1.372 seconds, peak memory: 68.212 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 68.212 GB
Metis partitioning: 6.825 seconds, peak memory: 68.212 GB
Split the graph: 1.765 seconds
Construct subgraphs: 0.031 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9136135578155518
pure dgl.metis_partition the time spent:  10.012596368789673
connection checking time:  2.1964499950408936
block generation total time  2.157362461090088
generate_dataloader_block spend   18.89766764640808
epoch,  19
pure train time  4.5260560512542725
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.44140625 GB
    Memory Allocated: 0.17653369903564453  GigaBytes
Max Memory Allocated: 9.674293994903564  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.089289665222168
Total (block generation + training)time/epoch 24.281984595691455
pure train time/epoch 4.529622999827067

num_input_list  [481458, 476545, 476577, 502733, 482261, 469854, 485150, 489798, 488410, 491996, 481139, 480929, 503406, 490361, 502077, 492018, 479298, 500195, 480663, 466952]
