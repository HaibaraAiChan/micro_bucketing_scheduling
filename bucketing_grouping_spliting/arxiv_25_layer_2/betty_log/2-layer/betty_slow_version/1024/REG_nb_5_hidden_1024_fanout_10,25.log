main start at this time 1691457607.952773
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.405 seconds, peak memory: 27.381 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.381 GB
Metis partitioning: 6.378 seconds, peak memory: 28.158 GB
Split the graph: 3.243 seconds
Construct subgraphs: 0.089 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5154573917388916
pure dgl.metis_partition the time spent:  11.130162239074707
connection checking time:  2.074270009994507
block generation total time  1.9473252296447754
epoch,  0
pure train time  4.32146430015564
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.505859375 GB
    Memory Allocated: 0.20172882080078125  GigaBytes
Max Memory Allocated: 16.908377647399902  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7756845951080322
REG start----................................
Convert a graph into a bidirected graph: 1.276 seconds, peak memory: 62.877 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.877 GB
Metis partitioning: 5.867 seconds, peak memory: 62.877 GB
Split the graph: 3.346 seconds
Construct subgraphs: 0.028 seconds
REG metis partition end ----................................
REG construction  time spent:  3.771932363510132
pure dgl.metis_partition the time spent:  10.534506797790527
connection checking time:  2.0337557792663574
block generation total time  1.8653945922851562
epoch,  1
pure train time  3.71728777885437
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.865234375 GB
    Memory Allocated: 0.2005939483642578  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1906471252441406
REG start----................................
Convert a graph into a bidirected graph: 1.403 seconds, peak memory: 73.374 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.374 GB
Metis partitioning: 6.067 seconds, peak memory: 74.159 GB
Split the graph: 3.261 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  3.841374397277832
pure dgl.metis_partition the time spent:  10.768808603286743
connection checking time:  1.0678298473358154
block generation total time  0.9950098991394043
epoch,  2
pure train time  3.6829495429992676
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.865234375 GB
    Memory Allocated: 0.2037949562072754  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6023337841033936
loading full batch data spends  0.07934784889221191
REG start----................................
Convert a graph into a bidirected graph: 1.320 seconds, peak memory: 74.534 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.534 GB
Metis partitioning: 5.884 seconds, peak memory: 74.534 GB
Split the graph: 3.469 seconds
Construct subgraphs: 0.133 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9741406440734863
pure dgl.metis_partition the time spent:  10.822577238082886
connection checking time:  2.0736770629882812
block generation total time  1.914269208908081
generate_dataloader_block spend   19.46812677383423
epoch,  3
pure train time  3.701824426651001
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.865234375 GB
    Memory Allocated: 0.2025294303894043  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.080371379852295
loading full batch data spends  0.07441258430480957
REG start----................................
Convert a graph into a bidirected graph: 1.283 seconds, peak memory: 74.534 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.534 GB
Metis partitioning: 5.828 seconds, peak memory: 74.534 GB
Split the graph: 2.783 seconds
Construct subgraphs: 0.006 seconds
REG metis partition end ----................................
REG construction  time spent:  3.876786708831787
pure dgl.metis_partition the time spent:  9.915602207183838
connection checking time:  1.0010671615600586
block generation total time  0.9784479141235352
generate_dataloader_block spend   16.31043314933777
epoch,  4
pure train time  3.678473711013794
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.865234375 GB
    Memory Allocated: 0.1985454559326172  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.066716194152832
loading full batch data spends  0.07846403121948242
REG start----................................
Convert a graph into a bidirected graph: 1.328 seconds, peak memory: 74.534 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.534 GB
Metis partitioning: 6.271 seconds, peak memory: 74.534 GB
Split the graph: 3.284 seconds
Construct subgraphs: 0.038 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8217408657073975
pure dgl.metis_partition the time spent:  10.938031196594238
connection checking time:  2.028810977935791
block generation total time  1.969292402267456
generate_dataloader_block spend   19.46099591255188
epoch,  5
pure train time  3.7096009254455566
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.865234375 GB
    Memory Allocated: 0.20195579528808594  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0655481815338135
loading full batch data spends  0.06294131278991699
REG start----................................
Convert a graph into a bidirected graph: 1.312 seconds, peak memory: 74.534 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.534 GB
Metis partitioning: 5.969 seconds, peak memory: 74.534 GB
Split the graph: 3.190 seconds
Construct subgraphs: 0.041 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8727078437805176
pure dgl.metis_partition the time spent:  10.52817440032959
connection checking time:  2.0455715656280518
block generation total time  1.9528324604034424
generate_dataloader_block spend   19.067405700683594
epoch,  6
pure train time  3.7086265087127686
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.865234375 GB
    Memory Allocated: 0.2001042366027832  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0270793437957764
loading full batch data spends  0.06545853614807129
REG start----................................
Convert a graph into a bidirected graph: 1.311 seconds, peak memory: 74.591 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.591 GB
Metis partitioning: 5.932 seconds, peak memory: 74.591 GB
Split the graph: 3.130 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8078980445861816
pure dgl.metis_partition the time spent:  10.402882099151611
connection checking time:  2.000530481338501
block generation total time  1.889852523803711
generate_dataloader_block spend   18.76521396636963
epoch,  7
pure train time  3.703033208847046
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.865234375 GB
    Memory Allocated: 0.2017674446105957  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.958383083343506
loading full batch data spends  0.052457332611083984
REG start----................................
Convert a graph into a bidirected graph: 1.392 seconds, peak memory: 74.591 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.591 GB
Metis partitioning: 6.521 seconds, peak memory: 74.591 GB
Split the graph: 3.203 seconds
Construct subgraphs: 0.011 seconds
REG metis partition end ----................................
REG construction  time spent:  3.962189197540283
pure dgl.metis_partition the time spent:  11.143340349197388
connection checking time:  2.002979040145874
block generation total time  1.8828814029693604
generate_dataloader_block spend   19.72159242630005
epoch,  8
pure train time  3.6928086280822754
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.865234375 GB
    Memory Allocated: 0.2017378807067871  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.864717960357666
loading full batch data spends  0.05521893501281738
REG start----................................
Convert a graph into a bidirected graph: 1.326 seconds, peak memory: 74.591 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.591 GB
Metis partitioning: 6.210 seconds, peak memory: 74.591 GB
Split the graph: 3.284 seconds
Construct subgraphs: 0.013 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9063937664031982
pure dgl.metis_partition the time spent:  10.85084080696106
connection checking time:  1.9981887340545654
block generation total time  1.8803679943084717
generate_dataloader_block spend   19.335911750793457
epoch,  9
pure train time  3.7273313999176025
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.865234375 GB
    Memory Allocated: 0.20128822326660156  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.766965866088867
loading full batch data spends  0.04906892776489258
REG start----................................
Convert a graph into a bidirected graph: 1.315 seconds, peak memory: 74.591 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.591 GB
Metis partitioning: 6.146 seconds, peak memory: 74.591 GB
Split the graph: 3.285 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8309948444366455
pure dgl.metis_partition the time spent:  10.781170845031738
connection checking time:  2.171100378036499
block generation total time  1.9908547401428223
generate_dataloader_block spend   19.447372436523438
epoch,  10
pure train time  3.708735942840576
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.876953125 GB
    Memory Allocated: 0.2022714614868164  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.67114520072937
loading full batch data spends  0.05942416191101074
REG start----................................
Convert a graph into a bidirected graph: 1.403 seconds, peak memory: 74.591 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.591 GB
Metis partitioning: 6.652 seconds, peak memory: 74.591 GB
Split the graph: 3.000 seconds
Construct subgraphs: 0.058 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8262436389923096
pure dgl.metis_partition the time spent:  11.131236553192139
connection checking time:  2.008979082107544
block generation total time  1.9010422229766846
generate_dataloader_block spend   19.544307708740234
epoch,  11
pure train time  3.684896230697632
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.876953125 GB
    Memory Allocated: 0.20350122451782227  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.6063709259033203
loading full batch data spends  0.06180906295776367
REG start----................................
Convert a graph into a bidirected graph: 1.413 seconds, peak memory: 74.591 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.591 GB
Metis partitioning: 6.838 seconds, peak memory: 74.591 GB
Split the graph: 3.220 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8542561531066895
pure dgl.metis_partition the time spent:  11.505747318267822
connection checking time:  2.091704845428467
block generation total time  1.932481288909912
generate_dataloader_block spend   20.03600811958313
epoch,  12
pure train time  3.7297275066375732
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.876953125 GB
    Memory Allocated: 0.2018117904663086  GigaBytes
Max Memory Allocated: 17.486490726470947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.5554769039154053
loading full batch data spends  0.08013558387756348
REG start----................................
Convert a graph into a bidirected graph: 1.328 seconds, peak memory: 74.591 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.591 GB
Metis partitioning: 6.428 seconds, peak memory: 74.591 GB
Split the graph: 3.631 seconds
Construct subgraphs: 0.036 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9140002727508545
pure dgl.metis_partition the time spent:  11.439392328262329
connection checking time:  1.9918160438537598
block generation total time  1.8419926166534424
generate_dataloader_block spend   19.89375114440918
epoch,  13
pure train time  3.693683385848999
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.296875 GB
    Memory Allocated: 0.20010852813720703  GigaBytes
Max Memory Allocated: 17.741082668304443  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.4711546897888184
loading full batch data spends  0.06544995307922363
REG start----................................
Convert a graph into a bidirected graph: 1.292 seconds, peak memory: 75.914 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.914 GB
Metis partitioning: 6.089 seconds, peak memory: 76.692 GB
Split the graph: 2.882 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9299890995025635
pure dgl.metis_partition the time spent:  10.300472497940063
connection checking time:  2.045271635055542
block generation total time  1.9238266944885254
generate_dataloader_block spend   18.86728048324585
epoch,  14
pure train time  3.7177364826202393
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.296875 GB
    Memory Allocated: 0.20184612274169922  GigaBytes
Max Memory Allocated: 17.741082668304443  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.3954739570617676
loading full batch data spends  0.07900118827819824
REG start----................................
Convert a graph into a bidirected graph: 1.377 seconds, peak memory: 77.053 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.053 GB
Metis partitioning: 6.369 seconds, peak memory: 77.053 GB
Split the graph: 3.145 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.808495044708252
pure dgl.metis_partition the time spent:  10.929561614990234
connection checking time:  1.9908421039581299
block generation total time  1.9200809001922607
generate_dataloader_block spend   19.306151628494263
epoch,  15
pure train time  3.725243330001831
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.296875 GB
    Memory Allocated: 0.20166587829589844  GigaBytes
Max Memory Allocated: 17.741082668304443  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.3198986053466797
loading full batch data spends  0.0775754451751709
REG start----................................
Convert a graph into a bidirected graph: 1.553 seconds, peak memory: 77.102 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.102 GB
Metis partitioning: 6.363 seconds, peak memory: 77.102 GB
Split the graph: 3.120 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7231740951538086
pure dgl.metis_partition the time spent:  11.06763482093811
connection checking time:  2.0653610229492188
block generation total time  1.9144394397735596
generate_dataloader_block spend   19.46544861793518
epoch,  16
pure train time  3.718658924102783
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.296875 GB
    Memory Allocated: 0.20450973510742188  GigaBytes
Max Memory Allocated: 17.741082668304443  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.24863862991333
loading full batch data spends  0.0649263858795166
REG start----................................
Convert a graph into a bidirected graph: 1.347 seconds, peak memory: 77.102 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.102 GB
Metis partitioning: 6.395 seconds, peak memory: 77.102 GB
Split the graph: 2.815 seconds
Construct subgraphs: 0.025 seconds
REG metis partition end ----................................
REG construction  time spent:  3.959216356277466
pure dgl.metis_partition the time spent:  10.601776838302612
connection checking time:  2.1113641262054443
block generation total time  1.9643189907073975
generate_dataloader_block spend   19.348453283309937
epoch,  17
pure train time  3.7161200046539307
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.30078125 GB
    Memory Allocated: 0.20352411270141602  GigaBytes
Max Memory Allocated: 17.741082668304443  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.198094367980957
loading full batch data spends  0.05997896194458008
REG start----................................
Convert a graph into a bidirected graph: 1.382 seconds, peak memory: 77.102 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.102 GB
Metis partitioning: 6.180 seconds, peak memory: 77.102 GB
Split the graph: 3.336 seconds
Construct subgraphs: 0.009 seconds
REG metis partition end ----................................
REG construction  time spent:  3.826155424118042
pure dgl.metis_partition the time spent:  10.924802303314209
connection checking time:  2.031785011291504
block generation total time  1.9707560539245605
generate_dataloader_block spend   19.432506799697876
epoch,  18
pure train time  3.719939708709717
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.30078125 GB
    Memory Allocated: 0.20328855514526367  GigaBytes
Max Memory Allocated: 17.741082668304443  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.146369695663452
loading full batch data spends  0.0629110336303711
REG start----................................
Convert a graph into a bidirected graph: 1.380 seconds, peak memory: 77.102 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.102 GB
Metis partitioning: 6.466 seconds, peak memory: 77.102 GB
Split the graph: 3.301 seconds
Construct subgraphs: 0.038 seconds
REG metis partition end ----................................
REG construction  time spent:  3.675020694732666
pure dgl.metis_partition the time spent:  11.203826904296875
connection checking time:  1.964125633239746
block generation total time  1.8637938499450684
generate_dataloader_block spend   19.376359224319458
epoch,  19
pure train time  3.7053887844085693
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.30078125 GB
    Memory Allocated: 0.19877338409423828  GigaBytes
Max Memory Allocated: 17.741082668304443  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.086221218109131
Total (block generation + training)time/epoch 23.76812183155733
pure train time/epoch 3.71076873143514

num_input_list  [343449, 331919, 343759, 344974, 326860, 334610, 331954, 337942, 336735, 331917, 341001, 337302, 342920, 328846, 347043, 334432, 344452, 350452, 340856, 324915]
