main start at this time 1691458094.8643515
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.277 seconds, peak memory: 27.383 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.383 GB
Metis partitioning: 5.789 seconds, peak memory: 28.212 GB
Split the graph: 2.726 seconds
Construct subgraphs: 0.102 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6524672508239746
pure dgl.metis_partition the time spent:  9.926335096359253
connection checking time:  2.0969340801239014
block generation total time  1.9066517353057861
epoch,  0
pure train time  4.285501718521118
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.19633769989013672  GigaBytes
Max Memory Allocated: 14.996263980865479  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7770204544067383
REG start----................................
Convert a graph into a bidirected graph: 1.286 seconds, peak memory: 65.934 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.934 GB
Metis partitioning: 5.868 seconds, peak memory: 66.658 GB
Split the graph: 2.611 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.889719247817993
pure dgl.metis_partition the time spent:  9.795593023300171
connection checking time:  2.069688558578491
block generation total time  1.8988521099090576
epoch,  1
pure train time  3.839146852493286
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.19724416732788086  GigaBytes
Max Memory Allocated: 14.996263980865479  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.190952777862549
REG start----................................
Convert a graph into a bidirected graph: 1.289 seconds, peak memory: 71.738 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.738 GB
Metis partitioning: 5.856 seconds, peak memory: 72.533 GB
Split the graph: 2.751 seconds
Construct subgraphs: 0.008 seconds
REG metis partition end ----................................
REG construction  time spent:  3.727055549621582
pure dgl.metis_partition the time spent:  9.919093370437622
connection checking time:  2.127849817276001
block generation total time  1.99349045753479
epoch,  2
pure train time  3.884441614151001
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.19821405410766602  GigaBytes
Max Memory Allocated: 14.996263980865479  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6071224212646484
loading full batch data spends  0.07982730865478516
REG start----................................
Convert a graph into a bidirected graph: 1.374 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 6.029 seconds, peak memory: 72.998 GB
Split the graph: 2.907 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7971529960632324
pure dgl.metis_partition the time spent:  10.343506813049316
connection checking time:  2.147218942642212
block generation total time  1.909010887145996
generate_dataloader_block spend   18.897444486618042
epoch,  3
pure train time  3.832411289215088
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.20125246047973633  GigaBytes
Max Memory Allocated: 14.996263980865479  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.077502727508545
loading full batch data spends  0.06796622276306152
REG start----................................
Convert a graph into a bidirected graph: 1.389 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 6.177 seconds, peak memory: 72.998 GB
Split the graph: 3.104 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8216774463653564
pure dgl.metis_partition the time spent:  10.701623678207397
connection checking time:  2.0541012287139893
block generation total time  1.9073193073272705
generate_dataloader_block spend   19.149434566497803
epoch,  4
pure train time  3.8463454246520996
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.19568586349487305  GigaBytes
Max Memory Allocated: 15.062513828277588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0679397583007812
loading full batch data spends  0.04732203483581543
REG start----................................
Convert a graph into a bidirected graph: 1.302 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 5.936 seconds, peak memory: 72.998 GB
Split the graph: 2.686 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9920718669891357
pure dgl.metis_partition the time spent:  9.958057880401611
connection checking time:  2.0106022357940674
block generation total time  1.871169090270996
generate_dataloader_block spend   18.571253299713135
epoch,  5
pure train time  3.83357572555542
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.19468450546264648  GigaBytes
Max Memory Allocated: 15.062513828277588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.065786600112915
loading full batch data spends  0.08584809303283691
REG start----................................
Convert a graph into a bidirected graph: 1.324 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 6.059 seconds, peak memory: 72.998 GB
Split the graph: 2.489 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.890181064605713
pure dgl.metis_partition the time spent:  9.907332181930542
connection checking time:  2.1161866188049316
block generation total time  2.0065174102783203
generate_dataloader_block spend   18.584545135498047
epoch,  6
pure train time  3.846890449523926
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.1985034942626953  GigaBytes
Max Memory Allocated: 15.062513828277588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0269887447357178
loading full batch data spends  0.06028389930725098
REG start----................................
Convert a graph into a bidirected graph: 1.300 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 6.169 seconds, peak memory: 72.998 GB
Split the graph: 2.966 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.900233268737793
pure dgl.metis_partition the time spent:  10.469151020050049
connection checking time:  2.10652756690979
block generation total time  1.9102365970611572
generate_dataloader_block spend   19.10789704322815
epoch,  7
pure train time  3.8387763500213623
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.1957097053527832  GigaBytes
Max Memory Allocated: 15.062513828277588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.957059860229492
loading full batch data spends  0.05616927146911621
REG start----................................
Convert a graph into a bidirected graph: 1.304 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 6.104 seconds, peak memory: 72.998 GB
Split the graph: 2.637 seconds
Construct subgraphs: 0.015 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9575397968292236
pure dgl.metis_partition the time spent:  10.077404975891113
connection checking time:  2.074399709701538
block generation total time  1.9768073558807373
generate_dataloader_block spend   18.795973539352417
epoch,  8
pure train time  3.8487532138824463
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.1725773811340332  GigaBytes
Max Memory Allocated: 15.062513828277588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.866492509841919
loading full batch data spends  0.07609963417053223
REG start----................................
Convert a graph into a bidirected graph: 1.254 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 6.093 seconds, peak memory: 72.998 GB
Split the graph: 2.991 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.814911365509033
pure dgl.metis_partition the time spent:  10.372035264968872
connection checking time:  2.1958487033843994
block generation total time  2.014171838760376
generate_dataloader_block spend   19.122687816619873
epoch,  9
pure train time  3.838200330734253
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.19622421264648438  GigaBytes
Max Memory Allocated: 15.062513828277588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.765514850616455
loading full batch data spends  0.04712724685668945
REG start----................................
Convert a graph into a bidirected graph: 1.348 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 6.237 seconds, peak memory: 72.998 GB
Split the graph: 2.594 seconds
Construct subgraphs: 0.013 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9290804862976074
pure dgl.metis_partition the time spent:  10.209775686264038
connection checking time:  2.166593074798584
block generation total time  2.0253803730010986
generate_dataloader_block spend   19.04449462890625
epoch,  10
pure train time  3.850054979324341
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.19786930084228516  GigaBytes
Max Memory Allocated: 15.062513828277588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.670217275619507
loading full batch data spends  0.07165312767028809
REG start----................................
Convert a graph into a bidirected graph: 1.385 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 6.396 seconds, peak memory: 72.998 GB
Split the graph: 2.864 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9233574867248535
pure dgl.metis_partition the time spent:  10.6768798828125
connection checking time:  2.1655800342559814
block generation total time  1.9639201164245605
generate_dataloader_block spend   19.465784788131714
epoch,  11
pure train time  3.8451437950134277
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.19732379913330078  GigaBytes
Max Memory Allocated: 15.062513828277588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.605612277984619
loading full batch data spends  0.05294394493103027
REG start----................................
Convert a graph into a bidirected graph: 1.285 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 6.194 seconds, peak memory: 72.998 GB
Split the graph: 2.610 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.763949155807495
pure dgl.metis_partition the time spent:  10.124454021453857
connection checking time:  2.1586239337921143
block generation total time  2.025005578994751
generate_dataloader_block spend   18.77131962776184
epoch,  12
pure train time  3.8333351612091064
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.1968708038330078  GigaBytes
Max Memory Allocated: 15.062513828277588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.5556728839874268
loading full batch data spends  0.06467676162719727
REG start----................................
Convert a graph into a bidirected graph: 1.366 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 6.213 seconds, peak memory: 72.998 GB
Split the graph: 2.519 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  4.037785768508911
pure dgl.metis_partition the time spent:  10.131988048553467
connection checking time:  2.120800733566284
block generation total time  1.9687294960021973
generate_dataloader_block spend   18.958749055862427
epoch,  13
pure train time  3.857248306274414
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.654296875 GB
    Memory Allocated: 0.17284488677978516  GigaBytes
Max Memory Allocated: 15.062513828277588  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.469388961791992
loading full batch data spends  0.07215309143066406
REG start----................................
Convert a graph into a bidirected graph: 1.376 seconds, peak memory: 72.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.998 GB
Metis partitioning: 6.590 seconds, peak memory: 72.998 GB
Split the graph: 2.934 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.968118190765381
pure dgl.metis_partition the time spent:  10.933019399642944
connection checking time:  2.033738851547241
block generation total time  1.9362003803253174
generate_dataloader_block spend   19.585833311080933
epoch,  14
pure train time  3.840813159942627
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.72265625 GB
    Memory Allocated: 0.17334699630737305  GigaBytes
Max Memory Allocated: 15.292033195495605  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.3937478065490723
loading full batch data spends  0.05449938774108887
REG start----................................
Convert a graph into a bidirected graph: 1.297 seconds, peak memory: 73.967 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.967 GB
Metis partitioning: 6.332 seconds, peak memory: 74.685 GB
Split the graph: 3.154 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8651933670043945
pure dgl.metis_partition the time spent:  10.82002329826355
connection checking time:  2.0455775260925293
block generation total time  1.9334018230438232
generate_dataloader_block spend   19.346873998641968
epoch,  15
pure train time  3.860003709793091
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.771484375 GB
    Memory Allocated: 0.19570350646972656  GigaBytes
Max Memory Allocated: 15.292033195495605  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.3180928230285645
loading full batch data spends  0.05859017372131348
REG start----................................
Convert a graph into a bidirected graph: 1.274 seconds, peak memory: 75.015 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.015 GB
Metis partitioning: 6.441 seconds, peak memory: 75.015 GB
Split the graph: 2.834 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.643139600753784
pure dgl.metis_partition the time spent:  10.582266807556152
connection checking time:  2.0766706466674805
block generation total time  1.9853672981262207
generate_dataloader_block spend   18.985762119293213
epoch,  16
pure train time  3.8412163257598877
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.771484375 GB
    Memory Allocated: 0.19597959518432617  GigaBytes
Max Memory Allocated: 15.292033195495605  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.2463204860687256
loading full batch data spends  0.06009054183959961
REG start----................................
Convert a graph into a bidirected graph: 1.331 seconds, peak memory: 75.015 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.015 GB
Metis partitioning: 6.524 seconds, peak memory: 75.015 GB
Split the graph: 2.741 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8208425045013428
pure dgl.metis_partition the time spent:  10.62979531288147
connection checking time:  2.072416305541992
block generation total time  1.950214147567749
generate_dataloader_block spend   19.169145107269287
epoch,  17
pure train time  3.836730480194092
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.771484375 GB
    Memory Allocated: 0.1972203254699707  GigaBytes
Max Memory Allocated: 15.292033195495605  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.1943345069885254
loading full batch data spends  0.060050010681152344
REG start----................................
Convert a graph into a bidirected graph: 1.313 seconds, peak memory: 75.205 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.205 GB
Metis partitioning: 6.423 seconds, peak memory: 75.205 GB
Split the graph: 3.044 seconds
Construct subgraphs: 0.009 seconds
REG metis partition end ----................................
REG construction  time spent:  3.912677764892578
pure dgl.metis_partition the time spent:  10.807355880737305
connection checking time:  2.1294682025909424
block generation total time  2.0178170204162598
generate_dataloader_block spend   19.547357320785522
epoch,  18
pure train time  3.8753297328948975
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.771484375 GB
    Memory Allocated: 0.1965646743774414  GigaBytes
Max Memory Allocated: 15.292033195495605  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.144650936126709
loading full batch data spends  0.07986140251159668
REG start----................................
Convert a graph into a bidirected graph: 1.355 seconds, peak memory: 75.205 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.205 GB
Metis partitioning: 6.625 seconds, peak memory: 75.205 GB
Split the graph: 2.906 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.832458257675171
pure dgl.metis_partition the time spent:  10.922186136245728
connection checking time:  2.1696436405181885
block generation total time  1.982438325881958
generate_dataloader_block spend   19.6007399559021
epoch,  19
pure train time  3.8839235305786133
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.771484375 GB
    Memory Allocated: 0.1986374855041504  GigaBytes
Max Memory Allocated: 15.292033195495605  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.084177255630493
Total (block generation + training)time/epoch 23.80846996868358
pure train time/epoch 3.8486663500467935

num_input_list  [365866, 356124, 377952, 368532, 348289, 350525, 376960, 356737, 370252, 379187, 380798, 372802, 376341, 371989, 361187, 357160, 368659, 367491, 375515, 374624]
