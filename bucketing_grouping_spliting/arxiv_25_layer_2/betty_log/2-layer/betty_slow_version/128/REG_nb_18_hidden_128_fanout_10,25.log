main start at this time 1701296202.829698
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.195 seconds, peak memory: 26.975 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 26.975 GB
Metis partitioning: 6.352 seconds, peak memory: 28.473 GB
Split the graph: 1.079 seconds
Construct subgraphs: 0.051 seconds
REG metis partition end ----................................
REG construction  time spent:  3.1088743209838867
pure dgl.metis_partition the time spent:  8.67747712135315

block_gen_time in "generate_blocks_for_one_layer_block"  0.6527879238128662


block_gen_time in "generate_blocks_for_one_layer_block"  1.7264654636383057

connection checking time:  2.4908108711242676
block generation total time  2.379253387451172
epoch,  0
pure train time  3.518324851989746
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.326171875 GB
    Memory Allocated: 0.03567695617675781  GigaBytes
Max Memory Allocated: 2.218852996826172  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.017565727233887
REG start----................................
Convert a graph into a bidirected graph: 1.316 seconds, peak memory: 34.699 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 34.699 GB
Metis partitioning: 6.936 seconds, peak memory: 36.465 GB
Split the graph: 1.261 seconds
Construct subgraphs: 0.141 seconds
REG metis partition end ----................................
REG construction  time spent:  3.737370252609253
pure dgl.metis_partition the time spent:  9.65618896484375

block_gen_time in "generate_blocks_for_one_layer_block"  0.6381568908691406


block_gen_time in "generate_blocks_for_one_layer_block"  1.7879483699798584

connection checking time:  2.8835997581481934
block generation total time  2.426105260848999
epoch,  1
pure train time  3.128453016281128
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.533203125 GB
    Memory Allocated: 0.03455924987792969  GigaBytes
Max Memory Allocated: 2.262237071990967  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.833601713180542
REG start----................................
Convert a graph into a bidirected graph: 1.305 seconds, peak memory: 37.941 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 37.941 GB
Metis partitioning: 6.992 seconds, peak memory: 37.941 GB
Split the graph: 1.296 seconds
Construct subgraphs: 0.135 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5836024284362793
pure dgl.metis_partition the time spent:  9.729597806930542

block_gen_time in "generate_blocks_for_one_layer_block"  0.644817590713501


block_gen_time in "generate_blocks_for_one_layer_block"  1.7196056842803955

connection checking time:  2.6245217323303223
block generation total time  2.3644232749938965
epoch,  2
pure train time  2.9899520874023438
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.529296875 GB
    Memory Allocated: 0.035411834716796875  GigaBytes
Max Memory Allocated: 2.3846211433410645  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6783266067504883
loading full batch data spends  0.08041000366210938
REG start----................................
Convert a graph into a bidirected graph: 1.355 seconds, peak memory: 40.305 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 40.305 GB
Metis partitioning: 7.350 seconds, peak memory: 40.305 GB
Split the graph: 1.399 seconds
Construct subgraphs: 0.131 seconds
REG metis partition end ----................................
REG construction  time spent:  3.474759578704834
pure dgl.metis_partition the time spent:  10.237152814865112

block_gen_time in "generate_blocks_for_one_layer_block"  0.6462528705596924


block_gen_time in "generate_blocks_for_one_layer_block"  1.7414350509643555

connection checking time:  2.4906389713287354
block generation total time  2.387687921524048
generate_dataloader_block spend   19.000869035720825
epoch,  3
pure train time  2.967087984085083
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.541015625 GB
    Memory Allocated: 0.0516057014465332  GigaBytes
Max Memory Allocated: 2.3894200325012207  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.546273708343506
loading full batch data spends  0.09694290161132812
REG start----................................
Convert a graph into a bidirected graph: 1.283 seconds, peak memory: 41.544 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 41.544 GB
Metis partitioning: 7.599 seconds, peak memory: 41.544 GB
Split the graph: 1.385 seconds
Construct subgraphs: 0.114 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6316487789154053
pure dgl.metis_partition the time spent:  10.383479356765747

block_gen_time in "generate_blocks_for_one_layer_block"  0.6393225193023682


block_gen_time in "generate_blocks_for_one_layer_block"  0.8711209297180176

connection checking time:  2.170233726501465
block generation total time  1.5104434490203857
generate_dataloader_block spend   18.213107109069824
epoch,  4
pure train time  2.7761390209198
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.541015625 GB
    Memory Allocated: 0.050751686096191406  GigaBytes
Max Memory Allocated: 2.3894200325012207  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.434750556945801
loading full batch data spends  0.08469247817993164
REG start----................................
Convert a graph into a bidirected graph: 1.270 seconds, peak memory: 42.302 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 42.302 GB
Metis partitioning: 7.569 seconds, peak memory: 42.302 GB
Split the graph: 1.433 seconds
Construct subgraphs: 0.152 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7938530445098877
pure dgl.metis_partition the time spent:  10.42680835723877

block_gen_time in "generate_blocks_for_one_layer_block"  0.3204536437988281


block_gen_time in "generate_blocks_for_one_layer_block"  1.7275667190551758

connection checking time:  2.826413631439209
block generation total time  2.048020362854004
generate_dataloader_block spend   19.63258385658264
epoch,  5
pure train time  2.718679189682007
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.541015625 GB
    Memory Allocated: 0.04918956756591797  GigaBytes
Max Memory Allocated: 2.3894200325012207  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.3386709690093994
loading full batch data spends  0.08213043212890625
REG start----................................
Convert a graph into a bidirected graph: 1.318 seconds, peak memory: 43.392 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 43.392 GB
Metis partitioning: 7.739 seconds, peak memory: 43.392 GB
Split the graph: 1.480 seconds
Construct subgraphs: 0.137 seconds
REG metis partition end ----................................
REG construction  time spent:  3.118962526321411
pure dgl.metis_partition the time spent:  10.675567865371704

block_gen_time in "generate_blocks_for_one_layer_block"  0.6440572738647461


block_gen_time in "generate_blocks_for_one_layer_block"  1.7108228206634521

connection checking time:  2.7876014709472656
block generation total time  2.3548800945281982
generate_dataloader_block spend   19.39681363105774
epoch,  6
pure train time  3.0005042552948
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.541015625 GB
    Memory Allocated: 0.052243709564208984  GigaBytes
Max Memory Allocated: 2.3894200325012207  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.267106056213379
loading full batch data spends  0.08703851699829102
REG start----................................
Convert a graph into a bidirected graph: 1.298 seconds, peak memory: 44.546 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 44.546 GB
Metis partitioning: 7.664 seconds, peak memory: 44.546 GB
Split the graph: 1.542 seconds
Construct subgraphs: 0.132 seconds
REG metis partition end ----................................
REG construction  time spent:  3.79463529586792
pure dgl.metis_partition the time spent:  10.63693618774414

block_gen_time in "generate_blocks_for_one_layer_block"  0.34146547317504883


block_gen_time in "generate_blocks_for_one_layer_block"  1.7011656761169434

connection checking time:  1.7339413166046143
block generation total time  2.042631149291992
generate_dataloader_block spend   18.632773876190186
epoch,  7
pure train time  2.976522445678711
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.541015625 GB
    Memory Allocated: 0.05287647247314453  GigaBytes
Max Memory Allocated: 2.3894200325012207  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2275099754333496
loading full batch data spends  0.08381438255310059
REG start----................................
Convert a graph into a bidirected graph: 1.341 seconds, peak memory: 45.555 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 45.555 GB
Metis partitioning: 7.385 seconds, peak memory: 45.555 GB
Split the graph: 1.338 seconds
Construct subgraphs: 0.127 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4306252002716064
pure dgl.metis_partition the time spent:  10.19328784942627

block_gen_time in "generate_blocks_for_one_layer_block"  0.32267284393310547


block_gen_time in "generate_blocks_for_one_layer_block"  1.7324328422546387

connection checking time:  1.7781140804290771
block generation total time  2.055105686187744
generate_dataloader_block spend   17.882580995559692
epoch,  8
pure train time  2.9207863807678223
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.541015625 GB
    Memory Allocated: 0.052781105041503906  GigaBytes
Max Memory Allocated: 2.3894200325012207  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.192817449569702
loading full batch data spends  0.07831335067749023
REG start----................................
Convert a graph into a bidirected graph: 1.241 seconds, peak memory: 45.847 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 45.847 GB
Metis partitioning: 7.856 seconds, peak memory: 45.847 GB
Split the graph: 1.618 seconds
Construct subgraphs: 0.129 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4935498237609863
pure dgl.metis_partition the time spent:  10.846729278564453

block_gen_time in "generate_blocks_for_one_layer_block"  0.6494007110595703


block_gen_time in "generate_blocks_for_one_layer_block"  1.6794683933258057

connection checking time:  2.39449143409729
block generation total time  2.328869104385376
generate_dataloader_block spend   19.487858295440674
epoch,  9
pure train time  2.9592654705047607
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.673828125 GB
    Memory Allocated: 0.05318593978881836  GigaBytes
Max Memory Allocated: 2.522294044494629  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1550981998443604
loading full batch data spends  0.11522912979125977
REG start----................................
Convert a graph into a bidirected graph: 1.281 seconds, peak memory: 46.040 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 46.040 GB
Metis partitioning: 7.626 seconds, peak memory: 46.040 GB
Split the graph: 1.630 seconds
Construct subgraphs: 0.127 seconds
REG metis partition end ----................................
REG construction  time spent:  3.534435749053955
pure dgl.metis_partition the time spent:  10.666199684143066

block_gen_time in "generate_blocks_for_one_layer_block"  0.662830114364624


block_gen_time in "generate_blocks_for_one_layer_block"  1.7548294067382812

connection checking time:  2.5180165767669678
block generation total time  2.4176595211029053
generate_dataloader_block spend   19.582448720932007
epoch,  10
pure train time  2.9590437412261963
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.673828125 GB
    Memory Allocated: 0.05383586883544922  GigaBytes
Max Memory Allocated: 2.522294044494629  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.112469434738159
loading full batch data spends  0.09490537643432617
REG start----................................
Convert a graph into a bidirected graph: 1.260 seconds, peak memory: 46.441 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 46.441 GB
Metis partitioning: 7.852 seconds, peak memory: 46.441 GB
Split the graph: 1.400 seconds
Construct subgraphs: 0.128 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5468156337738037
pure dgl.metis_partition the time spent:  10.641753435134888

block_gen_time in "generate_blocks_for_one_layer_block"  0.6416735649108887


block_gen_time in "generate_blocks_for_one_layer_block"  1.717461347579956

connection checking time:  2.786309242248535
block generation total time  2.3591349124908447
generate_dataloader_block spend   19.821397066116333
epoch,  11
pure train time  2.8007357120513916
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.673828125 GB
    Memory Allocated: 0.0521392822265625  GigaBytes
Max Memory Allocated: 2.522294044494629  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0734472274780273
loading full batch data spends  0.07908296585083008
REG start----................................
Convert a graph into a bidirected graph: 1.247 seconds, peak memory: 46.910 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 46.910 GB
Metis partitioning: 7.889 seconds, peak memory: 46.910 GB
Split the graph: 1.754 seconds
Construct subgraphs: 0.139 seconds
REG metis partition end ----................................
REG construction  time spent:  2.9360077381134033
pure dgl.metis_partition the time spent:  11.031156778335571

block_gen_time in "generate_blocks_for_one_layer_block"  0.6415615081787109


block_gen_time in "generate_blocks_for_one_layer_block"  1.7255630493164062

connection checking time:  2.7916877269744873
block generation total time  2.367124557495117
generate_dataloader_block spend   19.58178162574768
epoch,  12
pure train time  3.03792142868042
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.673828125 GB
    Memory Allocated: 0.05066823959350586  GigaBytes
Max Memory Allocated: 2.522294044494629  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0370068550109863
loading full batch data spends  0.0938868522644043
REG start----................................
Convert a graph into a bidirected graph: 1.247 seconds, peak memory: 46.910 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 46.910 GB
Metis partitioning: 7.843 seconds, peak memory: 46.910 GB
Split the graph: 1.738 seconds
Construct subgraphs: 0.155 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5307090282440186
pure dgl.metis_partition the time spent:  10.98499345779419

block_gen_time in "generate_blocks_for_one_layer_block"  0.6492648124694824


block_gen_time in "generate_blocks_for_one_layer_block"  1.777226209640503

connection checking time:  2.8857107162475586
block generation total time  2.4264910221099854
generate_dataloader_block spend   20.334861040115356
epoch,  13
pure train time  3.0143442153930664
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.673828125 GB
    Memory Allocated: 0.05216789245605469  GigaBytes
Max Memory Allocated: 2.522294044494629  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.994296073913574
loading full batch data spends  0.07926511764526367
REG start----................................
Convert a graph into a bidirected graph: 1.330 seconds, peak memory: 47.019 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 47.019 GB
Metis partitioning: 7.992 seconds, peak memory: 47.019 GB
Split the graph: 1.605 seconds
Construct subgraphs: 0.130 seconds
REG metis partition end ----................................
REG construction  time spent:  3.610816240310669
pure dgl.metis_partition the time spent:  11.058706283569336

block_gen_time in "generate_blocks_for_one_layer_block"  0.6480557918548584


block_gen_time in "generate_blocks_for_one_layer_block"  1.6991240978240967

connection checking time:  2.5443501472473145
block generation total time  2.347179889678955
generate_dataloader_block spend   19.999475717544556
epoch,  14
pure train time  2.9683353900909424
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.6875 GB
    Memory Allocated: 0.03446245193481445  GigaBytes
Max Memory Allocated: 2.522294044494629  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.9620535373687744
Total (block generation + training)time/epoch 22.535141388575237
pure train time/epoch 2.935613822937012

num_input_list  [620722, 648235, 612633, 620010, 597677, 619575, 615436, 605567, 601257, 594889, 627358, 620323, 620990, 644492, 601852]
avg num_input_list  616734.4
