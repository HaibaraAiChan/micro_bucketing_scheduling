main start at this time 1691292533.601686
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.272 seconds, peak memory: 27.381 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.381 GB
Metis partitioning: 6.470 seconds, peak memory: 27.996 GB
Split the graph: 0.773 seconds
Construct subgraphs: 0.066 seconds
REG metis partition end ----................................
REG construction  time spent:  3.694828748703003
pure dgl.metis_partition the time spent:  8.596744298934937
connection checking time:  2.7247872352600098
block generation total time  2.738811492919922
epoch,  0
pure train time  7.866669416427612
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.150390625 GB
    Memory Allocated: 0.1628584861755371  GigaBytes
Max Memory Allocated: 3.8245434761047363  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.777304172515869
REG start----................................
Convert a graph into a bidirected graph: 1.290 seconds, peak memory: 43.748 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 43.748 GB
Metis partitioning: 6.445 seconds, peak memory: 44.317 GB
Split the graph: 0.678 seconds
Construct subgraphs: 0.061 seconds
REG metis partition end ----................................
REG construction  time spent:  3.710367202758789
pure dgl.metis_partition the time spent:  8.488404989242554
connection checking time:  2.057359218597412
block generation total time  1.7385849952697754
epoch,  1
pure train time  7.146800518035889
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.150390625 GB
    Memory Allocated: 0.17256832122802734  GigaBytes
Max Memory Allocated: 3.8245434761047363  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1902713775634766
REG start----................................
Convert a graph into a bidirected graph: 1.263 seconds, peak memory: 54.716 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.716 GB
Metis partitioning: 6.399 seconds, peak memory: 55.347 GB
Split the graph: 0.726 seconds
Construct subgraphs: 0.110 seconds
REG metis partition end ----................................
REG construction  time spent:  3.285980701446533
pure dgl.metis_partition the time spent:  8.512981176376343
connection checking time:  2.4929354190826416
block generation total time  2.4796054363250732
epoch,  2
pure train time  7.493685722351074
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.619140625 GB
    Memory Allocated: 0.17284345626831055  GigaBytes
Max Memory Allocated: 4.09941291809082  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.606855630874634
loading full batch data spends  0.1141209602355957
REG start----................................
Convert a graph into a bidirected graph: 1.322 seconds, peak memory: 55.796 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.796 GB
Metis partitioning: 6.312 seconds, peak memory: 56.419 GB
Split the graph: 0.869 seconds
Construct subgraphs: 0.149 seconds
REG metis partition end ----................................
REG construction  time spent:  4.081339359283447
pure dgl.metis_partition the time spent:  8.668291330337524
connection checking time:  1.623492956161499
block generation total time  1.4361729621887207
generate_dataloader_block spend   16.29807209968567
epoch,  3
pure train time  7.38686203956604
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.646484375 GB
    Memory Allocated: 0.16170024871826172  GigaBytes
Max Memory Allocated: 4.09941291809082  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.080386161804199
loading full batch data spends  0.12999606132507324
REG start----................................
Convert a graph into a bidirected graph: 1.309 seconds, peak memory: 56.419 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.419 GB
Metis partitioning: 6.556 seconds, peak memory: 56.442 GB
Split the graph: 0.844 seconds
Construct subgraphs: 0.132 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8515491485595703
pure dgl.metis_partition the time spent:  8.854525804519653
connection checking time:  3.2530763149261475
block generation total time  2.7523996829986572
generate_dataloader_block spend   19.38237762451172
epoch,  4
pure train time  7.466256380081177
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.646484375 GB
    Memory Allocated: 0.16965436935424805  GigaBytes
Max Memory Allocated: 4.09941291809082  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.068098545074463
loading full batch data spends  0.11463332176208496
REG start----................................
Convert a graph into a bidirected graph: 1.349 seconds, peak memory: 56.442 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.442 GB
Metis partitioning: 6.830 seconds, peak memory: 56.504 GB
Split the graph: 0.858 seconds
Construct subgraphs: 0.154 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9425792694091797
pure dgl.metis_partition the time spent:  9.20726728439331
connection checking time:  3.2045669555664062
block generation total time  2.6991169452667236
generate_dataloader_block spend   19.72450041770935
epoch,  5
pure train time  7.47313117980957
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.646484375 GB
    Memory Allocated: 0.1728496551513672  GigaBytes
Max Memory Allocated: 4.09941291809082  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0669350624084473
loading full batch data spends  0.10050082206726074
REG start----................................
Convert a graph into a bidirected graph: 1.342 seconds, peak memory: 56.506 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.506 GB
Metis partitioning: 6.657 seconds, peak memory: 56.657 GB
Split the graph: 0.706 seconds
Construct subgraphs: 0.150 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8755977153778076
pure dgl.metis_partition the time spent:  8.870421648025513
connection checking time:  3.2799265384674072
block generation total time  2.7551920413970947
generate_dataloader_block spend   19.468296766281128
epoch,  6
pure train time  7.452237129211426
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.646484375 GB
    Memory Allocated: 0.1750164031982422  GigaBytes
Max Memory Allocated: 4.09941291809082  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.029087781906128
loading full batch data spends  0.13539743423461914
REG start----................................
Convert a graph into a bidirected graph: 1.349 seconds, peak memory: 56.657 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.657 GB
Metis partitioning: 6.922 seconds, peak memory: 56.657 GB
Split the graph: 0.943 seconds
Construct subgraphs: 0.142 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8599014282226562
pure dgl.metis_partition the time spent:  9.372185468673706
connection checking time:  2.9721686840057373
block generation total time  2.7555060386657715
generate_dataloader_block spend   19.53722643852234
epoch,  7
pure train time  7.338304758071899
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.646484375 GB
    Memory Allocated: 0.17447519302368164  GigaBytes
Max Memory Allocated: 4.09941291809082  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.9590160846710205
loading full batch data spends  0.11417889595031738
REG start----................................
Convert a graph into a bidirected graph: 1.358 seconds, peak memory: 56.657 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.657 GB
Metis partitioning: 6.695 seconds, peak memory: 56.687 GB
Split the graph: 0.798 seconds
Construct subgraphs: 0.099 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5632853507995605
pure dgl.metis_partition the time spent:  8.966247320175171
connection checking time:  2.9419069290161133
block generation total time  2.7784769535064697
generate_dataloader_block spend   18.82331681251526
epoch,  8
pure train time  7.438677787780762
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.646484375 GB
    Memory Allocated: 0.16768360137939453  GigaBytes
Max Memory Allocated: 4.0996527671813965  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8679163455963135
loading full batch data spends  0.09668946266174316
REG start----................................
Convert a graph into a bidirected graph: 1.296 seconds, peak memory: 56.687 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.687 GB
Metis partitioning: 6.617 seconds, peak memory: 56.687 GB
Split the graph: 0.968 seconds
Construct subgraphs: 0.141 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8299052715301514
pure dgl.metis_partition the time spent:  9.038035869598389
connection checking time:  3.067837953567505
block generation total time  2.772010087966919
generate_dataloader_block spend   19.275601625442505
epoch,  9
pure train time  7.489132404327393
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.646484375 GB
    Memory Allocated: 0.1640019416809082  GigaBytes
Max Memory Allocated: 4.0996527671813965  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7676942348480225
loading full batch data spends  0.09174442291259766
REG start----................................
Convert a graph into a bidirected graph: 1.329 seconds, peak memory: 56.687 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.687 GB
Metis partitioning: 6.862 seconds, peak memory: 56.687 GB
Split the graph: 0.952 seconds
Construct subgraphs: 0.099 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8114969730377197
pure dgl.metis_partition the time spent:  9.258442878723145
connection checking time:  3.236745834350586
block generation total time  2.7278895378112793
generate_dataloader_block spend   19.640915155410767
epoch,  10
pure train time  7.483855247497559
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.646484375 GB
    Memory Allocated: 0.15871238708496094  GigaBytes
Max Memory Allocated: 4.0996527671813965  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.672346591949463
loading full batch data spends  0.09643197059631348
REG start----................................
Convert a graph into a bidirected graph: 1.307 seconds, peak memory: 56.687 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.687 GB
Metis partitioning: 6.747 seconds, peak memory: 56.778 GB
Split the graph: 1.061 seconds
Construct subgraphs: 0.154 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9134294986724854
pure dgl.metis_partition the time spent:  9.293397903442383
connection checking time:  3.3212766647338867
block generation total time  2.7936959266662598
generate_dataloader_block spend   20.031245470046997
epoch,  11
pure train time  7.446336984634399
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.66015625 GB
    Memory Allocated: 0.1734299659729004  GigaBytes
Max Memory Allocated: 4.0996527671813965  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.6055831909179688
loading full batch data spends  0.12369871139526367
REG start----................................
Convert a graph into a bidirected graph: 1.331 seconds, peak memory: 56.778 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.778 GB
Metis partitioning: 7.784 seconds, peak memory: 56.778 GB
Split the graph: 0.911 seconds
Construct subgraphs: 0.160 seconds
REG metis partition end ----................................
REG construction  time spent:  3.900458574295044
pure dgl.metis_partition the time spent:  10.203604936599731
connection checking time:  3.2367687225341797
block generation total time  2.782033920288086
generate_dataloader_block spend   20.784708499908447
epoch,  12
pure train time  7.460269927978516
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.66015625 GB
    Memory Allocated: 0.1595158576965332  GigaBytes
Max Memory Allocated: 4.0996527671813965  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.558225631713867
loading full batch data spends  0.10921025276184082
REG start----................................
Convert a graph into a bidirected graph: 1.355 seconds, peak memory: 56.778 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.778 GB
Metis partitioning: 7.246 seconds, peak memory: 56.778 GB
Split the graph: 0.973 seconds
Construct subgraphs: 0.149 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9039244651794434
pure dgl.metis_partition the time spent:  9.738765001296997
connection checking time:  2.97700572013855
block generation total time  2.711153507232666
generate_dataloader_block spend   20.02468490600586
epoch,  13
pure train time  7.50878381729126
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.666015625 GB
    Memory Allocated: 0.16768264770507812  GigaBytes
Max Memory Allocated: 4.0996527671813965  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.4744656085968018
loading full batch data spends  0.10441374778747559
REG start----................................
Convert a graph into a bidirected graph: 1.332 seconds, peak memory: 56.778 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.778 GB
Metis partitioning: 6.916 seconds, peak memory: 56.778 GB
Split the graph: 0.879 seconds
Construct subgraphs: 0.127 seconds
REG metis partition end ----................................
REG construction  time spent:  4.03458571434021
pure dgl.metis_partition the time spent:  9.272416591644287
connection checking time:  3.3564016819000244
block generation total time  2.814218282699585
generate_dataloader_block spend   20.18346118927002
epoch,  14
pure train time  7.486893177032471
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.666015625 GB
    Memory Allocated: 0.1740570068359375  GigaBytes
Max Memory Allocated: 4.0996527671813965  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.39705491065979
loading full batch data spends  0.10497617721557617
REG start----................................
Convert a graph into a bidirected graph: 1.314 seconds, peak memory: 56.778 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.778 GB
Metis partitioning: 7.216 seconds, peak memory: 56.778 GB
Split the graph: 0.983 seconds
Construct subgraphs: 0.217 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9819164276123047
pure dgl.metis_partition the time spent:  9.747218132019043
connection checking time:  3.11574649810791
block generation total time  2.705434799194336
generate_dataloader_block spend   20.273916721343994
epoch,  15
pure train time  7.500937223434448
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.666015625 GB
    Memory Allocated: 0.15867996215820312  GigaBytes
Max Memory Allocated: 4.0996527671813965  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.322356700897217
loading full batch data spends  0.11010003089904785
REG start----................................
Convert a graph into a bidirected graph: 1.319 seconds, peak memory: 56.778 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.778 GB
Metis partitioning: 6.996 seconds, peak memory: 56.778 GB
Split the graph: 0.985 seconds
Construct subgraphs: 0.134 seconds
REG metis partition end ----................................
REG construction  time spent:  4.019915819168091
pure dgl.metis_partition the time spent:  9.450884819030762
connection checking time:  3.1629607677459717
block generation total time  2.713571071624756
generate_dataloader_block spend   20.039170265197754
epoch,  16
pure train time  7.486310243606567
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.66796875 GB
    Memory Allocated: 0.1737966537475586  GigaBytes
Max Memory Allocated: 4.113642692565918  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.2508344650268555
loading full batch data spends  0.11981487274169922
REG start----................................
Convert a graph into a bidirected graph: 1.339 seconds, peak memory: 56.778 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.778 GB
Metis partitioning: 7.204 seconds, peak memory: 56.778 GB
Split the graph: 0.999 seconds
Construct subgraphs: 0.145 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8985376358032227
pure dgl.metis_partition the time spent:  9.703246593475342
connection checking time:  3.2943270206451416
block generation total time  2.775754451751709
generate_dataloader_block spend   20.362688779830933
epoch,  17
pure train time  7.471501588821411
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.66796875 GB
    Memory Allocated: 0.1600780487060547  GigaBytes
Max Memory Allocated: 4.113642692565918  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.193922281265259
loading full batch data spends  0.1202540397644043
REG start----................................
Convert a graph into a bidirected graph: 1.366 seconds, peak memory: 56.778 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.778 GB
Metis partitioning: 7.173 seconds, peak memory: 56.778 GB
Split the graph: 0.908 seconds
Construct subgraphs: 0.141 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9821889400482178
pure dgl.metis_partition the time spent:  9.60484790802002
connection checking time:  2.8083207607269287
block generation total time  2.735694169998169
generate_dataloader_block spend   19.74138879776001
epoch,  18
pure train time  7.460752248764038
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.142578125 GB
    Memory Allocated: 0.17443370819091797  GigaBytes
Max Memory Allocated: 4.1747050285339355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.1445181369781494
loading full batch data spends  0.10036253929138184
REG start----................................
Convert a graph into a bidirected graph: 1.371 seconds, peak memory: 56.778 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.778 GB
Metis partitioning: 7.003 seconds, peak memory: 57.133 GB
Split the graph: 1.249 seconds
Construct subgraphs: 0.148 seconds
REG metis partition end ----................................
REG construction  time spent:  3.718433380126953
pure dgl.metis_partition the time spent:  9.788760662078857
connection checking time:  3.2485761642456055
block generation total time  2.740119218826294
generate_dataloader_block spend   20.1945743560791
epoch,  19
pure train time  7.487006187438965
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.142578125 GB
    Memory Allocated: 0.15967178344726562  GigaBytes
Max Memory Allocated: 4.1747050285339355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.086915969848633
Total (block generation + training)time/epoch 28.52702788745656
pure train time/epoch 7.465608660380045

num_input_list  [803258, 808111, 819843, 833632, 804003, 776855, 814919, 797160, 807074, 815518, 788948, 818216, 788292, 777180, 782619, 777152, 786831, 805402, 792234, 796113]
