main start at this time 1701294774.7015693
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.036 seconds, peak memory: 23.012 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.012 GB
Metis partitioning: 0.165 seconds, peak memory: 23.012 GB
Split the graph: 0.030 seconds
Construct subgraphs: 0.015 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition time  0.25762128829956055
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7032220363616943


block_gen_time in "generate_blocks_for_one_layer_block"  4.051506042480469

connection checking time:  5.751214027404785
block generation total time  4.754728078842163
epoch,  0
pure train time  3.347799301147461
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.458984375 GB
    Memory Allocated: 0.0759124755859375  GigaBytes
Max Memory Allocated: 2.689323902130127  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.014287948608398
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 27.427 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.427 GB
Metis partitioning: 0.170 seconds, peak memory: 27.427 GB
Split the graph: 0.031 seconds
Construct subgraphs: 0.016 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition time  0.24511384963989258
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6978998184204102


block_gen_time in "generate_blocks_for_one_layer_block"  4.083988189697266

connection checking time:  5.742834568023682
block generation total time  4.781888008117676
epoch,  1
pure train time  2.6897754669189453
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.73828125 GB
    Memory Allocated: 0.0760188102722168  GigaBytes
Max Memory Allocated: 2.7128825187683105  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.8346750736236572
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 29.276 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 29.276 GB
Metis partitioning: 0.148 seconds, peak memory: 29.276 GB
Split the graph: 0.038 seconds
Construct subgraphs: 0.011 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition time  0.22018814086914062
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.36512136459350586


block_gen_time in "generate_blocks_for_one_layer_block"  2.144089460372925

connection checking time:  3.191840171813965
block generation total time  2.5092108249664307
epoch,  2
pure train time  2.4793508052825928
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.7421875 GB
    Memory Allocated: 0.07549381256103516  GigaBytes
Max Memory Allocated: 2.7128825187683105  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6798171997070312
loading full batch data spends  0.06754398345947266
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 29.304 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 29.304 GB
Metis partitioning: 0.150 seconds, peak memory: 29.304 GB
Split the graph: 0.044 seconds
Construct subgraphs: 0.015 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition time  0.2297987937927246
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.3522639274597168


block_gen_time in "generate_blocks_for_one_layer_block"  2.1242871284484863

connection checking time:  3.1978704929351807
block generation total time  2.476551055908203
generate_dataloader_block spend   6.176669359207153
epoch,  3
pure train time  2.499386787414551
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.74609375 GB
    Memory Allocated: 0.07534313201904297  GigaBytes
Max Memory Allocated: 2.7328224182128906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.5464630126953125
loading full batch data spends  0.0806267261505127
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 30.144 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.144 GB
Metis partitioning: 0.146 seconds, peak memory: 30.144 GB
Split the graph: 0.042 seconds
Construct subgraphs: 0.011 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition time  0.22126150131225586
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.3534078598022461


block_gen_time in "generate_blocks_for_one_layer_block"  4.055441379547119

connection checking time:  3.9048945903778076
block generation total time  4.408849239349365
generate_dataloader_block spend   8.804517269134521
epoch,  4
pure train time  2.8041293621063232
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.74609375 GB
    Memory Allocated: 0.07686376571655273  GigaBytes
Max Memory Allocated: 2.7328224182128906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.432814359664917
loading full batch data spends  0.07158470153808594
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 30.196 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.196 GB
Metis partitioning: 0.170 seconds, peak memory: 30.196 GB
Split the graph: 0.040 seconds
Construct subgraphs: 0.018 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition time  0.2519965171813965
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7062478065490723


block_gen_time in "generate_blocks_for_one_layer_block"  4.050053119659424

connection checking time:  5.75614595413208
block generation total time  4.756300926208496
generate_dataloader_block spend   11.162509679794312
epoch,  5
pure train time  2.8277928829193115
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.74609375 GB
    Memory Allocated: 0.07680940628051758  GigaBytes
Max Memory Allocated: 2.7328224182128906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.3376026153564453
loading full batch data spends  0.08131694793701172
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 30.206 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.206 GB
Metis partitioning: 0.171 seconds, peak memory: 30.206 GB
Split the graph: 0.037 seconds
Construct subgraphs: 0.016 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition time  0.2502775192260742
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7086837291717529


block_gen_time in "generate_blocks_for_one_layer_block"  4.047694683074951

connection checking time:  5.761889934539795
block generation total time  4.756378412246704
generate_dataloader_block spend   11.163654327392578
epoch,  6
pure train time  2.8488564491271973
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.74609375 GB
    Memory Allocated: 0.07622289657592773  GigaBytes
Max Memory Allocated: 2.7328224182128906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2674856185913086
loading full batch data spends  0.08863115310668945
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 30.217 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.217 GB
Metis partitioning: 0.165 seconds, peak memory: 30.217 GB
Split the graph: 0.036 seconds
Construct subgraphs: 0.018 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition time  0.24612784385681152
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6994891166687012


block_gen_time in "generate_blocks_for_one_layer_block"  4.0818963050842285

connection checking time:  5.439418077468872
block generation total time  4.78138542175293
generate_dataloader_block spend   10.865681648254395
epoch,  7
pure train time  2.8845720291137695
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.74609375 GB
    Memory Allocated: 0.0765690803527832  GigaBytes
Max Memory Allocated: 2.7328224182128906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2237541675567627
loading full batch data spends  0.08224868774414062
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 30.221 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.221 GB
Metis partitioning: 0.167 seconds, peak memory: 30.221 GB
Split the graph: 0.035 seconds
Construct subgraphs: 0.016 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition time  0.24560284614562988
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6953668594360352


block_gen_time in "generate_blocks_for_one_layer_block"  4.057934761047363

connection checking time:  5.7634806632995605
block generation total time  4.753301620483398
generate_dataloader_block spend   11.16208553314209
epoch,  8
pure train time  2.790804624557495
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.74609375 GB
    Memory Allocated: 0.07595443725585938  GigaBytes
Max Memory Allocated: 2.7328224182128906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1902472972869873
loading full batch data spends  0.07780885696411133
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 30.231 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.231 GB
Metis partitioning: 0.162 seconds, peak memory: 30.231 GB
Split the graph: 0.035 seconds
Construct subgraphs: 0.017 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition time  0.23934268951416016
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7049343585968018


block_gen_time in "generate_blocks_for_one_layer_block"  4.171428442001343

connection checking time:  5.745821475982666
block generation total time  4.8763628005981445
generate_dataloader_block spend   11.258582353591919
epoch,  9
pure train time  2.850709915161133
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.74609375 GB
    Memory Allocated: 0.07547330856323242  GigaBytes
Max Memory Allocated: 2.7355446815490723  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1528449058532715
Total (block generation + training)time/epoch 13.34301563671657
pure train time/epoch 2.8405471801757813

num_input_list  [1560583, 1560762, 1559040, 1559862, 1560806, 1561361, 1559245, 1558939, 1558048, 1560907]
avg num_input_list  1559955.3
