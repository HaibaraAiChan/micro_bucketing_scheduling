main start at this time 1701294050.1462731
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.029 seconds, peak memory: 23.012 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.012 GB
Metis partitioning: 0.134 seconds, peak memory: 23.012 GB
Split the graph: 0.114 seconds
Construct subgraphs: 0.004 seconds
45470
45471
metis partition time  0.2998232841491699
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.670722246170044


block_gen_time in "generate_blocks_for_one_layer_block"  1.538560390472412

connection checking time:  2.2899415493011475
block generation total time  2.209282636642456
epoch,  0
pure train time  0.9005892276763916
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.94140625 GB
    Memory Allocated: 0.11781501770019531  GigaBytes
Max Memory Allocated: 9.737013816833496  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.019469261169434
Convert a graph into a bidirected graph: 0.014 seconds, peak memory: 35.379 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 35.379 GB
Metis partitioning: 0.131 seconds, peak memory: 35.379 GB
Split the graph: 0.096 seconds
Construct subgraphs: 0.002 seconds
45470
45471
metis partition time  0.25785303115844727
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6772949695587158


block_gen_time in "generate_blocks_for_one_layer_block"  1.4655675888061523

connection checking time:  2.254241943359375
block generation total time  2.142862558364868
epoch,  1
pure train time  0.434603214263916
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.962890625 GB
    Memory Allocated: 0.1179952621459961  GigaBytes
Max Memory Allocated: 9.760865688323975  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.8331823348999023
Convert a graph into a bidirected graph: 0.013 seconds, peak memory: 35.439 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 35.439 GB
Metis partitioning: 0.124 seconds, peak memory: 35.439 GB
Split the graph: 0.110 seconds
Construct subgraphs: 0.005 seconds
45470
45471
metis partition time  0.27368903160095215
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6490914821624756


block_gen_time in "generate_blocks_for_one_layer_block"  1.421738624572754

connection checking time:  2.179415464401245
block generation total time  2.0708301067352295
epoch,  2
pure train time  0.41548871994018555
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.962890625 GB
    Memory Allocated: 0.11970138549804688  GigaBytes
Max Memory Allocated: 9.774700164794922  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6806552410125732
loading full batch data spends  0.03168344497680664
Convert a graph into a bidirected graph: 0.012 seconds, peak memory: 35.439 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 35.439 GB
Metis partitioning: 0.130 seconds, peak memory: 35.439 GB
Split the graph: 0.091 seconds
Construct subgraphs: 0.004 seconds
45470
45471
metis partition time  0.25154590606689453
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6517989635467529


block_gen_time in "generate_blocks_for_one_layer_block"  1.435835599899292

connection checking time:  2.2244107723236084
block generation total time  2.087634563446045
generate_dataloader_block spend   4.92873740196228
epoch,  3
pure train time  0.4135253429412842
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.962890625 GB
    Memory Allocated: 0.11964178085327148  GigaBytes
Max Memory Allocated: 9.774700164794922  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.546428680419922
loading full batch data spends  0.04020380973815918
Convert a graph into a bidirected graph: 0.012 seconds, peak memory: 35.439 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 35.439 GB
Metis partitioning: 0.127 seconds, peak memory: 35.439 GB
Split the graph: 0.095 seconds
Construct subgraphs: 0.025 seconds
45470
45471
metis partition time  0.2728691101074219
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6447789669036865


block_gen_time in "generate_blocks_for_one_layer_block"  1.4219183921813965

connection checking time:  2.209003210067749
block generation total time  2.066697359085083
generate_dataloader_block spend   4.8965888023376465
epoch,  4
pure train time  0.4192488193511963
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.962890625 GB
    Memory Allocated: 0.11850404739379883  GigaBytes
Max Memory Allocated: 9.774700164794922  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.4335522651672363
loading full batch data spends  0.03148484230041504
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 35.439 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 35.439 GB
Metis partitioning: 0.129 seconds, peak memory: 35.439 GB
Split the graph: 0.094 seconds
Construct subgraphs: 0.005 seconds
45470
45471
metis partition time  0.26233983039855957
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6451261043548584


block_gen_time in "generate_blocks_for_one_layer_block"  1.4251468181610107

connection checking time:  2.176262855529785
block generation total time  2.070272922515869
generate_dataloader_block spend   4.868069887161255
epoch,  5
pure train time  0.4191558361053467
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.962890625 GB
    Memory Allocated: 0.11800241470336914  GigaBytes
Max Memory Allocated: 9.774700164794922  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.336817741394043
loading full batch data spends  0.03198599815368652
Convert a graph into a bidirected graph: 0.012 seconds, peak memory: 35.439 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 35.439 GB
Metis partitioning: 0.129 seconds, peak memory: 35.439 GB
Split the graph: 0.092 seconds
Construct subgraphs: 0.005 seconds
45470
45471
metis partition time  0.2585129737854004
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6486797332763672


block_gen_time in "generate_blocks_for_one_layer_block"  1.4234180450439453

connection checking time:  2.1757655143737793
block generation total time  2.0720977783203125
generate_dataloader_block spend   4.855211019515991
epoch,  6
pure train time  0.42090487480163574
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.962890625 GB
    Memory Allocated: 0.11859655380249023  GigaBytes
Max Memory Allocated: 9.774700164794922  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.264650821685791
loading full batch data spends  0.02994537353515625
Convert a graph into a bidirected graph: 0.013 seconds, peak memory: 35.439 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 35.439 GB
Metis partitioning: 0.127 seconds, peak memory: 35.439 GB
Split the graph: 0.084 seconds
Construct subgraphs: 0.002 seconds
45470
45471
metis partition time  0.23860979080200195
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6476607322692871


block_gen_time in "generate_blocks_for_one_layer_block"  1.4235215187072754

connection checking time:  2.1703665256500244
block generation total time  2.0711822509765625
generate_dataloader_block spend   4.823849439620972
epoch,  7
pure train time  0.4092438220977783
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.962890625 GB
    Memory Allocated: 0.11854982376098633  GigaBytes
Max Memory Allocated: 9.774700164794922  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2261524200439453
loading full batch data spends  0.029388427734375
Convert a graph into a bidirected graph: 0.012 seconds, peak memory: 35.439 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 35.439 GB
Metis partitioning: 0.127 seconds, peak memory: 35.439 GB
Split the graph: 0.091 seconds
Construct subgraphs: 0.002 seconds
45470
45471
metis partition time  0.24358439445495605
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6592855453491211


block_gen_time in "generate_blocks_for_one_layer_block"  1.4217867851257324

connection checking time:  2.1750917434692383
block generation total time  2.0810723304748535
generate_dataloader_block spend   4.842343330383301
epoch,  8
pure train time  0.41381120681762695
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.638671875 GB
    Memory Allocated: 0.1189274787902832  GigaBytes
Max Memory Allocated: 9.808102130889893  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1955928802490234
loading full batch data spends  0.03079962730407715
Convert a graph into a bidirected graph: 0.012 seconds, peak memory: 36.131 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 36.131 GB
Metis partitioning: 0.126 seconds, peak memory: 36.131 GB
Split the graph: 0.106 seconds
Construct subgraphs: 0.004 seconds
45470
45471
metis partition time  0.2704002857208252
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6512513160705566


block_gen_time in "generate_blocks_for_one_layer_block"  1.423487901687622

connection checking time:  2.173689365386963
block generation total time  2.0747392177581787
generate_dataloader_block spend   4.87076735496521
epoch,  9
pure train time  0.4409465789794922
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.671875 GB
    Memory Allocated: 0.11781072616577148  GigaBytes
Max Memory Allocated: 9.808102130889893  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1540141105651855
Total (block generation + training)time/epoch 5.480358294078282
pure train time/epoch 0.42081246376037595

num_input_list  [312987, 313241, 312998, 313148, 313226, 313158, 313012, 313088, 312791, 313088]
