main start at this time 1701294486.997235
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.030 seconds, peak memory: 23.012 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.012 GB
Metis partitioning: 0.163 seconds, peak memory: 23.012 GB
Split the graph: 0.029 seconds
Construct subgraphs: 0.009 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition time  0.23799467086791992
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6841287612915039


block_gen_time in "generate_blocks_for_one_layer_block"  3.7280149459838867

connection checking time:  4.884107351303101
block generation total time  4.412143707275391
epoch,  0
pure train time  2.5448343753814697
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.63671875 GB
    Memory Allocated: 0.08266592025756836  GigaBytes
Max Memory Allocated: 3.338672161102295  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.0190958976745605
Convert a graph into a bidirected graph: 0.013 seconds, peak memory: 29.718 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 29.718 GB
Metis partitioning: 0.160 seconds, peak memory: 29.718 GB
Split the graph: 0.055 seconds
Construct subgraphs: 0.014 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition time  0.25263261795043945
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6795032024383545


block_gen_time in "generate_blocks_for_one_layer_block"  3.733637809753418

connection checking time:  5.178340435028076
block generation total time  4.4131410121917725
epoch,  1
pure train time  2.196624755859375
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.64453125 GB
    Memory Allocated: 0.08282184600830078  GigaBytes
Max Memory Allocated: 3.343367576599121  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.832275867462158
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 29.798 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 29.798 GB
Metis partitioning: 0.158 seconds, peak memory: 29.798 GB
Split the graph: 0.041 seconds
Construct subgraphs: 0.007 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition time  0.232421875
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6774635314941406


block_gen_time in "generate_blocks_for_one_layer_block"  3.7253005504608154

connection checking time:  4.961042642593384
block generation total time  4.402764081954956
epoch,  2
pure train time  1.9459586143493652
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.65625 GB
    Memory Allocated: 0.08297491073608398  GigaBytes
Max Memory Allocated: 3.356052875518799  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6825311183929443
loading full batch data spends  0.06692385673522949
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 29.817 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 29.817 GB
Metis partitioning: 0.154 seconds, peak memory: 29.817 GB
Split the graph: 0.035 seconds
Construct subgraphs: 0.005 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition time  0.21850252151489258
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6865739822387695


block_gen_time in "generate_blocks_for_one_layer_block"  3.70790696144104

connection checking time:  5.215879917144775
block generation total time  4.39448094367981
generate_dataloader_block spend   10.211554527282715
epoch,  3
pure train time  2.2323102951049805
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.65625 GB
    Memory Allocated: 0.08214139938354492  GigaBytes
Max Memory Allocated: 3.356052875518799  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.5456790924072266
loading full batch data spends  0.0764927864074707
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 29.833 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 29.833 GB
Metis partitioning: 0.165 seconds, peak memory: 29.833 GB
Split the graph: 0.041 seconds
Construct subgraphs: 0.006 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition time  0.23825788497924805
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6875126361846924


block_gen_time in "generate_blocks_for_one_layer_block"  3.82647967338562

connection checking time:  5.21310830116272
block generation total time  4.5139923095703125
generate_dataloader_block spend   10.355953693389893
epoch,  4
pure train time  2.182128429412842
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.83203125 GB
    Memory Allocated: 0.08254814147949219  GigaBytes
Max Memory Allocated: 3.362861156463623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.434577226638794
loading full batch data spends  0.07643508911132812
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 30.017 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.017 GB
Metis partitioning: 0.162 seconds, peak memory: 30.017 GB
Split the graph: 0.046 seconds
Construct subgraphs: 0.006 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition time  0.24190974235534668
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7185943126678467


block_gen_time in "generate_blocks_for_one_layer_block"  3.7733020782470703

connection checking time:  5.091455936431885
block generation total time  4.491896390914917
generate_dataloader_block spend   10.21952772140503
epoch,  5
pure train time  2.304347276687622
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.83203125 GB
    Memory Allocated: 0.08223676681518555  GigaBytes
Max Memory Allocated: 3.362861156463623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.336076021194458
loading full batch data spends  0.0996708869934082
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 30.867 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.867 GB
Metis partitioning: 0.173 seconds, peak memory: 30.867 GB
Split the graph: 0.034 seconds
Construct subgraphs: 0.006 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition time  0.23893094062805176
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6816930770874023


block_gen_time in "generate_blocks_for_one_layer_block"  3.748241424560547

connection checking time:  5.259212493896484
block generation total time  4.429934501647949
generate_dataloader_block spend   10.323848009109497
epoch,  6
pure train time  2.0399274826049805
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.83203125 GB
    Memory Allocated: 0.0827479362487793  GigaBytes
Max Memory Allocated: 3.362861156463623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.264876127243042
loading full batch data spends  0.07385683059692383
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 30.912 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.912 GB
Metis partitioning: 0.172 seconds, peak memory: 30.912 GB
Split the graph: 0.035 seconds
Construct subgraphs: 0.005 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition time  0.24007153511047363
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6837606430053711


block_gen_time in "generate_blocks_for_one_layer_block"  3.7791616916656494

connection checking time:  5.207250595092773
block generation total time  4.4629223346710205
generate_dataloader_block spend   10.30640721321106
epoch,  7
pure train time  1.9752697944641113
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.83203125 GB
    Memory Allocated: 0.08275985717773438  GigaBytes
Max Memory Allocated: 3.362861156463623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.224700689315796
loading full batch data spends  0.0648965835571289
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 30.915 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.915 GB
Metis partitioning: 0.153 seconds, peak memory: 30.915 GB
Split the graph: 0.044 seconds
Construct subgraphs: 0.005 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition time  0.22517633438110352
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.3472590446472168


block_gen_time in "generate_blocks_for_one_layer_block"  3.7543678283691406

connection checking time:  4.579794883728027
block generation total time  4.101626873016357
generate_dataloader_block spend   9.173598766326904
epoch,  8
pure train time  2.1528749465942383
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.83203125 GB
    Memory Allocated: 0.08235406875610352  GigaBytes
Max Memory Allocated: 3.362861156463623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1942572593688965
loading full batch data spends  0.06788754463195801
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 30.918 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.918 GB
Metis partitioning: 0.164 seconds, peak memory: 30.918 GB
Split the graph: 0.037 seconds
Construct subgraphs: 0.006 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition time  0.23424911499023438
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6858479976654053


block_gen_time in "generate_blocks_for_one_layer_block"  3.7251596450805664

connection checking time:  5.195794343948364
block generation total time  4.411007642745972
generate_dataloader_block spend   10.23123025894165
epoch,  9
pure train time  2.143995761871338
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.83203125 GB
    Memory Allocated: 0.08263063430786133  GigaBytes
Max Memory Allocated: 3.362861156463623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1527950763702393
Total (block generation + training)time/epoch 12.664111512047905
pure train time/epoch 2.123283052444458

num_input_list  [1302594, 1301968, 1299824, 1303229, 1303168, 1302312, 1301469, 1302119, 1300620, 1303502]
avg num_input_list  1302080.5
