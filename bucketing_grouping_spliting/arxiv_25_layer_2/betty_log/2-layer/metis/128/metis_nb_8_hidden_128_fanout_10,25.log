main start at this time 1701294210.0270154
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.034 seconds, peak memory: 23.012 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.012 GB
Metis partitioning: 0.156 seconds, peak memory: 23.012 GB
Split the graph: 0.056 seconds
Construct subgraphs: 0.024 seconds
11369
11367
11369
11364
11368
11367
11369
11368
metis partition time  0.28241395950317383
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6964058876037598


block_gen_time in "generate_blocks_for_one_layer_block"  3.1771063804626465

connection checking time:  4.414655447006226
block generation total time  3.8735122680664062
epoch,  0
pure train time  1.9908795356750488
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.705078125 GB
    Memory Allocated: 0.09145641326904297  GigaBytes
Max Memory Allocated: 4.427628517150879  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.01909875869751
Convert a graph into a bidirected graph: 0.013 seconds, peak memory: 29.556 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 29.556 GB
Metis partitioning: 0.150 seconds, peak memory: 29.556 GB
Split the graph: 0.050 seconds
Construct subgraphs: 0.005 seconds
11369
11367
11369
11364
11368
11367
11369
11368
metis partition time  0.2297675609588623
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6876232624053955


block_gen_time in "generate_blocks_for_one_layer_block"  3.326281785964966

connection checking time:  4.524693965911865
block generation total time  4.013905048370361
epoch,  1
pure train time  1.515023946762085
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.126953125 GB
    Memory Allocated: 0.09163379669189453  GigaBytes
Max Memory Allocated: 4.45442008972168  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.8343541622161865
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 31.560 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 31.560 GB
Metis partitioning: 0.172 seconds, peak memory: 31.560 GB
Split the graph: 0.057 seconds
Construct subgraphs: 0.006 seconds
11369
11367
11369
11364
11368
11367
11369
11368
metis partition time  0.26782894134521484
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7871310710906982


block_gen_time in "generate_blocks_for_one_layer_block"  3.4729089736938477

connection checking time:  4.508315801620483
block generation total time  4.260040044784546
epoch,  2
pure train time  1.5549232959747314
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.130859375 GB
    Memory Allocated: 0.09104061126708984  GigaBytes
Max Memory Allocated: 4.45442008972168  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.680657386779785
loading full batch data spends  0.060306549072265625
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 31.626 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 31.626 GB
Metis partitioning: 0.156 seconds, peak memory: 31.626 GB
Split the graph: 0.058 seconds
Construct subgraphs: 0.006 seconds
11369
11367
11369
11364
11368
11367
11369
11368
metis partition time  0.2500429153442383
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6918637752532959


block_gen_time in "generate_blocks_for_one_layer_block"  3.400620937347412

connection checking time:  4.602419137954712
block generation total time  4.092484712600708
generate_dataloader_block spend   9.32601284980774
epoch,  3
pure train time  1.571268081665039
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.130859375 GB
    Memory Allocated: 0.09159183502197266  GigaBytes
Max Memory Allocated: 4.45442008972168  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.547307252883911
loading full batch data spends  0.06349062919616699
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 32.497 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 32.497 GB
Metis partitioning: 0.162 seconds, peak memory: 32.497 GB
Split the graph: 0.060 seconds
Construct subgraphs: 0.005 seconds
11369
11367
11369
11364
11368
11367
11369
11368
metis partition time  0.256305456161499
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6948869228363037


block_gen_time in "generate_blocks_for_one_layer_block"  3.251582622528076

connection checking time:  4.5631959438323975
block generation total time  3.94646954536438
generate_dataloader_block spend   9.15560269355774
epoch,  4
pure train time  1.4288709163665771
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.2890625 GB
    Memory Allocated: 0.09129762649536133  GigaBytes
Max Memory Allocated: 4.45442008972168  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.431500196456909
loading full batch data spends  0.060045719146728516
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 32.749 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 32.749 GB
Metis partitioning: 0.150 seconds, peak memory: 32.749 GB
Split the graph: 0.057 seconds
Construct subgraphs: 0.005 seconds
11369
11367
11369
11364
11368
11367
11369
11368
metis partition time  0.2427229881286621
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.684361457824707


block_gen_time in "generate_blocks_for_one_layer_block"  3.2205493450164795

connection checking time:  4.415668249130249
block generation total time  3.9049108028411865
generate_dataloader_block spend   8.945181846618652
epoch,  5
pure train time  1.4210364818572998
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.2890625 GB
    Memory Allocated: 0.09128808975219727  GigaBytes
Max Memory Allocated: 4.45442008972168  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.3356122970581055
loading full batch data spends  0.048619985580444336
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 32.779 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 32.779 GB
Metis partitioning: 0.156 seconds, peak memory: 32.779 GB
Split the graph: 0.047 seconds
Construct subgraphs: 0.005 seconds
11369
11367
11369
11364
11368
11367
11369
11368
metis partition time  0.23429131507873535
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6812670230865479


block_gen_time in "generate_blocks_for_one_layer_block"  3.2122347354888916

connection checking time:  4.413431167602539
block generation total time  3.8935017585754395
generate_dataloader_block spend   8.91770625114441
epoch,  6
pure train time  1.4354844093322754
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.2890625 GB
    Memory Allocated: 0.09148168563842773  GigaBytes
Max Memory Allocated: 4.45442008972168  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.266303062438965
loading full batch data spends  0.052577972412109375
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 32.794 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 32.794 GB
Metis partitioning: 0.147 seconds, peak memory: 32.794 GB
Split the graph: 0.063 seconds
Construct subgraphs: 0.005 seconds
11369
11367
11369
11364
11368
11367
11369
11368
metis partition time  0.24031591415405273
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6904065608978271


block_gen_time in "generate_blocks_for_one_layer_block"  3.193314552307129

connection checking time:  4.351891756057739
block generation total time  3.883721113204956
generate_dataloader_block spend   8.849538803100586
epoch,  7
pure train time  1.4258294105529785
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.2890625 GB
    Memory Allocated: 0.09103155136108398  GigaBytes
Max Memory Allocated: 4.45442008972168  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.221843719482422
loading full batch data spends  0.06365776062011719
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 32.811 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 32.811 GB
Metis partitioning: 0.152 seconds, peak memory: 32.811 GB
Split the graph: 0.059 seconds
Construct subgraphs: 0.006 seconds
11369
11367
11369
11364
11368
11367
11369
11368
metis partition time  0.2441256046295166
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6836919784545898


block_gen_time in "generate_blocks_for_one_layer_block"  3.175889253616333

connection checking time:  4.420612335205078
block generation total time  3.859581232070923
generate_dataloader_block spend   8.900456190109253
epoch,  8
pure train time  1.4394488334655762
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.2890625 GB
    Memory Allocated: 0.0914926528930664  GigaBytes
Max Memory Allocated: 4.45442008972168  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1950740814208984
loading full batch data spends  0.05102252960205078
Convert a graph into a bidirected graph: 0.013 seconds, peak memory: 32.811 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 32.811 GB
Metis partitioning: 0.148 seconds, peak memory: 32.811 GB
Split the graph: 0.052 seconds
Construct subgraphs: 0.005 seconds
11369
11367
11369
11364
11368
11367
11369
11368
metis partition time  0.23266291618347168
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6940901279449463


block_gen_time in "generate_blocks_for_one_layer_block"  3.3422584533691406

connection checking time:  4.518226146697998
block generation total time  4.036348581314087
generate_dataloader_block spend   9.162657976150513
epoch,  9
pure train time  1.4677672386169434
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.291015625 GB
    Memory Allocated: 0.09100008010864258  GigaBytes
Max Memory Allocated: 4.45442008972168  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1532859802246094
Total (block generation + training)time/epoch 10.831415210451398
pure train time/epoch 1.4379132747650147

num_input_list  [982854, 984071, 983180, 984406, 983506, 984326, 983198, 983584, 983544, 984274]
