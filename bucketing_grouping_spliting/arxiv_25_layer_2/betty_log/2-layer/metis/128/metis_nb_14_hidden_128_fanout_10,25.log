main start at this time 1701294626.4878354
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.029 seconds, peak memory: 23.012 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.012 GB
Metis partitioning: 0.164 seconds, peak memory: 23.012 GB
Split the graph: 0.031 seconds
Construct subgraphs: 0.014 seconds
6495
6496
6497
6496
6489
6558
6444
6494
6496
6494
6497
6494
6496
6495
metis partition time  0.24940991401672363
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6924195289611816


block_gen_time in "generate_blocks_for_one_layer_block"  3.8966732025146484

connection checking time:  5.489948511123657
block generation total time  4.58909273147583
epoch,  0
pure train time  2.912365436553955
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.017578125 GB
    Memory Allocated: 0.078643798828125  GigaBytes
Max Memory Allocated: 2.9854178428649902  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.015293121337891
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 27.869 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.869 GB
Metis partitioning: 0.168 seconds, peak memory: 27.869 GB
Split the graph: 0.057 seconds
Construct subgraphs: 0.020 seconds
6495
6496
6497
6496
6489
6558
6444
6494
6496
6494
6497
6494
6496
6495
metis partition time  0.27353692054748535
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6819236278533936


block_gen_time in "generate_blocks_for_one_layer_block"  3.9313204288482666

connection checking time:  5.505023956298828
block generation total time  4.61324405670166
epoch,  1
pure train time  2.430466651916504
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.115234375 GB
    Memory Allocated: 0.07947349548339844  GigaBytes
Max Memory Allocated: 2.9976978302001953  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.837338447570801
Convert a graph into a bidirected graph: 0.014 seconds, peak memory: 29.355 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 29.355 GB
Metis partitioning: 0.160 seconds, peak memory: 29.355 GB
Split the graph: 0.038 seconds
Construct subgraphs: 0.007 seconds
6495
6496
6497
6496
6489
6558
6444
6494
6496
6494
6497
6494
6496
6495
metis partition time  0.2320244312286377
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7341721057891846


block_gen_time in "generate_blocks_for_one_layer_block"  3.8552305698394775

connection checking time:  5.465812683105469
block generation total time  4.589402675628662
epoch,  2
pure train time  2.392667055130005
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.115234375 GB
    Memory Allocated: 0.07871818542480469  GigaBytes
Max Memory Allocated: 2.9976978302001953  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.683065414428711
loading full batch data spends  0.059087514877319336
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 29.396 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 29.396 GB
Metis partitioning: 0.169 seconds, peak memory: 29.396 GB
Split the graph: 0.038 seconds
Construct subgraphs: 0.006 seconds
6495
6496
6497
6496
6489
6558
6444
6494
6496
6494
6497
6494
6496
6495
metis partition time  0.24112462997436523
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7726540565490723


block_gen_time in "generate_blocks_for_one_layer_block"  3.968705654144287

connection checking time:  5.662416934967041
block generation total time  4.741359710693359
generate_dataloader_block spend   11.047350645065308
epoch,  3
pure train time  2.496025323867798
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.115234375 GB
    Memory Allocated: 0.07849597930908203  GigaBytes
Max Memory Allocated: 2.9976978302001953  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.5494112968444824
loading full batch data spends  0.07027482986450195
Convert a graph into a bidirected graph: 0.014 seconds, peak memory: 30.247 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.247 GB
Metis partitioning: 0.164 seconds, peak memory: 30.247 GB
Split the graph: 0.033 seconds
Construct subgraphs: 0.006 seconds
6495
6496
6497
6496
6489
6558
6444
6494
6496
6494
6497
6494
6496
6495
metis partition time  0.22699308395385742
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7070553302764893


block_gen_time in "generate_blocks_for_one_layer_block"  3.8720152378082275

connection checking time:  5.4945738315582275
block generation total time  4.579070568084717
generate_dataloader_block spend   10.693686485290527
epoch,  4
pure train time  2.4423022270202637
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.119140625 GB
    Memory Allocated: 0.08056926727294922  GigaBytes
Max Memory Allocated: 2.9976978302001953  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.431318759918213
loading full batch data spends  0.09648871421813965
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 30.308 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.308 GB
Metis partitioning: 0.165 seconds, peak memory: 30.308 GB
Split the graph: 0.040 seconds
Construct subgraphs: 0.006 seconds
6495
6496
6497
6496
6489
6558
6444
6494
6496
6494
6497
6494
6496
6495
metis partition time  0.24017763137817383
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7148878574371338


block_gen_time in "generate_blocks_for_one_layer_block"  3.90331768989563

connection checking time:  5.56874942779541
block generation total time  4.618205547332764
generate_dataloader_block spend   10.836302280426025
epoch,  5
pure train time  2.3884024620056152
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.119140625 GB
    Memory Allocated: 0.07983207702636719  GigaBytes
Max Memory Allocated: 2.9985122680664062  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.3369476795196533
loading full batch data spends  0.07942986488342285
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 30.323 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.323 GB
Metis partitioning: 0.169 seconds, peak memory: 30.323 GB
Split the graph: 0.041 seconds
Construct subgraphs: 0.007 seconds
6495
6496
6497
6496
6489
6558
6444
6494
6496
6494
6497
6494
6496
6495
metis partition time  0.24518561363220215
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7168049812316895


block_gen_time in "generate_blocks_for_one_layer_block"  3.901954174041748

connection checking time:  5.592930316925049
block generation total time  4.6187591552734375
generate_dataloader_block spend   10.859412670135498
epoch,  6
pure train time  2.3865442276000977
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.27734375 GB
    Memory Allocated: 0.07848310470581055  GigaBytes
Max Memory Allocated: 3.0127205848693848  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2675492763519287
loading full batch data spends  0.08127737045288086
Convert a graph into a bidirected graph: 0.014 seconds, peak memory: 30.508 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.508 GB
Metis partitioning: 0.160 seconds, peak memory: 30.508 GB
Split the graph: 0.037 seconds
Construct subgraphs: 0.006 seconds
6495
6496
6497
6496
6489
6558
6444
6494
6496
6494
6497
6494
6496
6495
metis partition time  0.22818851470947266
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.699589729309082


block_gen_time in "generate_blocks_for_one_layer_block"  3.863532543182373

connection checking time:  5.4546449184417725
block generation total time  4.563122272491455
generate_dataloader_block spend   10.647143363952637
epoch,  7
pure train time  2.3998823165893555
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.27734375 GB
    Memory Allocated: 0.07870912551879883  GigaBytes
Max Memory Allocated: 3.0127205848693848  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.228191614151001
loading full batch data spends  0.06263017654418945
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 30.524 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.524 GB
Metis partitioning: 0.157 seconds, peak memory: 30.524 GB
Split the graph: 0.038 seconds
Construct subgraphs: 0.007 seconds
6495
6496
6497
6496
6489
6558
6444
6494
6496
6494
6497
6494
6496
6495
metis partition time  0.23401522636413574
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7097470760345459


block_gen_time in "generate_blocks_for_one_layer_block"  3.9132280349731445

connection checking time:  5.56676459312439
block generation total time  4.62297511100769
generate_dataloader_block spend   10.836853742599487
epoch,  8
pure train time  2.325700283050537
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.27734375 GB
    Memory Allocated: 0.07872962951660156  GigaBytes
Max Memory Allocated: 3.0127205848693848  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1955204010009766
loading full batch data spends  0.07012486457824707
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 30.531 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.531 GB
Metis partitioning: 0.139 seconds, peak memory: 30.531 GB
Split the graph: 0.033 seconds
Construct subgraphs: 0.004 seconds
6495
6496
6497
6496
6489
6558
6444
6494
6496
6494
6497
6494
6496
6495
metis partition time  0.20118260383605957
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.35945916175842285


block_gen_time in "generate_blocks_for_one_layer_block"  3.8857336044311523

connection checking time:  5.026804208755493
block generation total time  4.245192766189575
generate_dataloader_block spend   9.746685028076172
epoch,  9
pure train time  2.3724186420440674
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.27734375 GB
    Memory Allocated: 0.07899284362792969  GigaBytes
Max Memory Allocated: 3.0127205848693848  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.154299736022949
Total (block generation + training)time/epoch 13.49575502531869
pure train time/epoch 2.3745895862579345

num_input_list  [1437016, 1438398, 1434172, 1439188, 1436768, 1437988, 1436695, 1436813, 1435155, 1438387]
avg num_input_list  1437058.0
