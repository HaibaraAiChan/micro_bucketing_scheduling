main start at this time 1701294332.081407
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.031 seconds, peak memory: 23.012 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.012 GB
Metis partitioning: 0.160 seconds, peak memory: 23.012 GB
Split the graph: 0.047 seconds
Construct subgraphs: 0.020 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition time  0.26984286308288574
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7128458023071289


block_gen_time in "generate_blocks_for_one_layer_block"  3.5958449840545654

connection checking time:  4.934521913528442
block generation total time  4.308690786361694
epoch,  0
pure train time  2.2094719409942627
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.13671875 GB
    Memory Allocated: 0.08716773986816406  GigaBytes
Max Memory Allocated: 3.7955942153930664  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.017481803894043
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 30.361 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.361 GB
Metis partitioning: 0.161 seconds, peak memory: 30.361 GB
Split the graph: 0.051 seconds
Construct subgraphs: 0.007 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition time  0.2512233257293701
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.7086606025695801


block_gen_time in "generate_blocks_for_one_layer_block"  3.495944023132324

connection checking time:  4.919280290603638
block generation total time  4.204604625701904
epoch,  1
pure train time  1.7366769313812256
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.27734375 GB
    Memory Allocated: 0.08634519577026367  GigaBytes
Max Memory Allocated: 3.8253793716430664  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.836256980895996
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 30.580 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.580 GB
Metis partitioning: 0.168 seconds, peak memory: 30.580 GB
Split the graph: 0.058 seconds
Construct subgraphs: 0.006 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition time  0.26212072372436523
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.719367265701294


block_gen_time in "generate_blocks_for_one_layer_block"  3.6078524589538574

connection checking time:  4.90134596824646
block generation total time  4.327219724655151
epoch,  2
pure train time  1.7772903442382812
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.28125 GB
    Memory Allocated: 0.0864720344543457  GigaBytes
Max Memory Allocated: 3.8253793716430664  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.682147979736328
loading full batch data spends  0.06396317481994629
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 31.438 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 31.438 GB
Metis partitioning: 0.141 seconds, peak memory: 31.438 GB
Split the graph: 0.038 seconds
Construct subgraphs: 0.003 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition time  0.20518016815185547
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.35188817977905273


block_gen_time in "generate_blocks_for_one_layer_block"  1.826503038406372

connection checking time:  2.659492015838623
block generation total time  2.178391218185425
generate_dataloader_block spend   5.284928560256958
epoch,  3
pure train time  1.612293004989624
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.28125 GB
    Memory Allocated: 0.08739423751831055  GigaBytes
Max Memory Allocated: 3.8253793716430664  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.5479049682617188
loading full batch data spends  0.04169654846191406
Convert a graph into a bidirected graph: 0.014 seconds, peak memory: 31.516 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 31.516 GB
Metis partitioning: 0.131 seconds, peak memory: 31.516 GB
Split the graph: 0.044 seconds
Construct subgraphs: 0.004 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition time  0.20236492156982422
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.35142016410827637


block_gen_time in "generate_blocks_for_one_layer_block"  3.572305202484131

connection checking time:  4.482421875
block generation total time  3.9237253665924072
generate_dataloader_block spend   8.846683502197266
epoch,  4
pure train time  1.7543525695800781
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.28125 GB
    Memory Allocated: 0.08648872375488281  GigaBytes
Max Memory Allocated: 3.8253793716430664  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.4311411380767822
loading full batch data spends  0.07686543464660645
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 31.531 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 31.531 GB
Metis partitioning: 0.164 seconds, peak memory: 31.531 GB
Split the graph: 0.053 seconds
Construct subgraphs: 0.008 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition time  0.25913405418395996
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6904740333557129


block_gen_time in "generate_blocks_for_one_layer_block"  3.59208345413208

connection checking time:  4.872630596160889
block generation total time  4.282557487487793
generate_dataloader_block spend   9.803596019744873
epoch,  5
pure train time  1.7532331943511963
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.28515625 GB
    Memory Allocated: 0.08656501770019531  GigaBytes
Max Memory Allocated: 3.8253793716430664  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.3357179164886475
loading full batch data spends  0.06733489036560059
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 31.546 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 31.546 GB
Metis partitioning: 0.161 seconds, peak memory: 31.546 GB
Split the graph: 0.048 seconds
Construct subgraphs: 0.007 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition time  0.24822092056274414
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6904833316802979


block_gen_time in "generate_blocks_for_one_layer_block"  3.5142128467559814

connection checking time:  4.857804536819458
block generation total time  4.204696178436279
generate_dataloader_block spend   9.693411827087402
epoch,  6
pure train time  1.717893123626709
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.28515625 GB
    Memory Allocated: 0.08651018142700195  GigaBytes
Max Memory Allocated: 3.8253793716430664  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.267120361328125
loading full batch data spends  0.08314085006713867
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 31.561 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 31.561 GB
Metis partitioning: 0.160 seconds, peak memory: 31.561 GB
Split the graph: 0.047 seconds
Construct subgraphs: 0.006 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition time  0.24033641815185547
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6839990615844727


block_gen_time in "generate_blocks_for_one_layer_block"  3.524048328399658

connection checking time:  4.839609146118164
block generation total time  4.208047389984131
generate_dataloader_block spend   9.672739505767822
epoch,  7
pure train time  1.7626245021820068
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.28515625 GB
    Memory Allocated: 0.08635234832763672  GigaBytes
Max Memory Allocated: 3.8253793716430664  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2264015674591064
loading full batch data spends  0.05783271789550781
Convert a graph into a bidirected graph: 0.014 seconds, peak memory: 31.564 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 31.564 GB
Metis partitioning: 0.152 seconds, peak memory: 31.564 GB
Split the graph: 0.047 seconds
Construct subgraphs: 0.005 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition time  0.22619247436523438
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6872537136077881


block_gen_time in "generate_blocks_for_one_layer_block"  3.520899772644043

connection checking time:  4.481922149658203
block generation total time  4.208153486251831
generate_dataloader_block spend   9.228257179260254
epoch,  8
pure train time  1.6152102947235107
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.28515625 GB
    Memory Allocated: 0.08637142181396484  GigaBytes
Max Memory Allocated: 3.8253793716430664  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.191791296005249
loading full batch data spends  0.07236385345458984
Convert a graph into a bidirected graph: 0.014 seconds, peak memory: 31.575 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 31.575 GB
Metis partitioning: 0.151 seconds, peak memory: 31.575 GB
Split the graph: 0.048 seconds
Construct subgraphs: 0.006 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition time  0.2296769618988037
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  0.6839115619659424


block_gen_time in "generate_blocks_for_one_layer_block"  3.4798574447631836

connection checking time:  4.840997695922852
block generation total time  4.163769006729126
generate_dataloader_block spend   9.61447548866272
epoch,  9
pure train time  1.733269214630127
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.28515625 GB
    Memory Allocated: 0.08736324310302734  GigaBytes
Max Memory Allocated: 3.8253793716430664  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.155278444290161
Total (block generation + training)time/epoch 10.944052696228027
pure train time/epoch 1.7164460659027099

num_input_list  [1152268, 1152959, 1152066, 1152594, 1152608, 1152617, 1151125, 1152262, 1152324, 1152503]
avg num_input_list  1152332.6
