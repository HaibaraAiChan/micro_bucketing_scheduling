main start at this time 1693078296.275425
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.039 seconds, peak memory: 23.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.998 GB
Metis partitioning: 0.154 seconds, peak memory: 24.024 GB
Split the graph: 0.035 seconds
Construct subgraphs: 0.012 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
metis partition spend time  0.24652409553527832
The batched output nid list before graph partition
connection checking time:  5.990388870239258
block generation total time  5.335580825805664
pure train time  8.184855937957764
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.064453125 GB
    Memory Allocated: 0.18873119354248047  GigaBytes
Max Memory Allocated: 3.185030460357666  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7770166397094727
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 52.234 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.234 GB
Metis partitioning: 0.177 seconds, peak memory: 52.234 GB
Split the graph: 0.089 seconds
Construct subgraphs: 0.041 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
metis partition spend time  0.3350968360900879
The batched output nid list before graph partition
connection checking time:  7.101637840270996
block generation total time  5.974234580993652
pure train time  7.758262395858765
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.07421875 GB
    Memory Allocated: 0.1883249282836914  GigaBytes
Max Memory Allocated: 3.225186347961426  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1901285648345947
Convert a graph into a bidirected graph: 0.022 seconds, peak memory: 52.403 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.403 GB
Metis partitioning: 0.192 seconds, peak memory: 52.403 GB
Split the graph: 0.194 seconds
Construct subgraphs: 0.037 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
metis partition spend time  0.45346498489379883
The batched output nid list before graph partition
connection checking time:  6.545757532119751
block generation total time  5.639543056488037
pure train time  7.753589153289795
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.07421875 GB
    Memory Allocated: 0.18940162658691406  GigaBytes
Max Memory Allocated: 3.2398791313171387  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6028940677642822
loading full batch data spends  0.12491750717163086
Convert a graph into a bidirected graph: 0.021 seconds, peak memory: 52.445 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.445 GB
Metis partitioning: 0.189 seconds, peak memory: 52.445 GB
Split the graph: 0.082 seconds
Construct subgraphs: 0.039 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
metis partition spend time  0.33998870849609375
The batched output nid list before graph partition
connection checking time:  6.25656270980835
block generation total time  5.642545461654663
generate_dataloader_block spend   12.675319910049438
pure train time  7.798194169998169
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.083984375 GB
    Memory Allocated: 0.18803024291992188  GigaBytes
Max Memory Allocated: 3.2398791313171387  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0814802646636963
loading full batch data spends  0.12725329399108887
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 52.445 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.445 GB
Metis partitioning: 0.187 seconds, peak memory: 52.450 GB
Split the graph: 0.099 seconds
Construct subgraphs: 0.027 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
metis partition spend time  0.3386845588684082
The batched output nid list before graph partition
connection checking time:  4.5579211711883545
block generation total time  5.303628206253052
generate_dataloader_block spend   10.526556730270386
pure train time  7.73314905166626
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.083984375 GB
    Memory Allocated: 0.1886768341064453  GigaBytes
Max Memory Allocated: 3.2679648399353027  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.068136692047119
loading full batch data spends  0.12958884239196777
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 52.487 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.487 GB
Metis partitioning: 0.193 seconds, peak memory: 52.487 GB
Split the graph: 0.094 seconds
Construct subgraphs: 0.035 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
metis partition spend time  0.35019803047180176
The batched output nid list before graph partition
connection checking time:  6.486701250076294
block generation total time  5.591092824935913
generate_dataloader_block spend   12.86219596862793
pure train time  7.6015167236328125
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.083984375 GB
    Memory Allocated: 0.18864202499389648  GigaBytes
Max Memory Allocated: 3.2679648399353027  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0677831172943115
loading full batch data spends  0.11919164657592773
Convert a graph into a bidirected graph: 0.020 seconds, peak memory: 52.494 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.494 GB
Metis partitioning: 0.194 seconds, peak memory: 52.494 GB
Split the graph: 0.086 seconds
Construct subgraphs: 0.036 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
metis partition spend time  0.3456904888153076
The batched output nid list before graph partition
connection checking time:  5.202005863189697
block generation total time  5.76746129989624
generate_dataloader_block spend   11.742188692092896
pure train time  7.748512268066406
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.083984375 GB
    Memory Allocated: 0.18811750411987305  GigaBytes
Max Memory Allocated: 3.2679648399353027  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0296308994293213
loading full batch data spends  0.12679791450500488
Convert a graph into a bidirected graph: 0.021 seconds, peak memory: 52.496 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.496 GB
Metis partitioning: 0.185 seconds, peak memory: 52.496 GB
Split the graph: 0.087 seconds
Construct subgraphs: 0.038 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
metis partition spend time  0.3395543098449707
The batched output nid list before graph partition
connection checking time:  5.643870830535889
block generation total time  4.430259466171265
generate_dataloader_block spend   10.840759038925171
pure train time  7.793972730636597
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.083984375 GB
    Memory Allocated: 0.18815279006958008  GigaBytes
Max Memory Allocated: 3.2679648399353027  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.9597043991088867
loading full batch data spends  0.09706783294677734
Convert a graph into a bidirected graph: 0.014 seconds, peak memory: 52.497 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.497 GB
Metis partitioning: 0.177 seconds, peak memory: 52.497 GB
Split the graph: 0.074 seconds
Construct subgraphs: 0.028 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
metis partition spend time  0.30149006843566895
The batched output nid list before graph partition
connection checking time:  6.304204702377319
block generation total time  5.610018491744995
generate_dataloader_block spend   12.547559022903442
pure train time  7.879675626754761
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.083984375 GB
    Memory Allocated: 0.1882915496826172  GigaBytes
Max Memory Allocated: 3.2679648399353027  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8686461448669434
loading full batch data spends  0.13196563720703125
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 52.497 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.497 GB
Metis partitioning: 0.196 seconds, peak memory: 52.497 GB
Split the graph: 0.111 seconds
Construct subgraphs: 0.035 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
metis partition spend time  0.3701465129852295
The batched output nid list before graph partition
connection checking time:  6.814432621002197
block generation total time  5.817333936691284
generate_dataloader_block spend   13.433110237121582
pure train time  7.802771806716919
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.083984375 GB
    Memory Allocated: 0.18840932846069336  GigaBytes
Max Memory Allocated: 3.2679648399353027  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.768714189529419
Total (block generation + training)time/epoch 21.669758115495956
pure train time/epoch 7.759933034578959

mean number of num_input_list  2257914.6
