main start at this time 1693077600.2449548
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.036 seconds, peak memory: 23.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.998 GB
Metis partitioning: 0.167 seconds, peak memory: 24.025 GB
Split the graph: 0.054 seconds
Construct subgraphs: 0.019 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition spend time  0.286510705947876
The batched output nid list before graph partition
connection checking time:  4.856078863143921
block generation total time  4.453143358230591
pure train time  5.035412073135376
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.74609375 GB
    Memory Allocated: 0.21512269973754883  GigaBytes
Max Memory Allocated: 8.55094051361084  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.775714874267578
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 45.838 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 45.838 GB
Metis partitioning: 0.152 seconds, peak memory: 45.838 GB
Split the graph: 0.051 seconds
Construct subgraphs: 0.007 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition spend time  0.2389240264892578
The batched output nid list before graph partition
connection checking time:  4.8529274463653564
block generation total time  4.396515846252441
pure train time  4.605952024459839
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.671875 GB
    Memory Allocated: 0.21405601501464844  GigaBytes
Max Memory Allocated: 8.670073986053467  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.190882921218872
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 54.221 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.221 GB
Metis partitioning: 0.159 seconds, peak memory: 54.221 GB
Split the graph: 0.058 seconds
Construct subgraphs: 0.005 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition spend time  0.24357938766479492
The batched output nid list before graph partition
connection checking time:  4.157525062561035
block generation total time  4.136370897293091
pure train time  4.589207649230957
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21476078033447266  GigaBytes
Max Memory Allocated: 8.670073986053467  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.608407735824585
loading full batch data spends  0.07597804069519043
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 61.358 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.358 GB
Metis partitioning: 0.160 seconds, peak memory: 61.358 GB
Split the graph: 0.043 seconds
Construct subgraphs: 0.005 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition spend time  0.23583555221557617
The batched output nid list before graph partition
connection checking time:  4.90978479385376
block generation total time  4.341856479644775
generate_dataloader_block spend   9.890020370483398
pure train time  4.606476068496704
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21478557586669922  GigaBytes
Max Memory Allocated: 8.670073986053467  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.079692840576172
loading full batch data spends  0.07356929779052734
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 61.415 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.415 GB
Metis partitioning: 0.153 seconds, peak memory: 61.415 GB
Split the graph: 0.061 seconds
Construct subgraphs: 0.008 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition spend time  0.24831390380859375
The batched output nid list before graph partition
connection checking time:  4.874323129653931
block generation total time  4.53185772895813
generate_dataloader_block spend   10.035157918930054
pure train time  4.6259765625
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21406936645507812  GigaBytes
Max Memory Allocated: 8.670073986053467  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0658669471740723
loading full batch data spends  0.08245682716369629
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 61.438 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.438 GB
Metis partitioning: 0.174 seconds, peak memory: 61.438 GB
Split the graph: 0.055 seconds
Construct subgraphs: 0.007 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition spend time  0.26221299171447754
The batched output nid list before graph partition
connection checking time:  4.534910678863525
block generation total time  4.456018924713135
generate_dataloader_block spend   9.569697856903076
pure train time  4.619977951049805
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21412229537963867  GigaBytes
Max Memory Allocated: 8.670073986053467  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0672903060913086
loading full batch data spends  0.06834864616394043
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 61.453 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.453 GB
Metis partitioning: 0.164 seconds, peak memory: 61.453 GB
Split the graph: 0.056 seconds
Construct subgraphs: 0.009 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition spend time  0.26230549812316895
The batched output nid list before graph partition
connection checking time:  4.934620380401611
block generation total time  4.443532705307007
generate_dataloader_block spend   10.023106813430786
pure train time  4.629323720932007
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.2140054702758789  GigaBytes
Max Memory Allocated: 8.670073986053467  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.028726577758789
loading full batch data spends  0.07486629486083984
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 61.454 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.454 GB
Metis partitioning: 0.156 seconds, peak memory: 61.454 GB
Split the graph: 0.045 seconds
Construct subgraphs: 0.006 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition spend time  0.23096227645874023
The batched output nid list before graph partition
connection checking time:  4.4575958251953125
block generation total time  4.441470384597778
generate_dataloader_block spend   9.44347357749939
pure train time  4.637273073196411
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21402788162231445  GigaBytes
Max Memory Allocated: 8.670073986053467  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.9597184658050537
loading full batch data spends  0.07229137420654297
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 61.468 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.468 GB
Metis partitioning: 0.155 seconds, peak memory: 61.468 GB
Split the graph: 0.036 seconds
Construct subgraphs: 0.005 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition spend time  0.21845698356628418
The batched output nid list before graph partition
connection checking time:  4.434552192687988
block generation total time  4.346115350723267
generate_dataloader_block spend   9.316662549972534
pure train time  4.618975877761841
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21430349349975586  GigaBytes
Max Memory Allocated: 8.670073986053467  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.868523597717285
loading full batch data spends  0.07630538940429688
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 61.469 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.469 GB
Metis partitioning: 0.158 seconds, peak memory: 61.469 GB
Split the graph: 0.040 seconds
Construct subgraphs: 0.006 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
metis partition spend time  0.22991347312927246
The batched output nid list before graph partition
connection checking time:  4.599559545516968
block generation total time  4.3520519733428955
generate_dataloader_block spend   9.569382190704346
pure train time  4.588716506958008
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21408653259277344  GigaBytes
Max Memory Allocated: 8.670073986053467  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7676610946655273
Total (block generation + training)time/epoch 15.485814435141426
pure train time/epoch 4.620040615399678

mean number of num_input_list  1152085.8
