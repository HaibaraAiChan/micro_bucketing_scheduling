main start at this time 1693077768.354198
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.040 seconds, peak memory: 23.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.998 GB
Metis partitioning: 0.159 seconds, peak memory: 24.026 GB
Split the graph: 0.052 seconds
Construct subgraphs: 0.023 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
metis partition spend time  0.2852327823638916
The batched output nid list before graph partition
connection checking time:  5.128946304321289
block generation total time  4.588625907897949
pure train time  5.188029050827026
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 10.91796875 GB
    Memory Allocated: 0.2119765281677246  GigaBytes
Max Memory Allocated: 7.8541460037231445  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7757437229156494
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 44.688 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 44.688 GB
Metis partitioning: 0.153 seconds, peak memory: 44.688 GB
Split the graph: 0.050 seconds
Construct subgraphs: 0.007 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
metis partition spend time  0.2419900894165039
The batched output nid list before graph partition
connection checking time:  5.197738409042358
block generation total time  4.451448202133179
pure train time  4.757744789123535
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.708984375 GB
    Memory Allocated: 0.21158170700073242  GigaBytes
Max Memory Allocated: 7.987736225128174  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1897854804992676
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 54.159 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.159 GB
Metis partitioning: 0.170 seconds, peak memory: 54.159 GB
Split the graph: 0.050 seconds
Construct subgraphs: 0.007 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
metis partition spend time  0.2553277015686035
The batched output nid list before graph partition
connection checking time:  5.048574924468994
block generation total time  4.371372938156128
pure train time  4.749748706817627
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.7109375 GB
    Memory Allocated: 0.21256065368652344  GigaBytes
Max Memory Allocated: 7.987736225128174  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6073124408721924
loading full batch data spends  0.09973788261413574
Convert a graph into a bidirected graph: 0.021 seconds, peak memory: 59.430 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.430 GB
Metis partitioning: 0.205 seconds, peak memory: 59.430 GB
Split the graph: 0.074 seconds
Construct subgraphs: 0.013 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
metis partition spend time  0.32889294624328613
The batched output nid list before graph partition
connection checking time:  4.91567850112915
block generation total time  4.368237733840942
generate_dataloader_block spend   9.979430437088013
pure train time  4.751090049743652
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.5078125 GB
    Memory Allocated: 0.21224641799926758  GigaBytes
Max Memory Allocated: 8.013689994812012  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.081559419631958
loading full batch data spends  0.08167433738708496
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 60.249 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.249 GB
Metis partitioning: 0.166 seconds, peak memory: 60.249 GB
Split the graph: 0.054 seconds
Construct subgraphs: 0.006 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
metis partition spend time  0.2534780502319336
The batched output nid list before graph partition
connection checking time:  4.772293329238892
block generation total time  4.2592854499816895
generate_dataloader_block spend   9.59961462020874
pure train time  4.7741758823394775
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.5078125 GB
    Memory Allocated: 0.2120494842529297  GigaBytes
Max Memory Allocated: 8.013689994812012  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.067988634109497
loading full batch data spends  0.08229446411132812
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 60.269 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.269 GB
Metis partitioning: 0.174 seconds, peak memory: 60.269 GB
Split the graph: 0.048 seconds
Construct subgraphs: 0.008 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
metis partition spend time  0.25930261611938477
The batched output nid list before graph partition
connection checking time:  5.090973377227783
block generation total time  4.373815059661865
generate_dataloader_block spend   10.132936000823975
pure train time  4.759317874908447
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.51171875 GB
    Memory Allocated: 0.21265649795532227  GigaBytes
Max Memory Allocated: 8.013689994812012  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0683765411376953
loading full batch data spends  0.07921457290649414
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 60.278 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.278 GB
Metis partitioning: 0.171 seconds, peak memory: 60.278 GB
Split the graph: 0.069 seconds
Construct subgraphs: 0.010 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
metis partition spend time  0.2752237319946289
The batched output nid list before graph partition
connection checking time:  2.806772470474243
block generation total time  2.4098196029663086
generate_dataloader_block spend   5.814244270324707
pure train time  4.745911359786987
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.515625 GB
    Memory Allocated: 0.21181440353393555  GigaBytes
Max Memory Allocated: 8.013689994812012  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0297999382019043
loading full batch data spends  0.07929182052612305
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 60.296 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.296 GB
Metis partitioning: 0.159 seconds, peak memory: 60.296 GB
Split the graph: 0.062 seconds
Construct subgraphs: 0.008 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
metis partition spend time  0.25727343559265137
The batched output nid list before graph partition
connection checking time:  4.749181509017944
block generation total time  4.324424505233765
generate_dataloader_block spend   9.660437107086182
pure train time  4.764924764633179
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.515625 GB
    Memory Allocated: 0.2116689682006836  GigaBytes
Max Memory Allocated: 8.013689994812012  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.96016788482666
loading full batch data spends  0.07368326187133789
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 60.299 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.299 GB
Metis partitioning: 0.157 seconds, peak memory: 60.299 GB
Split the graph: 0.077 seconds
Construct subgraphs: 0.014 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
metis partition spend time  0.2803516387939453
The batched output nid list before graph partition
connection checking time:  5.03352427482605
block generation total time  4.386478900909424
generate_dataloader_block spend   10.088477611541748
pure train time  4.809106826782227
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.525390625 GB
    Memory Allocated: 0.21325254440307617  GigaBytes
Max Memory Allocated: 8.013689994812012  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.870121955871582
loading full batch data spends  0.07465600967407227
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 60.299 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.299 GB
Metis partitioning: 0.162 seconds, peak memory: 60.299 GB
Split the graph: 0.085 seconds
Construct subgraphs: 0.013 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
metis partition spend time  0.29163622856140137
The batched output nid list before graph partition
connection checking time:  5.114078521728516
block generation total time  4.396937370300293
generate_dataloader_block spend   10.201366901397705
pure train time  4.760165214538574
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.52734375 GB
    Memory Allocated: 0.21275854110717773  GigaBytes
Max Memory Allocated: 8.013689994812012  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7696852684020996
Total (block generation + training)time/epoch 15.330406154905047
pure train time/epoch 4.768933653831482

mean number of num_input_list  1228807.6
