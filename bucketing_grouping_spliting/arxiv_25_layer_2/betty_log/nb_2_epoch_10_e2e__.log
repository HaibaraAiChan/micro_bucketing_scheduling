main start at this time 1689040870.8851128
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
loading full batch data spends  0.06655216217041016
REG start----................................
Convert a graph into a bidirected graph: 1.295 seconds, peak memory: 27.381 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.381 GB
Metis partitioning: 5.734 seconds, peak memory: 27.796 GB
Split the graph: 4.975 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.851346015930176
pure dgl.metis_partition the time spent:  12.042415618896484
connection checking time:  1.7202091217041016
block generation total time  1.6434638500213623
generate_dataloader_block spend   19.948750019073486
pure train time  1.768545150756836
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.552734375 GB
    Memory Allocated: 0.13373470306396484  GigaBytes
Max Memory Allocated: 18.994679927825928  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7455172538757324
loading full batch data spends  0.07010102272033691
REG start----................................
Convert a graph into a bidirected graph: 1.326 seconds, peak memory: 54.203 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.203 GB
Metis partitioning: 5.526 seconds, peak memory: 54.203 GB
Split the graph: 5.153 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.970466136932373
pure dgl.metis_partition the time spent:  12.043728590011597
connection checking time:  1.672626256942749
block generation total time  1.6095175743103027
generate_dataloader_block spend   20.012566089630127
pure train time  1.1551764011383057
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.462890625 GB
    Memory Allocated: 0.1345658302307129  GigaBytes
Max Memory Allocated: 19.14091730117798  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.367684841156006
loading full batch data spends  0.060018062591552734
REG start----................................
Convert a graph into a bidirected graph: 1.310 seconds, peak memory: 59.362 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.362 GB
Metis partitioning: 5.376 seconds, peak memory: 59.784 GB
Split the graph: 5.146 seconds
Construct subgraphs: 0.013 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7753496170043945
pure dgl.metis_partition the time spent:  11.864695310592651
connection checking time:  1.7353065013885498
block generation total time  1.6328504085540771
generate_dataloader_block spend   19.69729471206665
pure train time  1.1669342517852783
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.46875 GB
    Memory Allocated: 0.11662864685058594  GigaBytes
Max Memory Allocated: 19.14091730117798  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.171236038208008
loading full batch data spends  0.0719304084777832
REG start----................................
Convert a graph into a bidirected graph: 1.364 seconds, peak memory: 62.479 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.479 GB
Metis partitioning: 5.578 seconds, peak memory: 62.939 GB
Split the graph: 5.166 seconds
Construct subgraphs: 0.032 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7555906772613525
pure dgl.metis_partition the time spent:  12.157553434371948
connection checking time:  1.6853246688842773
block generation total time  1.6072697639465332
generate_dataloader_block spend   19.879594087600708
pure train time  1.1524550914764404
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.46875 GB
    Memory Allocated: 0.1356205940246582  GigaBytes
Max Memory Allocated: 19.14091730117798  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0713868141174316
loading full batch data spends  0.05094289779663086
REG start----................................
Convert a graph into a bidirected graph: 1.314 seconds, peak memory: 65.824 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.824 GB
Metis partitioning: 5.521 seconds, peak memory: 66.289 GB
Split the graph: 5.312 seconds
Construct subgraphs: 0.013 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9675867557525635
pure dgl.metis_partition the time spent:  12.177497863769531
connection checking time:  1.657435417175293
block generation total time  1.6458244323730469
generate_dataloader_block spend   20.13764786720276
pure train time  1.157212257385254
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.46875 GB
    Memory Allocated: 0.13424062728881836  GigaBytes
Max Memory Allocated: 19.14091730117798  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.019592046737671
loading full batch data spends  0.0633542537689209
REG start----................................
Convert a graph into a bidirected graph: 1.310 seconds, peak memory: 69.065 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.065 GB
Metis partitioning: 5.517 seconds, peak memory: 69.526 GB
Split the graph: 5.440 seconds
Construct subgraphs: 0.033 seconds
REG metis partition end ----................................
REG construction  time spent:  3.801015615463257
pure dgl.metis_partition the time spent:  12.31764554977417
connection checking time:  1.6796269416809082
block generation total time  1.6327605247497559
generate_dataloader_block spend   20.111300230026245
pure train time  1.2760660648345947
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.5703125 GB
    Memory Allocated: 0.13416337966918945  GigaBytes
Max Memory Allocated: 19.19205141067505  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.937861680984497
loading full batch data spends  0.05291461944580078
REG start----................................
Convert a graph into a bidirected graph: 1.345 seconds, peak memory: 71.455 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.455 GB
Metis partitioning: 5.738 seconds, peak memory: 71.881 GB
Split the graph: 5.345 seconds
Construct subgraphs: 0.033 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7323248386383057
pure dgl.metis_partition the time spent:  12.48765230178833
connection checking time:  1.707857370376587
block generation total time  1.6420490741729736
generate_dataloader_block spend   20.257090091705322
pure train time  1.1489050388336182
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.7265625 GB
    Memory Allocated: 0.13353967666625977  GigaBytes
Max Memory Allocated: 19.19205141067505  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.892022132873535
loading full batch data spends  0.07306647300720215
REG start----................................
Convert a graph into a bidirected graph: 1.321 seconds, peak memory: 74.151 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.151 GB
Metis partitioning: 5.635 seconds, peak memory: 74.572 GB
Split the graph: 5.458 seconds
Construct subgraphs: 0.008 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7146670818328857
pure dgl.metis_partition the time spent:  12.439582109451294
connection checking time:  1.7217986583709717
block generation total time  1.6224982738494873
generate_dataloader_block spend   20.166418313980103
pure train time  1.1479792594909668
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.7265625 GB
    Memory Allocated: 0.13449859619140625  GigaBytes
Max Memory Allocated: 19.19205141067505  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.845144033432007
loading full batch data spends  0.048091888427734375
REG start----................................
Convert a graph into a bidirected graph: 1.396 seconds, peak memory: 75.750 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.750 GB
Metis partitioning: 5.700 seconds, peak memory: 75.750 GB
Split the graph: 5.235 seconds
Construct subgraphs: 0.004 seconds
REG metis partition end ----................................
REG construction  time spent:  3.98673939704895
pure dgl.metis_partition the time spent:  12.353437900543213
connection checking time:  1.7269196510314941
block generation total time  1.6041100025177002
generate_dataloader_block spend   20.413483142852783
pure train time  1.1437468528747559
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.048828125 GB
    Memory Allocated: 0.13372087478637695  GigaBytes
Max Memory Allocated: 19.19205141067505  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.778822898864746
loading full batch data spends  0.06553149223327637
REG start----................................
Convert a graph into a bidirected graph: 1.352 seconds, peak memory: 75.882 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.882 GB
Metis partitioning: 5.739 seconds, peak memory: 75.882 GB
Split the graph: 5.499 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7401838302612305
pure dgl.metis_partition the time spent:  12.627201080322266
connection checking time:  1.6673719882965088
block generation total time  1.6196880340576172
generate_dataloader_block spend   20.325597286224365
pure train time  1.1519358158111572
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.048828125 GB
    Memory Allocated: 0.13305997848510742  GigaBytes
Max Memory Allocated: 19.19205141067505  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.6970252990722656
Total (block generation + training)time/epoch 21.73507912158966
pure train time/epoch 1.1709742148717244
