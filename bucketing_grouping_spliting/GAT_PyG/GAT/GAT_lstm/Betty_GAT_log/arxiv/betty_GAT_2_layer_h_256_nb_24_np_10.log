main start at this time 1700537978.4910595
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.202 seconds, peak memory: 27.004 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.004 GB
Metis partitioning: 6.552 seconds, peak memory: 28.502 GB
Split the graph: 0.870 seconds
Construct subgraphs: 0.100 seconds
REG metis partition end ----................................
REG construction  time spent:  3.085745334625244
pure dgl.metis_partition the time spent:  8.72851824760437

block_gen_time in "generate_blocks_for_one_layer_block"  0.6481397151947021


block_gen_time in "generate_blocks_for_one_layer_block"  1.8146491050720215

connection checking time:  2.85300350189209
block generation total time  2.4627888202667236
pure train time  7.74603796005249
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.94140625 GB
    Memory Allocated: 0.2054305076599121  GigaBytes
Max Memory Allocated: 13.587574005126953  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6988444328308105
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.362 seconds, peak memory: 54.677 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.677 GB
Metis partitioning: 6.958 seconds, peak memory: 54.677 GB
Split the graph: 0.977 seconds
Construct subgraphs: 0.129 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8840909004211426
pure dgl.metis_partition the time spent:  9.42697525024414

block_gen_time in "generate_blocks_for_one_layer_block"  0.7053706645965576


block_gen_time in "generate_blocks_for_one_layer_block"  1.8560078144073486

connection checking time:  2.9444217681884766
block generation total time  2.5613784790039062
pure train time  6.869837522506714
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.96484375 GB
    Memory Allocated: 0.22136497497558594  GigaBytes
Max Memory Allocated: 13.587574005126953  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.691182851791382
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.253 seconds, peak memory: 54.677 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.677 GB
Metis partitioning: 6.729 seconds, peak memory: 54.677 GB
Split the graph: 1.038 seconds
Construct subgraphs: 0.133 seconds
REG metis partition end ----................................
REG construction  time spent:  3.31457781791687
pure dgl.metis_partition the time spent:  9.155414581298828

block_gen_time in "generate_blocks_for_one_layer_block"  0.652916669845581


block_gen_time in "generate_blocks_for_one_layer_block"  1.8645994663238525

connection checking time:  2.9782938957214355
block generation total time  2.5175161361694336
pure train time  7.038697242736816
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.814453125 GB
    Memory Allocated: 0.21695470809936523  GigaBytes
Max Memory Allocated: 13.881356239318848  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6840686798095703
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.319 seconds, peak memory: 59.764 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.764 GB
Metis partitioning: 6.781 seconds, peak memory: 59.764 GB
Split the graph: 0.945 seconds
Construct subgraphs: 0.137 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5846052169799805
pure dgl.metis_partition the time spent:  9.184243440628052

block_gen_time in "generate_blocks_for_one_layer_block"  0.6483087539672852


block_gen_time in "generate_blocks_for_one_layer_block"  1.9608681201934814

connection checking time:  3.0524938106536865
block generation total time  2.6091768741607666
generate_dataloader_block spend   18.9282386302948
pure train time  7.505471229553223
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.88671875 GB
    Memory Allocated: 0.2223963737487793  GigaBytes
Max Memory Allocated: 14.004422187805176  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.677095890045166
epoch time :  32.730769872665405
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.260 seconds, peak memory: 59.824 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.824 GB
Metis partitioning: 7.428 seconds, peak memory: 59.824 GB
Split the graph: 1.142 seconds
Construct subgraphs: 0.140 seconds
REG metis partition end ----................................
REG construction  time spent:  3.3362438678741455
pure dgl.metis_partition the time spent:  9.971329689025879

block_gen_time in "generate_blocks_for_one_layer_block"  0.6486263275146484


block_gen_time in "generate_blocks_for_one_layer_block"  1.8021330833435059

connection checking time:  2.871779680252075
block generation total time  2.4507594108581543
generate_dataloader_block spend   19.145768642425537
pure train time  6.853955984115601
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.8671875 GB
    Memory Allocated: 0.20502758026123047  GigaBytes
Max Memory Allocated: 14.004422187805176  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6686954498291016
epoch time :  32.238932609558105
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.189 seconds, peak memory: 60.719 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.719 GB
Metis partitioning: 7.004 seconds, peak memory: 60.719 GB
Split the graph: 0.988 seconds
Construct subgraphs: 0.083 seconds
REG metis partition end ----................................
REG construction  time spent:  3.434734344482422
pure dgl.metis_partition the time spent:  9.26616621017456

block_gen_time in "generate_blocks_for_one_layer_block"  0.32982420921325684


block_gen_time in "generate_blocks_for_one_layer_block"  1.9122869968414307

connection checking time:  1.8257126808166504
block generation total time  2.2421112060546875
generate_dataloader_block spend   17.10639190673828
pure train time  6.844720363616943
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.8671875 GB
    Memory Allocated: 0.20748043060302734  GigaBytes
Max Memory Allocated: 14.004422187805176  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.658963918685913
epoch time :  30.586846590042114
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.430 seconds, peak memory: 60.719 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.719 GB
Metis partitioning: 7.998 seconds, peak memory: 60.719 GB
Split the graph: 0.933 seconds
Construct subgraphs: 0.130 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7416765689849854
pure dgl.metis_partition the time spent:  10.492628574371338

block_gen_time in "generate_blocks_for_one_layer_block"  0.6428041458129883


block_gen_time in "generate_blocks_for_one_layer_block"  1.8733739852905273

connection checking time:  2.959754228591919
block generation total time  2.5161781311035156
generate_dataloader_block spend   20.19618821144104
pure train time  6.733163595199585
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.873046875 GB
    Memory Allocated: 0.22426271438598633  GigaBytes
Max Memory Allocated: 14.004422187805176  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.646312952041626
epoch time :  33.378267765045166
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.348 seconds, peak memory: 60.855 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.855 GB
Metis partitioning: 7.520 seconds, peak memory: 60.855 GB
Split the graph: 1.228 seconds
Construct subgraphs: 0.131 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6313257217407227
pure dgl.metis_partition the time spent:  10.228902101516724

block_gen_time in "generate_blocks_for_one_layer_block"  0.6514256000518799


block_gen_time in "generate_blocks_for_one_layer_block"  1.8314251899719238

connection checking time:  2.890882730484009
block generation total time  2.4828507900238037
generate_dataloader_block spend   19.71586585044861
pure train time  6.7262444496154785
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.873046875 GB
    Memory Allocated: 0.21799659729003906  GigaBytes
Max Memory Allocated: 14.004422187805176  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.631744861602783
epoch time :  32.79827618598938
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.225 seconds, peak memory: 61.234 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.234 GB
Metis partitioning: 7.304 seconds, peak memory: 61.234 GB
Split the graph: 1.061 seconds
Construct subgraphs: 0.124 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5376274585723877
pure dgl.metis_partition the time spent:  9.716209888458252

block_gen_time in "generate_blocks_for_one_layer_block"  0.6506812572479248


block_gen_time in "generate_blocks_for_one_layer_block"  1.794611930847168

connection checking time:  2.878204107284546
block generation total time  2.4452931880950928
generate_dataloader_block spend   19.07751750946045
pure train time  6.619947671890259
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.873046875 GB
    Memory Allocated: 0.20577096939086914  GigaBytes
Max Memory Allocated: 14.004422187805176  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6162266731262207
epoch time :  31.899086952209473
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.198 seconds, peak memory: 62.038 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.038 GB
Metis partitioning: 7.471 seconds, peak memory: 62.038 GB
Split the graph: 1.011 seconds
Construct subgraphs: 0.106 seconds
REG metis partition end ----................................
REG construction  time spent:  3.444890022277832
pure dgl.metis_partition the time spent:  9.78731107711792

block_gen_time in "generate_blocks_for_one_layer_block"  0.6472406387329102


block_gen_time in "generate_blocks_for_one_layer_block"  1.8188693523406982

connection checking time:  2.878652334213257
block generation total time  2.4661099910736084
generate_dataloader_block spend   19.11570906639099
pure train time  6.703687906265259
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.873046875 GB
    Memory Allocated: 0.2232656478881836  GigaBytes
Max Memory Allocated: 14.004422187805176  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.602306604385376
epoch time :  32.12767052650452
Total (block generation + training)time/epoch 32.25140394483294
pure train time/epoch 6.7469533284505205

num_input_list  [680542, 700460, 703081, 738044, 680895, 729580, 709780, 693631, 675626, 682806]
