main start at this time 1700536713.7834253
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.178 seconds, peak memory: 27.004 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.004 GB
Metis partitioning: 6.574 seconds, peak memory: 30.252 GB
Split the graph: 1.241 seconds
Construct subgraphs: 0.095 seconds
REG metis partition end ----................................
REG construction  time spent:  3.1012001037597656
pure dgl.metis_partition the time spent:  9.090962409973145

block_gen_time in "generate_blocks_for_one_layer_block"  0.3196845054626465


block_gen_time in "generate_blocks_for_one_layer_block"  1.6623425483703613

connection checking time:  2.153245687484741
block generation total time  1.9820270538330078
pure train time  6.005860328674316
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.67578125 GB
    Memory Allocated: 0.2175159454345703  GigaBytes
Max Memory Allocated: 16.85305118560791  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.698854923248291
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.344 seconds, peak memory: 57.320 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.320 GB
Metis partitioning: 7.052 seconds, peak memory: 57.320 GB
Split the graph: 1.491 seconds
Construct subgraphs: 0.121 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6988508701324463
pure dgl.metis_partition the time spent:  10.012211322784424

block_gen_time in "generate_blocks_for_one_layer_block"  0.6560211181640625


block_gen_time in "generate_blocks_for_one_layer_block"  1.6589086055755615

connection checking time:  2.661970853805542
block generation total time  2.314929723739624
pure train time  6.073627233505249
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.796875 GB
    Memory Allocated: 0.22594785690307617  GigaBytes
Max Memory Allocated: 17.741605281829834  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6911697387695312
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.196 seconds, peak memory: 59.218 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.218 GB
Metis partitioning: 6.707 seconds, peak memory: 59.218 GB
Split the graph: 1.052 seconds
Construct subgraphs: 0.010 seconds
REG metis partition end ----................................
REG construction  time spent:  3.3772056102752686
pure dgl.metis_partition the time spent:  8.966899633407593

block_gen_time in "generate_blocks_for_one_layer_block"  0.6602604389190674


block_gen_time in "generate_blocks_for_one_layer_block"  1.7258384227752686

connection checking time:  2.714576244354248
block generation total time  2.386098861694336
pure train time  5.305662155151367
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.03515625 GB
    Memory Allocated: 0.2053370475769043  GigaBytes
Max Memory Allocated: 17.741605281829834  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6841979026794434
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.199 seconds, peak memory: 59.218 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.218 GB
Metis partitioning: 6.843 seconds, peak memory: 59.218 GB
Split the graph: 1.424 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7533133029937744
pure dgl.metis_partition the time spent:  9.488294839859009

block_gen_time in "generate_blocks_for_one_layer_block"  0.6573705673217773


block_gen_time in "generate_blocks_for_one_layer_block"  1.7103230953216553

connection checking time:  2.703990936279297
block generation total time  2.3676936626434326
generate_dataloader_block spend   18.85574960708618
pure train time  5.392290353775024
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.92578125 GB
    Memory Allocated: 0.22906208038330078  GigaBytes
Max Memory Allocated: 18.389214515686035  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.676872491836548
epoch time :  30.072967767715454
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.193 seconds, peak memory: 60.891 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.891 GB
Metis partitioning: 6.721 seconds, peak memory: 60.891 GB
Split the graph: 1.406 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5345137119293213
pure dgl.metis_partition the time spent:  9.338883399963379

block_gen_time in "generate_blocks_for_one_layer_block"  0.6696479320526123


block_gen_time in "generate_blocks_for_one_layer_block"  1.7158446311950684

connection checking time:  2.651630163192749
block generation total time  2.3854925632476807
generate_dataloader_block spend   18.341383457183838
pure train time  5.234076261520386
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.92578125 GB
    Memory Allocated: 0.20561933517456055  GigaBytes
Max Memory Allocated: 18.389214515686035  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.66878342628479
epoch time :  29.42587399482727
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.173 seconds, peak memory: 61.268 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.268 GB
Metis partitioning: 6.778 seconds, peak memory: 61.268 GB
Split the graph: 1.406 seconds
Construct subgraphs: 0.025 seconds
REG metis partition end ----................................
REG construction  time spent:  3.720276355743408
pure dgl.metis_partition the time spent:  9.383554220199585

block_gen_time in "generate_blocks_for_one_layer_block"  0.6414334774017334


block_gen_time in "generate_blocks_for_one_layer_block"  1.7386765480041504

connection checking time:  2.667464256286621
block generation total time  2.380110025405884
generate_dataloader_block spend   18.694196939468384
pure train time  5.162004470825195
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.935546875 GB
    Memory Allocated: 0.21969127655029297  GigaBytes
Max Memory Allocated: 18.389214515686035  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6587374210357666
epoch time :  29.664835453033447
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.182 seconds, peak memory: 62.295 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.295 GB
Metis partitioning: 7.074 seconds, peak memory: 62.295 GB
Split the graph: 1.565 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.51383376121521
pure dgl.metis_partition the time spent:  9.841256380081177

block_gen_time in "generate_blocks_for_one_layer_block"  0.6370229721069336


block_gen_time in "generate_blocks_for_one_layer_block"  1.6861484050750732

connection checking time:  2.3885433673858643
block generation total time  2.323171377182007
generate_dataloader_block spend   18.53069567680359
pure train time  5.104961395263672
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.935546875 GB
    Memory Allocated: 0.20777559280395508  GigaBytes
Max Memory Allocated: 18.389214515686035  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6464009284973145
epoch time :  29.40198564529419
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.162 seconds, peak memory: 63.412 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 63.412 GB
Metis partitioning: 7.377 seconds, peak memory: 63.412 GB
Split the graph: 1.555 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.441843271255493
pure dgl.metis_partition the time spent:  10.115281820297241

block_gen_time in "generate_blocks_for_one_layer_block"  0.32248973846435547


block_gen_time in "generate_blocks_for_one_layer_block"  1.1614301204681396

connection checking time:  1.5276587009429932
block generation total time  1.4839198589324951
generate_dataloader_block spend   17.02827215194702
pure train time  5.106034517288208
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.943359375 GB
    Memory Allocated: 0.22669601440429688  GigaBytes
Max Memory Allocated: 18.389214515686035  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.631303071975708
epoch time :  27.854639053344727
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.241 seconds, peak memory: 64.492 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.492 GB
Metis partitioning: 7.098 seconds, peak memory: 64.492 GB
Split the graph: 1.589 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.377591848373413
pure dgl.metis_partition the time spent:  9.949873924255371

block_gen_time in "generate_blocks_for_one_layer_block"  0.6287431716918945


block_gen_time in "generate_blocks_for_one_layer_block"  1.6430082321166992

connection checking time:  2.602138042449951
block generation total time  2.2717514038085938
generate_dataloader_block spend   18.723435163497925
pure train time  4.998069524765015
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.943359375 GB
    Memory Allocated: 0.2045297622680664  GigaBytes
Max Memory Allocated: 18.389214515686035  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6170806884765625
epoch time :  29.392619848251343
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.161 seconds, peak memory: 65.367 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.367 GB
Metis partitioning: 7.364 seconds, peak memory: 65.367 GB
Split the graph: 1.305 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5567128658294678
pure dgl.metis_partition the time spent:  9.854756832122803

block_gen_time in "generate_blocks_for_one_layer_block"  0.6333916187286377


block_gen_time in "generate_blocks_for_one_layer_block"  1.6908237934112549

connection checking time:  2.6737608909606934
block generation total time  2.3242154121398926
generate_dataloader_block spend   18.956161975860596
pure train time  5.173112154006958
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.943359375 GB
    Memory Allocated: 0.21178388595581055  GigaBytes
Max Memory Allocated: 18.389214515686035  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6020822525024414
epoch time :  29.913976430892944
Total (block generation + training)time/epoch 29.389554364340647
pure train time/epoch 5.129709720611572

num_input_list  [583293, 565353, 589715, 586415, 588752, 579777, 577876, 577212, 558622, 578510]
