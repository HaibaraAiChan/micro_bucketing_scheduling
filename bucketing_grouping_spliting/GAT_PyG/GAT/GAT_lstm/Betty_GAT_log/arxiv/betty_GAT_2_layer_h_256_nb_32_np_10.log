main start at this time 1700538314.2264202
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.203 seconds, peak memory: 27.004 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.004 GB
Metis partitioning: 6.789 seconds, peak memory: 30.252 GB
Split the graph: 0.830 seconds
Construct subgraphs: 0.071 seconds
REG metis partition end ----................................
REG construction  time spent:  3.115929126739502
pure dgl.metis_partition the time spent:  8.894203186035156

block_gen_time in "generate_blocks_for_one_layer_block"  0.4057278633117676


block_gen_time in "generate_blocks_for_one_layer_block"  1.9539875984191895

connection checking time:  2.642862558364868
block generation total time  2.359715461730957
pure train time  9.372227430343628
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.80859375 GB
    Memory Allocated: 0.21842622756958008  GigaBytes
Max Memory Allocated: 12.055888175964355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.698862075805664
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.347 seconds, peak memory: 57.877 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.877 GB
Metis partitioning: 7.270 seconds, peak memory: 57.877 GB
Split the graph: 0.978 seconds
Construct subgraphs: 0.133 seconds
REG metis partition end ----................................
REG construction  time spent:  3.3740732669830322
pure dgl.metis_partition the time spent:  9.73022174835205

block_gen_time in "generate_blocks_for_one_layer_block"  0.6910934448242188


block_gen_time in "generate_blocks_for_one_layer_block"  2.0371930599212646

connection checking time:  3.1910057067871094
block generation total time  2.7282865047454834
pure train time  8.603615760803223
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.158203125 GB
    Memory Allocated: 0.20792484283447266  GigaBytes
Max Memory Allocated: 12.055888175964355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.691166400909424
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.281 seconds, peak memory: 57.877 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.877 GB
Metis partitioning: 6.950 seconds, peak memory: 57.877 GB
Split the graph: 0.979 seconds
Construct subgraphs: 0.114 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4202826023101807
pure dgl.metis_partition the time spent:  9.325977087020874

block_gen_time in "generate_blocks_for_one_layer_block"  0.6623649597167969


block_gen_time in "generate_blocks_for_one_layer_block"  1.9888691902160645

connection checking time:  2.7321929931640625
block generation total time  2.6512341499328613
pure train time  8.3718900680542
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.2890625 GB
    Memory Allocated: 0.22092771530151367  GigaBytes
Max Memory Allocated: 12.055888175964355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6843485832214355
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.176 seconds, peak memory: 57.877 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.877 GB
Metis partitioning: 6.985 seconds, peak memory: 57.877 GB
Split the graph: 0.856 seconds
Construct subgraphs: 0.109 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4988322257995605
pure dgl.metis_partition the time spent:  9.12838339805603

block_gen_time in "generate_blocks_for_one_layer_block"  0.665806770324707


block_gen_time in "generate_blocks_for_one_layer_block"  2.050607919692993

connection checking time:  2.8379430770874023
block generation total time  2.7164146900177
generate_dataloader_block spend   18.61817193031311
pure train time  8.378798007965088
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.083984375 GB
    Memory Allocated: 0.22310733795166016  GigaBytes
Max Memory Allocated: 12.055888175964355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.676928758621216
epoch time :  33.97214150428772
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.290 seconds, peak memory: 57.877 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.877 GB
Metis partitioning: 7.294 seconds, peak memory: 57.877 GB
Split the graph: 0.787 seconds
Construct subgraphs: 0.131 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8570361137390137
pure dgl.metis_partition the time spent:  9.50385332107544

block_gen_time in "generate_blocks_for_one_layer_block"  0.6707510948181152


block_gen_time in "generate_blocks_for_one_layer_block"  2.042703628540039

connection checking time:  3.214949131011963
block generation total time  2.7134547233581543
generate_dataloader_block spend   19.841242790222168
pure train time  8.326162099838257
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.083984375 GB
    Memory Allocated: 0.21155357360839844  GigaBytes
Max Memory Allocated: 12.055888175964355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.668743133544922
epoch time :  35.09965467453003
Epoch 6, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.165 seconds, peak memory: 57.877 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.877 GB
Metis partitioning: 6.875 seconds, peak memory: 57.877 GB
Split the graph: 0.876 seconds
Construct subgraphs: 0.086 seconds
REG metis partition end ----................................
REG construction  time spent:  3.3930585384368896
pure dgl.metis_partition the time spent:  9.004035472869873

block_gen_time in "generate_blocks_for_one_layer_block"  0.7316317558288574


block_gen_time in "generate_blocks_for_one_layer_block"  2.05049991607666

connection checking time:  2.744537830352783
block generation total time  2.7821316719055176
generate_dataloader_block spend   18.263258457183838
pure train time  8.457222700119019
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.50390625 GB
    Memory Allocated: 0.20953655242919922  GigaBytes
Max Memory Allocated: 12.055888175964355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6592228412628174
epoch time :  33.651325702667236
Epoch 7, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.191 seconds, peak memory: 58.636 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.636 GB
Metis partitioning: 7.079 seconds, peak memory: 58.636 GB
Split the graph: 0.977 seconds
Construct subgraphs: 0.128 seconds
REG metis partition end ----................................
REG construction  time spent:  2.8542020320892334
pure dgl.metis_partition the time spent:  9.37741994857788

block_gen_time in "generate_blocks_for_one_layer_block"  0.6726951599121094


block_gen_time in "generate_blocks_for_one_layer_block"  2.0853121280670166

connection checking time:  3.2604146003723145
block generation total time  2.758007287979126
generate_dataloader_block spend   18.789063692092896
pure train time  8.30509638786316
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.50390625 GB
    Memory Allocated: 0.22651338577270508  GigaBytes
Max Memory Allocated: 12.055888175964355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6463191509246826
epoch time :  34.202149629592896
Epoch 8, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.227 seconds, peak memory: 59.143 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.143 GB
Metis partitioning: 6.874 seconds, peak memory: 59.143 GB
Split the graph: 0.722 seconds
Construct subgraphs: 0.135 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4354958534240723
pure dgl.metis_partition the time spent:  8.9597909450531

block_gen_time in "generate_blocks_for_one_layer_block"  0.689568042755127


block_gen_time in "generate_blocks_for_one_layer_block"  2.0344409942626953

connection checking time:  2.6474220752716064
block generation total time  2.7240090370178223
generate_dataloader_block spend   18.272279024124146
pure train time  8.347148656845093
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.50390625 GB
    Memory Allocated: 0.22348546981811523  GigaBytes
Max Memory Allocated: 12.055888175964355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.631453514099121
epoch time :  33.55032181739807
Epoch 9, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.204 seconds, peak memory: 59.463 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.463 GB
Metis partitioning: 7.079 seconds, peak memory: 59.463 GB
Split the graph: 0.866 seconds
Construct subgraphs: 0.142 seconds
REG metis partition end ----................................
REG construction  time spent:  3.545060157775879
pure dgl.metis_partition the time spent:  9.29259991645813

block_gen_time in "generate_blocks_for_one_layer_block"  0.6787731647491455


block_gen_time in "generate_blocks_for_one_layer_block"  1.9724328517913818

connection checking time:  2.918445110321045
block generation total time  2.6512060165405273
generate_dataloader_block spend   18.912866353988647
pure train time  8.183706521987915
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.505859375 GB
    Memory Allocated: 0.2233266830444336  GigaBytes
Max Memory Allocated: 12.055888175964355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6169774532318115
epoch time :  33.92554497718811
Epoch 10, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.189 seconds, peak memory: 59.951 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.951 GB
Metis partitioning: 6.918 seconds, peak memory: 59.951 GB
Split the graph: 0.935 seconds
Construct subgraphs: 0.159 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6038455963134766
pure dgl.metis_partition the time spent:  9.203015804290771

block_gen_time in "generate_blocks_for_one_layer_block"  0.6707437038421631


block_gen_time in "generate_blocks_for_one_layer_block"  2.037851333618164

connection checking time:  3.126056671142578
block generation total time  2.708595037460327
generate_dataloader_block spend   19.140427350997925
pure train time  8.405603170394897
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.876953125 GB
    Memory Allocated: 0.21268415451049805  GigaBytes
Max Memory Allocated: 12.055888175964355  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6019368171691895
epoch time :  34.34649181365967
Total (block generation + training)time/epoch 34.10680212293352
pure train time/epoch 8.33748992284139

num_input_list  [791516, 794227, 805660, 800783, 799124, 817292, 818205, 805179, 783425, 775981]
