main start at this time 1700526838.7367787
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
self._in_src_feats,  128
self._in_dst_feats 128
Epoch 1, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.235 seconds, peak memory: 27.004 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.004 GB
Metis partitioning: 6.464 seconds, peak memory: 30.254 GB
Split the graph: 1.458 seconds
Construct subgraphs: 0.062 seconds
REG metis partition end ----................................
REG construction  time spent:  3.300393581390381
pure dgl.metis_partition the time spent:  9.22055172920227

block_gen_time in "generate_blocks_for_one_layer_block"  0.3139793872833252


block_gen_time in "generate_blocks_for_one_layer_block"  1.67755126953125

connection checking time:  1.5331287384033203
block generation total time  1.9915306568145752
generate_dataloader_block spend   16.44700789451599
pure train time  5.993892669677734
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.67578125 GB
    Memory Allocated: 0.2175159454345703  GigaBytes
Max Memory Allocated: 16.85305118560791  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.698854923248291
Epoch 2, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.123 seconds, peak memory: 57.341 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.341 GB
Metis partitioning: 6.567 seconds, peak memory: 57.341 GB
Split the graph: 1.421 seconds
Construct subgraphs: 0.100 seconds
REG metis partition end ----................................
REG construction  time spent:  3.1368677616119385
pure dgl.metis_partition the time spent:  9.211906909942627

block_gen_time in "generate_blocks_for_one_layer_block"  0.6424713134765625


block_gen_time in "generate_blocks_for_one_layer_block"  1.668367862701416

connection checking time:  1.9000523090362549
block generation total time  2.3108391761779785
generate_dataloader_block spend   16.978999376296997
pure train time  6.070854187011719
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.796875 GB
    Memory Allocated: 0.22594785690307617  GigaBytes
Max Memory Allocated: 17.741605281829834  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6911697387695312
Epoch 3, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.308 seconds, peak memory: 59.370 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.370 GB
Metis partitioning: 6.833 seconds, peak memory: 59.370 GB
Split the graph: 1.045 seconds
Construct subgraphs: 0.009 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5869932174682617
pure dgl.metis_partition the time spent:  9.197588443756104

block_gen_time in "generate_blocks_for_one_layer_block"  0.6588349342346191


block_gen_time in "generate_blocks_for_one_layer_block"  1.7361063957214355

connection checking time:  2.7670657634735107
block generation total time  2.3949413299560547
generate_dataloader_block spend   18.515329599380493
pure train time  4.974732875823975
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.03515625 GB
    Memory Allocated: 0.2053370475769043  GigaBytes
Max Memory Allocated: 17.741605281829834  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6841979026794434
Epoch 4, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.231 seconds, peak memory: 59.370 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.370 GB
Metis partitioning: 6.769 seconds, peak memory: 59.370 GB
Split the graph: 1.397 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6292097568511963
pure dgl.metis_partition the time spent:  9.415225744247437

block_gen_time in "generate_blocks_for_one_layer_block"  0.65767502784729


block_gen_time in "generate_blocks_for_one_layer_block"  1.8042705059051514

connection checking time:  2.518064498901367
block generation total time  2.4619455337524414
generate_dataloader_block spend   18.492907762527466
pure train time  6.09675145149231
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.34765625 GB
    Memory Allocated: 0.22496891021728516  GigaBytes
Max Memory Allocated: 17.914587020874023  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.676815986633301
Epoch 5, Learning Rate: 0.001
REG start----................................
Convert a graph into a bidirected graph: 1.278 seconds, peak memory: 62.338 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.338 GB
Metis partitioning: 7.198 seconds, peak memory: 62.338 GB
Split the graph: 1.376 seconds
Construct subgraphs: 0.026 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6423869132995605
pure dgl.metis_partition the time spent:  9.880393743515015

block_gen_time in "generate_blocks_for_one_layer_block"  0.3280375003814697


block_gen_time in "generate_blocks_for_one_layer_block"  0.8707499504089355

connection checking time:  1.3892314434051514
block generation total time  1.1987874507904053
generate_dataloader_block spend   16.57060217857361
pure train time  5.026652097702026
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.583984375 GB
    Memory Allocated: 0.2053217887878418  GigaBytes
Max Memory Allocated: 18.216989040374756  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6686184406280518
Total (block generation + training)time/epoch 28.677843141555787
pure train time/epoch 5.026652097702026

num_input_list  [583293, 565353, 589715, 585286, 588752]
