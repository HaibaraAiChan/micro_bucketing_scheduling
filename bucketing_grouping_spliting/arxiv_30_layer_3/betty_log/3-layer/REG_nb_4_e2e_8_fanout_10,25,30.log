main start at this time 1691273079.9771445
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.421 seconds, peak memory: 27.806 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.806 GB
Metis partitioning: 6.038 seconds, peak memory: 28.666 GB
Split the graph: 4.599 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9825916290283203
pure dgl.metis_partition the time spent:  12.09647512435913
check_connections_block*********************************

the find indices time spent  0.056958913803100586

in edges time spent  0.16800332069396973
local to global src and eids time spent  0.26720404624938965
time gen tails  0.041677236557006836
res  length 4
check_connections_block*********************************

the find indices time spent  0.06278824806213379

in edges time spent  0.4515690803527832
local to global src and eids time spent  0.6430389881134033
time gen tails  0.07596206665039062
res  length 4
check_connections_block*********************************

the find indices time spent  0.07352423667907715

in edges time spent  0.507246732711792
local to global src and eids time spent  0.7437636852264404
time gen tails  0.11553001403808594
res  length 4
connection checking time:  3.6520164012908936
block generation total time  1.8870666027069092
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.8359375 GB
    Memory Allocated: 2.96132230758667  GigaBytes
Max Memory Allocated: 2.964913845062256  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.8359375 GB
    Memory Allocated: 2.9647436141967773  GigaBytes
Max Memory Allocated: 2.964913845062256  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 6.79296875 GB
    Memory Allocated: 3.821707248687744  GigaBytes
Max Memory Allocated: 3.907893180847168  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 6.79296875 GB
    Memory Allocated: 3.825162887573242  GigaBytes
Max Memory Allocated: 3.907893180847168  GigaBytes

step  2
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 10.041015625 GB
    Memory Allocated: 5.958747386932373  GigaBytes
Max Memory Allocated: 6.184684753417969  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 10.041015625 GB
    Memory Allocated: 5.962800979614258  GigaBytes
Max Memory Allocated: 6.184684753417969  GigaBytes

step  3
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 12.615234375 GB
    Memory Allocated: 6.20121955871582  GigaBytes
Max Memory Allocated: 6.2109503746032715  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 12.615234375 GB
    Memory Allocated: 6.205273151397705  GigaBytes
Max Memory Allocated: 6.2109503746032715  GigaBytes

pure train time  1.8385460376739502
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.6171875 GB
    Memory Allocated: 0.15070199966430664  GigaBytes
Max Memory Allocated: 6.2119526863098145  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.9984254837036133
REG start----................................
Convert a graph into a bidirected graph: 1.361 seconds, peak memory: 52.600 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.600 GB
Metis partitioning: 5.890 seconds, peak memory: 53.418 GB
Split the graph: 4.368 seconds
Construct subgraphs: 0.035 seconds
REG metis partition end ----................................
REG construction  time spent:  3.924557685852051
pure dgl.metis_partition the time spent:  11.671305179595947
check_connections_block*********************************

the find indices time spent  0.061716556549072266

in edges time spent  0.16192936897277832
local to global src and eids time spent  0.2756767272949219
time gen tails  0.04506492614746094
res  length 4
check_connections_block*********************************

the find indices time spent  0.07479548454284668

in edges time spent  0.4431629180908203
local to global src and eids time spent  0.6493113040924072
time gen tails  0.08195376396179199
res  length 4
check_connections_block*********************************

the find indices time spent  0.09334206581115723

in edges time spent  0.48247241973876953
local to global src and eids time spent  0.794640064239502
time gen tails  0.13045930862426758
res  length 4
connection checking time:  3.7798235416412354
block generation total time  2.039635181427002
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 12.6171875 GB
    Memory Allocated: 3.884807586669922  GigaBytes
Max Memory Allocated: 6.2119526863098145  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 12.6171875 GB
    Memory Allocated: 3.888253688812256  GigaBytes
Max Memory Allocated: 6.2119526863098145  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 12.6171875 GB
    Memory Allocated: 3.057541847229004  GigaBytes
Max Memory Allocated: 6.2119526863098145  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 12.6171875 GB
    Memory Allocated: 3.061013698577881  GigaBytes
Max Memory Allocated: 6.2119526863098145  GigaBytes

step  2
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 12.982421875 GB
    Memory Allocated: 6.155727863311768  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 12.982421875 GB
    Memory Allocated: 6.159712314605713  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

step  3
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.23046875 GB
    Memory Allocated: 6.224586009979248  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.23046875 GB
    Memory Allocated: 6.227941989898682  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

pure train time  1.4210240840911865
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.232421875 GB
    Memory Allocated: 0.15270614624023438  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.8512942790985107
REG start----................................
Convert a graph into a bidirected graph: 1.400 seconds, peak memory: 64.366 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.366 GB
Metis partitioning: 5.922 seconds, peak memory: 65.210 GB
Split the graph: 5.085 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  4.280144453048706
pure dgl.metis_partition the time spent:  12.446576118469238
check_connections_block*********************************

the find indices time spent  0.0632166862487793

in edges time spent  0.1659085750579834
local to global src and eids time spent  0.26941585540771484
time gen tails  0.04531145095825195
res  length 4
check_connections_block*********************************

the find indices time spent  0.07939434051513672

in edges time spent  0.46803855895996094
local to global src and eids time spent  0.6759696006774902
time gen tails  0.09106135368347168
res  length 4
check_connections_block*********************************

the find indices time spent  0.09909439086914062

in edges time spent  0.501368522644043
local to global src and eids time spent  0.7451484203338623
time gen tails  0.11958622932434082
res  length 4
connection checking time:  3.8130245208740234
block generation total time  2.0329551696777344
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.232421875 GB
    Memory Allocated: 2.9031167030334473  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.232421875 GB
    Memory Allocated: 2.9065752029418945  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.232421875 GB
    Memory Allocated: 3.8529844284057617  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.232421875 GB
    Memory Allocated: 3.8566622734069824  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

step  2
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.232421875 GB
    Memory Allocated: 6.076447010040283  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.232421875 GB
    Memory Allocated: 6.0804033279418945  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

step  3
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 6.272100925445557  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 6.2759294509887695  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

pure train time  1.4545726776123047
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 0.1505117416381836  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7683026790618896
loading full batch data spends  0.12238097190856934
REG start----................................
Convert a graph into a bidirected graph: 1.417 seconds, peak memory: 66.079 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.079 GB
Metis partitioning: 6.124 seconds, peak memory: 66.079 GB
Split the graph: 4.697 seconds
Construct subgraphs: 0.025 seconds
REG metis partition end ----................................
REG construction  time spent:  3.905441999435425
pure dgl.metis_partition the time spent:  12.279953002929688
check_connections_block*********************************

the find indices time spent  0.06229543685913086

in edges time spent  0.16712284088134766
local to global src and eids time spent  0.2695755958557129
time gen tails  0.045206308364868164
res  length 4
check_connections_block*********************************

the find indices time spent  0.07756185531616211

in edges time spent  0.47560858726501465
local to global src and eids time spent  0.6603987216949463
time gen tails  0.0831291675567627
res  length 4
check_connections_block*********************************

the find indices time spent  0.09516668319702148

in edges time spent  0.4953007698059082
local to global src and eids time spent  0.7686693668365479
time gen tails  0.12257933616638184
res  length 4
connection checking time:  3.796170949935913
block generation total time  1.9994299411773682
generate_dataloader_block spend   22.782053232192993
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 3.8392229080200195  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 3.8430519104003906  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 2.960935592651367  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 2.9648818969726562  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

step  2
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 6.205230236053467  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 6.209263324737549  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

step  3
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 6.07515811920166  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 6.078549385070801  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

pure train time  1.3694639205932617
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 0.15868759155273438  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.737858772277832
loading full batch data spends  0.12703442573547363
REG start----................................
Convert a graph into a bidirected graph: 1.450 seconds, peak memory: 66.220 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.220 GB
Metis partitioning: 6.170 seconds, peak memory: 66.220 GB
Split the graph: 4.658 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  4.092542409896851
pure dgl.metis_partition the time spent:  12.317136764526367
check_connections_block*********************************

the find indices time spent  0.060507774353027344

in edges time spent  0.16582179069519043
local to global src and eids time spent  0.2669026851654053
time gen tails  0.045411109924316406
res  length 4
check_connections_block*********************************

the find indices time spent  0.07304644584655762

in edges time spent  0.47016239166259766
local to global src and eids time spent  0.6775646209716797
time gen tails  0.0889585018157959
res  length 4
check_connections_block*********************************

the find indices time spent  0.09566998481750488

in edges time spent  0.5147531032562256
local to global src and eids time spent  0.766016960144043
time gen tails  0.12289738655090332
res  length 4
connection checking time:  3.7910006046295166
block generation total time  2.011596918106079
generate_dataloader_block spend   23.022183895111084
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 2.9358644485473633  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 2.939403533935547  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 3.748331069946289  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 3.7525792121887207  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

step  2
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 6.257596492767334  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 6.261425495147705  GigaBytes
Max Memory Allocated: 6.392911911010742  GigaBytes

step  3
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 6.156255722045898  GigaBytes
Max Memory Allocated: 6.404372215270996  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 6.159887790679932  GigaBytes
Max Memory Allocated: 6.404372215270996  GigaBytes

pure train time  1.3826942443847656
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.240234375 GB
    Memory Allocated: 0.1594548225402832  GigaBytes
Max Memory Allocated: 6.404372215270996  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.723266363143921
Total (block generation + training)time/epoch 24.64718794822693
pure train time/epoch 1.3826942443847656

num_input_list  [472145, 479676, 473896, 473955, 474250]
