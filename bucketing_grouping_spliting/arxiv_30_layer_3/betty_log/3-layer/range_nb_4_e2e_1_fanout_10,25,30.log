main start at this time 1691274175.487382
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
check_connections_block*********************************

the find indices time spent  0.0541534423828125

in edges time spent  0.15872764587402344
local to global src and eids time spent  0.30556702613830566
time gen tails  0.06899547576904297
res  length 4
check_connections_block*********************************

the find indices time spent  0.09032964706420898

in edges time spent  0.8925909996032715
local to global src and eids time spent  1.364405870437622
time gen tails  0.13731741905212402
res  length 4
check_connections_block*********************************

the find indices time spent  0.11482119560241699

in edges time spent  0.824732780456543
local to global src and eids time spent  1.2745206356048584
time gen tails  0.15552115440368652
res  length 4
connection checking time:  5.492497682571411
block generation total time  3.0053799152374268
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 10.1953125 GB
    Memory Allocated: 7.745999813079834  GigaBytes
Max Memory Allocated: 8.376745700836182  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 10.1953125 GB
    Memory Allocated: 7.749849796295166  GigaBytes
Max Memory Allocated: 8.376745700836182  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 10.5078125 GB
    Memory Allocated: 7.747280597686768  GigaBytes
Max Memory Allocated: 8.38245153427124  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 10.5078125 GB
    Memory Allocated: 7.750799179077148  GigaBytes
Max Memory Allocated: 8.38245153427124  GigaBytes

step  2
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 10.994140625 GB
    Memory Allocated: 7.791604518890381  GigaBytes
Max Memory Allocated: 8.426503658294678  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 10.994140625 GB
    Memory Allocated: 7.7956366539001465  GigaBytes
Max Memory Allocated: 8.426503658294678  GigaBytes

step  3
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.819921016693115  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.823906421661377  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

pure train time  1.9036839008331299
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.0 GB
    Memory Allocated: 0.22441816329956055  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.197265625
check_connections_block*********************************

the find indices time spent  0.06154608726501465

in edges time spent  0.1744534969329834
local to global src and eids time spent  0.31690382957458496
time gen tails  0.07244157791137695
res  length 4
check_connections_block*********************************

the find indices time spent  0.09315705299377441

in edges time spent  0.8933167457580566
local to global src and eids time spent  1.3691868782043457
time gen tails  0.14356589317321777
res  length 4
check_connections_block*********************************

the find indices time spent  0.11513566970825195

in edges time spent  0.8123900890350342
local to global src and eids time spent  1.2650730609893799
time gen tails  0.15986990928649902
res  length 4
connection checking time:  5.483557462692261
block generation total time  2.9756126403808594
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.731268405914307  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.735259056091309  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.765622138977051  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.769150733947754  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

step  2
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.790404319763184  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.793933868408203  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

step  3
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.814040660858154  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.817429065704346  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

pure train time  1.4530980587005615
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.0 GB
    Memory Allocated: 0.2250514030456543  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.9734954833984375
check_connections_block*********************************

the find indices time spent  0.03943467140197754

in edges time spent  0.09361433982849121
local to global src and eids time spent  0.12668943405151367
time gen tails  0.04101204872131348
res  length 4
check_connections_block*********************************

the find indices time spent  0.06330752372741699

in edges time spent  0.4624135494232178
local to global src and eids time spent  0.5701858997344971
time gen tails  0.09142017364501953
res  length 4
check_connections_block*********************************

the find indices time spent  0.07661676406860352

in edges time spent  0.44351959228515625
local to global src and eids time spent  0.5291121006011963
time gen tails  0.098846435546875
res  length 4
connection checking time:  2.61191725730896
block generation total time  2.1097960472106934
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.737126350402832  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.740629196166992  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.7641777992248535  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.768177509307861  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

step  2
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.793421268463135  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.796975612640381  GigaBytes
Max Memory Allocated: 8.456998825073242  GigaBytes

step  3
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.822016716003418  GigaBytes
Max Memory Allocated: 8.458201885223389  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.825536727905273  GigaBytes
Max Memory Allocated: 8.458201885223389  GigaBytes

pure train time  1.280226707458496
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.0 GB
    Memory Allocated: 0.22751331329345703  GigaBytes
Max Memory Allocated: 8.458201885223389  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.845982074737549
loading full batch data spends  0.1203012466430664
check_connections_block*********************************

the find indices time spent  0.039823055267333984

in edges time spent  0.09763932228088379
local to global src and eids time spent  0.18310022354125977
time gen tails  0.05231642723083496
res  length 4
check_connections_block*********************************

the find indices time spent  0.09381771087646484

in edges time spent  0.8749170303344727
local to global src and eids time spent  1.3597643375396729
time gen tails  0.14397597312927246
res  length 4
check_connections_block*********************************

the find indices time spent  0.12151694297790527

in edges time spent  0.771977424621582
local to global src and eids time spent  1.229766845703125
time gen tails  0.15915465354919434
res  length 4
connection checking time:  5.3851258754730225
block generation total time  2.932015895843506
generate_dataloader_block spend   9.298147916793823
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.727405548095703  GigaBytes
Max Memory Allocated: 8.458201885223389  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.730929374694824  GigaBytes
Max Memory Allocated: 8.458201885223389  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.7647504806518555  GigaBytes
Max Memory Allocated: 8.458201885223389  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.768746852874756  GigaBytes
Max Memory Allocated: 8.458201885223389  GigaBytes

step  2
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.788616180419922  GigaBytes
Max Memory Allocated: 8.458201885223389  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.792137622833252  GigaBytes
Max Memory Allocated: 8.458201885223389  GigaBytes

step  3
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.830104351043701  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.834107875823975  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

pure train time  1.4775919914245605
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.0 GB
    Memory Allocated: 0.2254323959350586  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.8047454357147217
loading full batch data spends  0.0854794979095459
check_connections_block*********************************

the find indices time spent  0.05765080451965332

in edges time spent  0.15871381759643555
local to global src and eids time spent  0.3057570457458496
time gen tails  0.0732882022857666
res  length 4
check_connections_block*********************************

the find indices time spent  0.09768438339233398

in edges time spent  0.8740732669830322
local to global src and eids time spent  1.3498973846435547
time gen tails  0.1448071002960205
res  length 4
check_connections_block*********************************

the find indices time spent  0.12079668045043945

in edges time spent  0.7914531230926514
local to global src and eids time spent  1.2263879776000977
time gen tails  0.15946698188781738
res  length 4
connection checking time:  5.398192405700684
block generation total time  2.914010763168335
generate_dataloader_block spend   9.542418479919434
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.72707462310791  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.731074333190918  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.759597301483154  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.763587474822998  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

step  2
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.789222717285156  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.793218612670898  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

step  3
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.825829029083252  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 11.0 GB
    Memory Allocated: 7.829342365264893  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

pure train time  1.4691526889801025
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.0 GB
    Memory Allocated: 0.22530269622802734  GigaBytes
Max Memory Allocated: 8.466468334197998  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.790841579437256
Total (block generation + training)time/epoch 11.304224133491516
pure train time/epoch 1.4691526889801025

num_input_list  [648584, 648421, 648639, 648689, 648600]
