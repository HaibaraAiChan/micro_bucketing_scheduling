main start at this time 1693471898.8095005
#nodes: 2449029
#edges: 123718024
#classes: 47
success----------------------------------------
196571
39255
2164782
# Nodes: 2400608
# Edges: 123718024
# Train: 196571
# Val: 39255
# Test: 2164782
# Classes: 47

in feats:  100
Convert a graph into a bidirected graph: 1.410 seconds, peak memory: 30.405 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.405 GB
Metis partitioning: 2.533 seconds, peak memory: 30.405 GB
Split the graph: 0.211 seconds
Construct subgraphs: 0.043 seconds
9826
9637
9993
9681
10009
9748
10098
9853
9633
10050
9638
9639
9779
9551
9928
9673
10083
9627
10051
10074
metis partition time  4.2257914543151855
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  3.1176130771636963


block_gen_time in "generate_blocks_for_one_layer_block"  43.388519525527954

connection checking time:  58.75422143936157
block generation total time  46.50613260269165
pure train time  5.825731515884399
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.427734375 GB
    Memory Allocated: 0.4802417755126953  GigaBytes
Max Memory Allocated: 14.254653930664062  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 5.2006635665893555
Convert a graph into a bidirected graph: 0.520 seconds, peak memory: 66.797 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.797 GB
Metis partitioning: 2.709 seconds, peak memory: 66.797 GB
Split the graph: 0.203 seconds
Construct subgraphs: 0.080 seconds
9826
9637
9993
9681
10009
9748
10098
9853
9633
10050
9638
9639
9779
9551
9928
9673
10083
9627
10051
10074
metis partition time  3.5384633541107178
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.125410556793213


block_gen_time in "generate_blocks_for_one_layer_block"  41.83808398246765

connection checking time:  61.547351360321045
block generation total time  47.963494539260864
pure train time  4.94546103477478
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.435546875 GB
    Memory Allocated: 0.4799652099609375  GigaBytes
Max Memory Allocated: 14.254653930664062  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.8922271728515625
Convert a graph into a bidirected graph: 0.511 seconds, peak memory: 80.014 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 80.014 GB
Metis partitioning: 2.716 seconds, peak memory: 80.014 GB
Split the graph: 0.185 seconds
Construct subgraphs: 0.037 seconds
9615
9566
9688
9957
10020
9910
10093
9584
9581
9806
9998
9588
9999
9608
10027
9613
9865
10030
9948
10075
metis partition time  3.4691014289855957
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.517160892486572


block_gen_time in "generate_blocks_for_one_layer_block"  42.91466975212097

connection checking time:  61.85379409790039
block generation total time  48.431830644607544
pure train time  4.662530899047852
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.435546875 GB
    Memory Allocated: 0.47923803329467773  GigaBytes
Max Memory Allocated: 14.254653930664062  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.589768886566162
loading full batch data spends  0.8176205158233643
Convert a graph into a bidirected graph: 0.417 seconds, peak memory: 80.014 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 80.014 GB
Metis partitioning: 2.685 seconds, peak memory: 80.014 GB
Split the graph: 0.257 seconds
Construct subgraphs: 0.061 seconds
9615
9566
9688
9957
10020
9910
10093
9584
9581
9806
9998
9588
9999
9608
10027
9613
9865
10030
9948
10075
metis partition time  3.4334022998809814
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.319371700286865


block_gen_time in "generate_blocks_for_one_layer_block"  42.68222212791443

connection checking time:  60.44734477996826
block generation total time  48.001593828201294
generate_dataloader_block spend   115.28730368614197
pure train time  4.805729627609253
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.435546875 GB
    Memory Allocated: 0.4798860549926758  GigaBytes
Max Memory Allocated: 14.254653930664062  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.3163743019104
loading full batch data spends  0.7555704116821289
Convert a graph into a bidirected graph: 0.440 seconds, peak memory: 80.198 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 80.198 GB
Metis partitioning: 2.675 seconds, peak memory: 80.198 GB
Split the graph: 0.292 seconds
Construct subgraphs: 0.070 seconds
9615
9566
9688
9957
10020
9910
10093
9584
9581
9806
9998
9588
9999
9608
10027
9613
9865
10030
9948
10075
metis partition time  3.4984703063964844
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.08729100227356


block_gen_time in "generate_blocks_for_one_layer_block"  42.47387647628784

connection checking time:  60.26888394355774
block generation total time  47.5611674785614
generate_dataloader_block spend   114.84723091125488
pure train time  4.743494749069214
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.435546875 GB
    Memory Allocated: 0.4801506996154785  GigaBytes
Max Memory Allocated: 14.281911849975586  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.037508487701416
loading full batch data spends  0.7985467910766602
Convert a graph into a bidirected graph: 0.430 seconds, peak memory: 80.538 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 80.538 GB
Metis partitioning: 2.631 seconds, peak memory: 80.538 GB
Split the graph: 0.318 seconds
Construct subgraphs: 0.061 seconds
9615
9566
9688
9957
10020
9910
10093
9584
9581
9806
9998
9588
9999
9608
10027
9613
9865
10030
9948
10075
metis partition time  3.4530556201934814
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.36834454536438


block_gen_time in "generate_blocks_for_one_layer_block"  42.63477802276611

connection checking time:  61.431549072265625
block generation total time  48.00312256813049
generate_dataloader_block spend   116.09014129638672
pure train time  4.88848876953125
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.921875 GB
    Memory Allocated: 0.4792971611022949  GigaBytes
Max Memory Allocated: 14.281911849975586  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.804157257080078
loading full batch data spends  0.7367749214172363
Convert a graph into a bidirected graph: 0.470 seconds, peak memory: 80.621 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 80.621 GB
Metis partitioning: 2.800 seconds, peak memory: 80.621 GB
Split the graph: 0.302 seconds
Construct subgraphs: 0.062 seconds
9826
9637
9993
9681
10009
9748
10098
9853
9633
10050
9638
9639
9779
9551
9928
9673
10083
9627
10051
10074
metis partition time  3.6481645107269287
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.340112686157227


block_gen_time in "generate_blocks_for_one_layer_block"  42.423856019973755

connection checking time:  61.51582932472229
block generation total time  47.76396870613098
generate_dataloader_block spend   116.29900598526001
pure train time  4.191148519515991
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.419921875 GB
    Memory Allocated: 0.4788703918457031  GigaBytes
Max Memory Allocated: 14.308023929595947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.617464303970337
loading full batch data spends  0.820488691329956
Convert a graph into a bidirected graph: 0.481 seconds, peak memory: 80.621 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 80.621 GB
Metis partitioning: 2.838 seconds, peak memory: 80.621 GB
Split the graph: 0.256 seconds
Construct subgraphs: 0.054 seconds
9579
9591
9585
9545
10007
9630
10044
9855
10094
9651
10074
9770
9718
10083
9575
10071
10086
9599
9979
10035
metis partition time  3.643177032470703
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.571866989135742


block_gen_time in "generate_blocks_for_one_layer_block"  42.95216202735901

connection checking time:  61.2647659778595
block generation total time  48.52402901649475
generate_dataloader_block spend   116.83880829811096
pure train time  4.798642158508301
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.419921875 GB
    Memory Allocated: 0.47758913040161133  GigaBytes
Max Memory Allocated: 14.308023929595947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.4845921993255615
loading full batch data spends  0.772486686706543
Convert a graph into a bidirected graph: 0.478 seconds, peak memory: 80.621 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 80.621 GB
Metis partitioning: 2.874 seconds, peak memory: 80.621 GB
Split the graph: 0.269 seconds
Construct subgraphs: 0.090 seconds
9615
9566
9688
9957
10020
9910
10093
9584
9581
9806
9998
9588
9999
9608
10027
9613
9865
10030
9948
10075
metis partition time  3.738375186920166
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.359416246414185


block_gen_time in "generate_blocks_for_one_layer_block"  42.24627995491028

connection checking time:  61.632781744003296
block generation total time  48.60569620132446
generate_dataloader_block spend   117.81940841674805
pure train time  4.7892937660217285
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.419921875 GB
    Memory Allocated: 0.4799938201904297  GigaBytes
Max Memory Allocated: 14.308023929595947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.3747379779815674
loading full batch data spends  0.7824549674987793
Convert a graph into a bidirected graph: 0.421 seconds, peak memory: 80.621 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 80.621 GB
Metis partitioning: 2.873 seconds, peak memory: 80.621 GB
Split the graph: 0.279 seconds
Construct subgraphs: 0.107 seconds
9615
9566
9688
9957
10020
9910
10093
9584
9581
9806
9998
9588
9999
9608
10027
9613
9865
10030
9948
10075
metis partition time  3.7025978565216064
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.56007719039917


block_gen_time in "generate_blocks_for_one_layer_block"  43.10184407234192

connection checking time:  60.79086136817932
block generation total time  48.66192126274109
generate_dataloader_block spend   116.68902277946472
pure train time  4.656029224395752
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.419921875 GB
    Memory Allocated: 0.47809600830078125  GigaBytes
Max Memory Allocated: 14.308023929595947  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2424323558807373
Total (block generation + training)time/epoch 125.37216854095459
pure train time/epoch 4.677849531173706

num_input_list  [16981375, 16981525, 16983851, 16986126, 16990213, 16987950, 16987430, 16983627, 16980165, 16988994]
