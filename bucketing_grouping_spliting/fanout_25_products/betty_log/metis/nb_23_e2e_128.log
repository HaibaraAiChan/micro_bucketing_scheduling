main start at this time 1693475811.8886063
#nodes: 2449029
#edges: 123718024
#classes: 47
success----------------------------------------
196571
39255
2164782
# Nodes: 2400608
# Edges: 123718024
# Train: 196571
# Val: 39255
# Test: 2164782
# Classes: 47

in feats:  100
Convert a graph into a bidirected graph: 1.475 seconds, peak memory: 30.379 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.379 GB
Metis partitioning: 2.838 seconds, peak memory: 30.379 GB
Split the graph: 0.173 seconds
Construct subgraphs: 0.086 seconds
8790
8425
8314
8420
8779
8750
8334
8662
8802
8803
8338
8799
8314
8395
8683
8298
8544
8519
8298
8674
8795
8533
8302
metis partition time  4.599504232406616
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.619262456893921


block_gen_time in "generate_blocks_for_one_layer_block"  47.27898669242859

connection checking time:  67.33767342567444
block generation total time  53.89824914932251
pure train time  6.366992235183716
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.0859375 GB
    Memory Allocated: 0.44465017318725586  GigaBytes
Max Memory Allocated: 12.716711521148682  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 5.214107513427734
Convert a graph into a bidirected graph: 0.540 seconds, peak memory: 56.765 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.765 GB
Metis partitioning: 2.795 seconds, peak memory: 56.835 GB
Split the graph: 0.256 seconds
Construct subgraphs: 0.084 seconds
8767
8790
8798
8473
8308
8785
8325
8371
8402
8604
8361
8765
8772
8772
8333
8333
8742
8382
8722
8802
8348
8305
8311
metis partition time  3.696147918701172
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.78273868560791


block_gen_time in "generate_blocks_for_one_layer_block"  46.97910022735596

connection checking time:  62.25068378448486
block generation total time  53.76183891296387
pure train time  6.1121416091918945
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.0859375 GB
    Memory Allocated: 0.44943904876708984  GigaBytes
Max Memory Allocated: 12.716711521148682  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.896825790405273
Convert a graph into a bidirected graph: 0.447 seconds, peak memory: 60.373 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.373 GB
Metis partitioning: 2.951 seconds, peak memory: 60.406 GB
Split the graph: 0.317 seconds
Construct subgraphs: 0.121 seconds
8767
8790
8798
8473
8308
8785
8325
8371
8402
8604
8361
8765
8772
8772
8333
8333
8742
8382
8722
8802
8348
8305
8311
metis partition time  3.8665225505828857
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.0190958976745605


block_gen_time in "generate_blocks_for_one_layer_block"  47.27285408973694

connection checking time:  64.93973755836487
block generation total time  53.2919499874115
pure train time  6.039085626602173
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.08984375 GB
    Memory Allocated: 0.4461498260498047  GigaBytes
Max Memory Allocated: 12.723679065704346  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.590373992919922
loading full batch data spends  0.9076721668243408
Convert a graph into a bidirected graph: 0.435 seconds, peak memory: 62.319 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.319 GB
Metis partitioning: 2.922 seconds, peak memory: 62.319 GB
Split the graph: 0.313 seconds
Construct subgraphs: 0.089 seconds
8767
8790
8798
8473
8308
8785
8325
8371
8402
8604
8361
8765
8772
8772
8333
8333
8742
8382
8722
8802
8348
8305
8311
metis partition time  3.7806127071380615
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.723503351211548


block_gen_time in "generate_blocks_for_one_layer_block"  46.17806029319763

connection checking time:  65.51397752761841
block generation total time  51.90156364440918
generate_dataloader_block spend   124.85648775100708
pure train time  5.622494220733643
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.091796875 GB
    Memory Allocated: 0.4487934112548828  GigaBytes
Max Memory Allocated: 12.723679065704346  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.305686950683594
loading full batch data spends  0.8953535556793213
Convert a graph into a bidirected graph: 0.483 seconds, peak memory: 64.682 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.682 GB
Metis partitioning: 3.151 seconds, peak memory: 64.881 GB
Split the graph: 0.299 seconds
Construct subgraphs: 0.081 seconds
8790
8425
8314
8420
8779
8750
8334
8662
8802
8803
8338
8799
8314
8395
8683
8298
8544
8519
8298
8674
8795
8533
8302
metis partition time  4.037343978881836
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.356445550918579


block_gen_time in "generate_blocks_for_one_layer_block"  46.179460763931274

connection checking time:  65.99632287025452
block generation total time  51.53590631484985
generate_dataloader_block spend   124.99531531333923
pure train time  5.988961458206177
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.091796875 GB
    Memory Allocated: 0.4472317695617676  GigaBytes
Max Memory Allocated: 12.723679065704346  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.0464653968811035
loading full batch data spends  0.8649885654449463
Convert a graph into a bidirected graph: 0.472 seconds, peak memory: 66.659 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.659 GB
Metis partitioning: 3.099 seconds, peak memory: 66.794 GB
Split the graph: 0.298 seconds
Construct subgraphs: 0.082 seconds
8790
8425
8314
8420
8779
8750
8334
8662
8802
8803
8338
8799
8314
8395
8683
8298
8544
8519
8298
8674
8795
8533
8302
metis partition time  3.9723401069641113
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.402935266494751


block_gen_time in "generate_blocks_for_one_layer_block"  45.77018594741821

connection checking time:  65.39467120170593
block generation total time  51.173121213912964
generate_dataloader_block spend   124.0726146697998
pure train time  6.198707103729248
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.0703125 GB
    Memory Allocated: 0.44875526428222656  GigaBytes
Max Memory Allocated: 12.723679065704346  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.8032100200653076
loading full batch data spends  0.7925794124603271
Convert a graph into a bidirected graph: 0.498 seconds, peak memory: 68.710 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 68.710 GB
Metis partitioning: 3.135 seconds, peak memory: 68.710 GB
Split the graph: 0.287 seconds
Construct subgraphs: 0.092 seconds
8790
8425
8314
8420
8779
8750
8334
8662
8802
8803
8338
8799
8314
8395
8683
8298
8544
8519
8298
8674
8795
8533
8302
metis partition time  4.033576250076294
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.936666488647461


block_gen_time in "generate_blocks_for_one_layer_block"  45.436240434646606

connection checking time:  65.55399513244629
block generation total time  51.37290692329407
generate_dataloader_block spend   124.35081195831299
pure train time  5.817317485809326
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.072265625 GB
    Memory Allocated: 0.44918298721313477  GigaBytes
Max Memory Allocated: 12.778595447540283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.623929977416992
loading full batch data spends  0.8345918655395508
Convert a graph into a bidirected graph: 0.409 seconds, peak memory: 68.710 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 68.710 GB
Metis partitioning: 3.009 seconds, peak memory: 68.710 GB
Split the graph: 0.297 seconds
Construct subgraphs: 0.095 seconds
8767
8790
8798
8473
8308
8785
8325
8371
8402
8604
8361
8765
8772
8772
8333
8333
8742
8382
8722
8802
8348
8305
8311
metis partition time  3.8319804668426514
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.56009316444397


block_gen_time in "generate_blocks_for_one_layer_block"  46.69437098503113

connection checking time:  66.28074026107788
block generation total time  52.2544641494751
generate_dataloader_block spend   126.03948903083801
pure train time  5.743573904037476
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.072265625 GB
    Memory Allocated: 0.4479861259460449  GigaBytes
Max Memory Allocated: 12.778595447540283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.483128547668457
loading full batch data spends  0.8082427978515625
Convert a graph into a bidirected graph: 0.417 seconds, peak memory: 68.710 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 68.710 GB
Metis partitioning: 2.973 seconds, peak memory: 68.710 GB
Split the graph: 0.372 seconds
Construct subgraphs: 0.060 seconds
8767
8790
8798
8473
8308
8785
8325
8371
8402
8604
8361
8765
8772
8772
8333
8333
8742
8382
8722
8802
8348
8305
8311
metis partition time  3.8349881172180176
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.9798455238342285


block_gen_time in "generate_blocks_for_one_layer_block"  45.86589169502258

connection checking time:  65.36934876441956
block generation total time  51.84573721885681
generate_dataloader_block spend   124.39482259750366
pure train time  5.6842756271362305
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.072265625 GB
    Memory Allocated: 0.4472966194152832  GigaBytes
Max Memory Allocated: 12.778595447540283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.379582405090332
loading full batch data spends  0.8565504550933838
Convert a graph into a bidirected graph: 0.509 seconds, peak memory: 68.710 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 68.710 GB
Metis partitioning: 3.191 seconds, peak memory: 68.710 GB
Split the graph: 0.235 seconds
Construct subgraphs: 0.073 seconds
8790
8425
8314
8420
8779
8750
8334
8662
8802
8803
8338
8799
8314
8395
8683
8298
8544
8519
8298
8674
8795
8533
8302
metis partition time  4.029902935028076
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.907520771026611


block_gen_time in "generate_blocks_for_one_layer_block"  45.80183029174805

connection checking time:  65.97290015220642
block generation total time  51.70935106277466
generate_dataloader_block spend   125.0956814289093
pure train time  5.811004161834717
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.072265625 GB
    Memory Allocated: 0.44781494140625  GigaBytes
Max Memory Allocated: 12.778595447540283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.245558977127075
Total (block generation + training)time/epoch 135.16348944391524
pure train time/epoch 5.873973290125529

num_input_list  [18269218, 18277058, 18271344, 18273062, 18281972, 18282944, 18279536, 18270877, 18272560, 18284197]
