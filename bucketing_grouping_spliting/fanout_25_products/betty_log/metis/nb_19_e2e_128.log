main start at this time 1693470662.1897807
#nodes: 2449029
#edges: 123718024
#classes: 47
success----------------------------------------
196571
39255
2164782
# Nodes: 2400608
# Edges: 123718024
# Train: 196571
# Val: 39255
# Test: 2164782
# Classes: 47

in feats:  100
Convert a graph into a bidirected graph: 1.544 seconds, peak memory: 30.392 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.392 GB
Metis partitioning: 2.553 seconds, peak memory: 30.392 GB
Split the graph: 0.218 seconds
Construct subgraphs: 0.096 seconds
10631
10311
10606
10570
10397
10306
10473
10095
10267
10099
10128
10439
10081
10461
10096
10080
10595
10333
10603
metis partition time  4.4332499504089355
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.195420742034912


block_gen_time in "generate_blocks_for_one_layer_block"  25.9018235206604

connection checking time:  45.36186742782593
block generation total time  32.09724426269531
pure train time  5.912428379058838
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.337890625 GB
    Memory Allocated: 0.48763561248779297  GigaBytes
Max Memory Allocated: 14.885451316833496  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 5.202838897705078
Convert a graph into a bidirected graph: 0.520 seconds, peak memory: 71.478 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.478 GB
Metis partitioning: 2.720 seconds, peak memory: 71.478 GB
Split the graph: 0.278 seconds
Construct subgraphs: 0.054 seconds
10081
10579
10608
10581
10290
10163
10451
10316
10639
10393
10101
10129
10099
10576
10531
10168
10492
10072
10302
metis partition time  3.6023199558258057
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.813166379928589


block_gen_time in "generate_blocks_for_one_layer_block"  41.60823369026184

connection checking time:  60.29359984397888
block generation total time  47.42140007019043
pure train time  4.824629068374634
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.337890625 GB
    Memory Allocated: 0.48190927505493164  GigaBytes
Max Memory Allocated: 14.885451316833496  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.886804103851318
Convert a graph into a bidirected graph: 0.504 seconds, peak memory: 73.262 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.262 GB
Metis partitioning: 2.702 seconds, peak memory: 73.262 GB
Split the graph: 0.189 seconds
Construct subgraphs: 0.059 seconds
10081
10579
10608
10581
10290
10163
10451
10316
10639
10393
10101
10129
10099
10576
10531
10168
10492
10072
10302
metis partition time  3.4766876697540283
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.497335195541382


block_gen_time in "generate_blocks_for_one_layer_block"  42.27789831161499

connection checking time:  59.963618755340576
block generation total time  47.77523350715637
pure train time  4.472995042800903
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.337890625 GB
    Memory Allocated: 0.4815526008605957  GigaBytes
Max Memory Allocated: 14.885451316833496  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.589810848236084
loading full batch data spends  0.8321256637573242
Convert a graph into a bidirected graph: 0.425 seconds, peak memory: 73.262 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.262 GB
Metis partitioning: 2.697 seconds, peak memory: 73.262 GB
Split the graph: 0.235 seconds
Construct subgraphs: 0.055 seconds
10631
10311
10606
10570
10397
10306
10473
10095
10267
10099
10128
10439
10081
10461
10096
10080
10595
10333
10603
metis partition time  3.423518657684326
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.493213415145874


block_gen_time in "generate_blocks_for_one_layer_block"  41.80072474479675

connection checking time:  57.59531617164612
block generation total time  47.29393815994263
generate_dataloader_block spend   111.55974102020264
pure train time  4.3407604694366455
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.890625 GB
    Memory Allocated: 0.48603200912475586  GigaBytes
Max Memory Allocated: 14.885451316833496  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.30956506729126
loading full batch data spends  0.7853260040283203
Convert a graph into a bidirected graph: 0.528 seconds, peak memory: 74.987 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.987 GB
Metis partitioning: 2.656 seconds, peak memory: 74.987 GB
Split the graph: 0.257 seconds
Construct subgraphs: 0.068 seconds
10619
10572
10598
10556
10355
10181
10572
10151
10271
10179
10079
10105
10331
10473
10503
10151
10226
10526
10123
metis partition time  3.523516893386841
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.023777723312378


block_gen_time in "generate_blocks_for_one_layer_block"  41.42669701576233

connection checking time:  59.96991682052612
block generation total time  46.45047473907471
generate_dataloader_block spend   113.13562178611755
pure train time  4.700288772583008
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.890625 GB
    Memory Allocated: 0.4790630340576172  GigaBytes
Max Memory Allocated: 14.885451316833496  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.037017345428467
loading full batch data spends  0.7615170478820801
Convert a graph into a bidirected graph: 0.419 seconds, peak memory: 75.163 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.163 GB
Metis partitioning: 2.621 seconds, peak memory: 75.163 GB
Split the graph: 0.209 seconds
Construct subgraphs: 0.080 seconds
10081
10579
10608
10581
10290
10163
10451
10316
10639
10393
10101
10129
10099
10576
10531
10168
10492
10072
10302
metis partition time  3.350163221359253
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.538677930831909


block_gen_time in "generate_blocks_for_one_layer_block"  42.49415826797485

connection checking time:  60.03132772445679
block generation total time  48.03283619880676
generate_dataloader_block spend   114.62790656089783
pure train time  4.723885774612427
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.892578125 GB
    Memory Allocated: 0.48150014877319336  GigaBytes
Max Memory Allocated: 14.921216487884521  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.8126442432403564
loading full batch data spends  0.7428779602050781
Convert a graph into a bidirected graph: 0.503 seconds, peak memory: 75.163 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.163 GB
Metis partitioning: 2.778 seconds, peak memory: 75.163 GB
Split the graph: 0.218 seconds
Construct subgraphs: 0.091 seconds
10081
10579
10608
10581
10290
10163
10451
10316
10639
10393
10101
10129
10099
10576
10531
10168
10492
10072
10302
metis partition time  3.60321044921875
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.161430597305298


block_gen_time in "generate_blocks_for_one_layer_block"  41.823012590408325

connection checking time:  60.338536977767944
block generation total time  47.98444318771362
generate_dataloader_block spend   115.66644024848938
pure train time  4.480156183242798
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.681640625 GB
    Memory Allocated: 0.4817204475402832  GigaBytes
Max Memory Allocated: 14.948689937591553  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.61971378326416
loading full batch data spends  0.8129234313964844
Convert a graph into a bidirected graph: 0.452 seconds, peak memory: 75.835 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.835 GB
Metis partitioning: 2.860 seconds, peak memory: 75.835 GB
Split the graph: 0.228 seconds
Construct subgraphs: 0.048 seconds
10081
10579
10608
10581
10290
10163
10451
10316
10639
10393
10101
10129
10099
10576
10531
10168
10492
10072
10302
metis partition time  3.598626136779785
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.507419586181641


block_gen_time in "generate_blocks_for_one_layer_block"  42.049182415008545

connection checking time:  57.568389892578125
block generation total time  47.556602001190186
generate_dataloader_block spend   111.97234845161438
pure train time  4.49742865562439
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.681640625 GB
    Memory Allocated: 0.48207521438598633  GigaBytes
Max Memory Allocated: 14.948689937591553  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.4836206436157227
loading full batch data spends  0.7319674491882324
Convert a graph into a bidirected graph: 0.520 seconds, peak memory: 75.891 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.891 GB
Metis partitioning: 2.648 seconds, peak memory: 75.891 GB
Split the graph: 0.332 seconds
Construct subgraphs: 0.065 seconds
10631
10311
10606
10570
10397
10306
10473
10095
10267
10099
10128
10439
10081
10461
10096
10080
10595
10333
10603
metis partition time  3.5786025524139404
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.115930080413818


block_gen_time in "generate_blocks_for_one_layer_block"  41.58324456214905

connection checking time:  60.57796669006348
block generation total time  47.699174642562866
generate_dataloader_block spend   115.63584065437317
pure train time  4.696829557418823
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.681640625 GB
    Memory Allocated: 0.4866180419921875  GigaBytes
Max Memory Allocated: 14.948689937591553  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.3708791732788086
loading full batch data spends  0.7225034236907959
Convert a graph into a bidirected graph: 0.462 seconds, peak memory: 75.991 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.991 GB
Metis partitioning: 2.848 seconds, peak memory: 75.991 GB
Split the graph: 0.303 seconds
Construct subgraphs: 0.063 seconds
10081
10579
10608
10581
10290
10163
10451
10316
10639
10393
10101
10129
10099
10576
10531
10168
10492
10072
10302
metis partition time  3.694636821746826
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.513461589813232


block_gen_time in "generate_blocks_for_one_layer_block"  42.381210803985596

connection checking time:  60.454779624938965
block generation total time  47.89467239379883
generate_dataloader_block spend   115.60693788528442
pure train time  4.6751086711883545
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.681640625 GB
    Memory Allocated: 0.48073244094848633  GigaBytes
Max Memory Allocated: 14.948689937591553  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.246497392654419
Total (block generation + training)time/epoch 122.93221361296517
pure train time/epoch 4.628949602444966

num_input_list  [16510373, 16515883, 16513422, 16523685, 16526022, 16522297, 16520617, 16521967, 16516193, 16527664]
