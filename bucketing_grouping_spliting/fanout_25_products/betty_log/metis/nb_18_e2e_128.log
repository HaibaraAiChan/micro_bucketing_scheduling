main start at this time 1693469404.7509718
#nodes: 2449029
#edges: 123718024
#classes: 47
success----------------------------------------
196571
39255
2164782
# Nodes: 2400608
# Edges: 123718024
# Train: 196571
# Val: 39255
# Test: 2164782
# Classes: 47

in feats:  100
Convert a graph into a bidirected graph: 1.413 seconds, peak memory: 30.379 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.379 GB
Metis partitioning: 2.507 seconds, peak memory: 30.379 GB
Split the graph: 0.262 seconds
Construct subgraphs: 0.087 seconds
10653
11004
10671
10659
10870
10602
11165
11144
11136
11197
10941
11145
11205
10935
10616
10667
10782
11179
metis partition time  4.308755874633789
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.5812928676605225


block_gen_time in "generate_blocks_for_one_layer_block"  41.99929475784302

connection checking time:  59.454344749450684
block generation total time  47.58058762550354
pure train time  5.895000219345093
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.6640625 GB
    Memory Allocated: 0.510587215423584  GigaBytes
Max Memory Allocated: 15.620614051818848  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 5.206255912780762
Convert a graph into a bidirected graph: 0.523 seconds, peak memory: 77.957 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.957 GB
Metis partitioning: 2.718 seconds, peak memory: 77.957 GB
Split the graph: 0.270 seconds
Construct subgraphs: 0.043 seconds
10630
10641
11239
10602
11167
11195
10632
10828
10940
11141
10779
10677
11092
11125
10830
11173
10641
11239
metis partition time  3.5838546752929688
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.088045120239258


block_gen_time in "generate_blocks_for_one_layer_block"  42.03085231781006

connection checking time:  58.84802198410034
block generation total time  48.118897438049316
pure train time  4.220400094985962
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.771484375 GB
    Memory Allocated: 0.5118961334228516  GigaBytes
Max Memory Allocated: 15.67892074584961  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.8984246253967285
Convert a graph into a bidirected graph: 0.491 seconds, peak memory: 78.458 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 78.458 GB
Metis partitioning: 2.748 seconds, peak memory: 78.458 GB
Split the graph: 0.187 seconds
Construct subgraphs: 0.079 seconds
10630
10641
11239
10602
11167
11195
10632
10828
10940
11141
10779
10677
11092
11125
10830
11173
10641
11239
metis partition time  3.5369832515716553
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.270952224731445


block_gen_time in "generate_blocks_for_one_layer_block"  41.203269243240356

connection checking time:  60.83261799812317
block generation total time  47.4742214679718
pure train time  4.673682451248169
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.771484375 GB
    Memory Allocated: 0.5139474868774414  GigaBytes
Max Memory Allocated: 15.67892074584961  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.598569869995117
loading full batch data spends  0.8049108982086182
Convert a graph into a bidirected graph: 0.408 seconds, peak memory: 78.524 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 78.524 GB
Metis partitioning: 2.763 seconds, peak memory: 78.524 GB
Split the graph: 0.277 seconds
Construct subgraphs: 0.080 seconds
10630
10641
11239
10602
11167
11195
10632
10828
10940
11141
10779
10677
11092
11125
10830
11173
10641
11239
metis partition time  3.5496795177459717
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.567000865936279


block_gen_time in "generate_blocks_for_one_layer_block"  42.246527671813965

connection checking time:  58.498106241226196
block generation total time  47.813528537750244
generate_dataloader_block spend   113.13270401954651
pure train time  4.61699914932251
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.771484375 GB
    Memory Allocated: 0.5093178749084473  GigaBytes
Max Memory Allocated: 15.67892074584961  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.305373668670654
loading full batch data spends  0.8002157211303711
Convert a graph into a bidirected graph: 0.443 seconds, peak memory: 78.689 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 78.689 GB
Metis partitioning: 2.686 seconds, peak memory: 78.689 GB
Split the graph: 0.261 seconds
Construct subgraphs: 0.078 seconds
10653
11004
10671
10659
10870
10602
11165
11144
11136
11197
10941
11145
11205
10935
10616
10667
10782
11179
metis partition time  3.4922873973846436
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.679342746734619


block_gen_time in "generate_blocks_for_one_layer_block"  42.42135310173035

connection checking time:  59.070082664489746
block generation total time  48.100695848464966
generate_dataloader_block spend   114.15890789031982
pure train time  4.590354919433594
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.771484375 GB
    Memory Allocated: 0.5156712532043457  GigaBytes
Max Memory Allocated: 15.67892074584961  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.043081283569336
loading full batch data spends  0.8293907642364502
Convert a graph into a bidirected graph: 0.523 seconds, peak memory: 78.781 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 78.781 GB
Metis partitioning: 2.863 seconds, peak memory: 78.781 GB
Split the graph: 0.262 seconds
Construct subgraphs: 0.051 seconds
10653
11004
10671
10659
10870
10602
11165
11144
11136
11197
10941
11145
11205
10935
10616
10667
10782
11179
metis partition time  3.7108914852142334
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.844486236572266


block_gen_time in "generate_blocks_for_one_layer_block"  41.747899293899536

connection checking time:  59.328224658966064
block generation total time  47.5923855304718
generate_dataloader_block spend   113.78943943977356
pure train time  4.550591945648193
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.7734375 GB
    Memory Allocated: 0.5117173194885254  GigaBytes
Max Memory Allocated: 15.67892074584961  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.806123733520508
loading full batch data spends  0.7620882987976074
Convert a graph into a bidirected graph: 0.475 seconds, peak memory: 78.788 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 78.788 GB
Metis partitioning: 2.807 seconds, peak memory: 78.788 GB
Split the graph: 0.288 seconds
Construct subgraphs: 0.092 seconds
10630
10641
11239
10602
11167
11195
10632
10828
10940
11141
10779
10677
11092
11125
10830
11173
10641
11239
metis partition time  3.67665958404541
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.6366729736328125


block_gen_time in "generate_blocks_for_one_layer_block"  41.92966413497925

connection checking time:  58.95900321006775
block generation total time  47.56633710861206
generate_dataloader_block spend   113.78072905540466
pure train time  4.800954103469849
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.234375 GB
    Memory Allocated: 0.5129590034484863  GigaBytes
Max Memory Allocated: 15.67892074584961  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6228959560394287
loading full batch data spends  0.8138961791992188
Convert a graph into a bidirected graph: 0.470 seconds, peak memory: 81.565 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 81.565 GB
Metis partitioning: 2.906 seconds, peak memory: 81.565 GB
Split the graph: 0.200 seconds
Construct subgraphs: 0.103 seconds
10653
11004
10671
10659
10870
10602
11165
11144
11136
11197
10941
11145
11205
10935
10616
10667
10782
11179
metis partition time  3.702976942062378
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.732503175735474


block_gen_time in "generate_blocks_for_one_layer_block"  42.21790313720703

connection checking time:  59.334078788757324
block generation total time  47.950406312942505
generate_dataloader_block spend   114.53376317024231
pure train time  4.560949802398682
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.234375 GB
    Memory Allocated: 0.5145525932312012  GigaBytes
Max Memory Allocated: 15.67892074584961  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.489455223083496
loading full batch data spends  0.8382718563079834
Convert a graph into a bidirected graph: 0.515 seconds, peak memory: 81.565 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 81.565 GB
Metis partitioning: 2.877 seconds, peak memory: 81.565 GB
Split the graph: 0.215 seconds
Construct subgraphs: 0.046 seconds
10653
11004
10671
10659
10870
10602
11165
11144
11136
11197
10941
11145
11205
10935
10616
10667
10782
11179
metis partition time  3.6704390048980713
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  3.0640554428100586


block_gen_time in "generate_blocks_for_one_layer_block"  42.15029788017273

connection checking time:  55.778581380844116
block generation total time  45.21435332298279
generate_dataloader_block spend   107.65918445587158
pure train time  4.48758602142334
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.234375 GB
    Memory Allocated: 0.5132932662963867  GigaBytes
Max Memory Allocated: 15.67892074584961  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.375871419906616
loading full batch data spends  0.7905187606811523
Convert a graph into a bidirected graph: 0.520 seconds, peak memory: 81.565 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 81.565 GB
Metis partitioning: 2.839 seconds, peak memory: 81.565 GB
Split the graph: 0.202 seconds
Construct subgraphs: 0.076 seconds
10653
11004
10671
10659
10870
10602
11165
11144
11136
11197
10941
11145
11205
10935
10616
10667
10782
11179
metis partition time  3.6698577404022217
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.673912763595581


block_gen_time in "generate_blocks_for_one_layer_block"  41.17791128158569

connection checking time:  59.19437909126282
block generation total time  46.851824045181274
generate_dataloader_block spend   113.40771818161011
pure train time  4.52644681930542
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.234375 GB
    Memory Allocated: 0.5062408447265625  GigaBytes
Max Memory Allocated: 15.67892074584961  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2394447326660156
Total (block generation + training)time/epoch 121.82215516907829
pure train time/epoch 4.586147268613179

num_input_list  [16023930, 16035110, 16037022, 16033149, 16040345, 16037019, 16037792, 16035718, 16037085, 16038055]
