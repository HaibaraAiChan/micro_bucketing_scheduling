main start at this time 1693473183.5032601
#nodes: 2449029
#edges: 123718024
#classes: 47
success----------------------------------------
196571
39255
2164782
# Nodes: 2400608
# Edges: 123718024
# Train: 196571
# Val: 39255
# Test: 2164782
# Classes: 47

in feats:  100
Convert a graph into a bidirected graph: 1.422 seconds, peak memory: 30.405 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.405 GB
Metis partitioning: 2.573 seconds, peak memory: 30.405 GB
Split the graph: 0.186 seconds
Construct subgraphs: 0.038 seconds
9579
9581
9348
9177
9201
9165
9574
9566
9265
9198
9362
9196
9109
9544
9560
9341
9356
9151
9604
9597
9097
metis partition time  4.246326208114624
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  3.3453500270843506


block_gen_time in "generate_blocks_for_one_layer_block"  43.59672999382019

connection checking time:  51.97726058959961
block generation total time  46.94208002090454
pure train time  5.468408107757568
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.052734375 GB
    Memory Allocated: 0.4615192413330078  GigaBytes
Max Memory Allocated: 13.689723491668701  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 5.203747749328613
Convert a graph into a bidirected graph: 0.557 seconds, peak memory: 48.070 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 48.070 GB
Metis partitioning: 2.731 seconds, peak memory: 48.070 GB
Split the graph: 0.297 seconds
Construct subgraphs: 0.120 seconds
9164
9327
9158
9551
9506
9177
9325
9587
9600
9489
9378
9181
9503
9388
9581
9560
9141
9572
9144
9124
9115
metis partition time  3.724968433380127
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.499549388885498


block_gen_time in "generate_blocks_for_one_layer_block"  42.23624610900879

connection checking time:  61.62328600883484
block generation total time  47.73579549789429
pure train time  5.493953227996826
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.0546875 GB
    Memory Allocated: 0.4631204605102539  GigaBytes
Max Memory Allocated: 13.689723491668701  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.891414165496826
Convert a graph into a bidirected graph: 0.504 seconds, peak memory: 50.308 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 50.308 GB
Metis partitioning: 2.870 seconds, peak memory: 50.308 GB
Split the graph: 0.270 seconds
Construct subgraphs: 0.062 seconds
9164
9327
9158
9551
9506
9177
9325
9587
9600
9489
9378
9181
9503
9388
9581
9560
9141
9572
9144
9124
9115
metis partition time  3.7278521060943604
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.497780084609985


block_gen_time in "generate_blocks_for_one_layer_block"  42.6619873046875

connection checking time:  61.35924458503723
block generation total time  48.159767389297485
pure train time  5.155863523483276
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.0546875 GB
    Memory Allocated: 0.46110105514526367  GigaBytes
Max Memory Allocated: 13.689723491668701  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.589816093444824
loading full batch data spends  0.7848424911499023
Convert a graph into a bidirected graph: 0.461 seconds, peak memory: 50.522 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 50.522 GB
Metis partitioning: 2.713 seconds, peak memory: 50.522 GB
Split the graph: 0.258 seconds
Construct subgraphs: 0.082 seconds
9164
9327
9158
9551
9506
9177
9325
9587
9600
9489
9378
9181
9503
9388
9581
9560
9141
9572
9144
9124
9115
metis partition time  3.5351295471191406
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.090651512145996


block_gen_time in "generate_blocks_for_one_layer_block"  42.59261631965637

connection checking time:  60.209431886672974
block generation total time  47.68326783180237
generate_dataloader_block spend   114.47949481010437
pure train time  5.0538856983184814
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.49609375 GB
    Memory Allocated: 0.46244335174560547  GigaBytes
Max Memory Allocated: 13.7173490524292  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.309389591217041
loading full batch data spends  0.8087892532348633
Convert a graph into a bidirected graph: 0.467 seconds, peak memory: 52.776 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.776 GB
Metis partitioning: 2.743 seconds, peak memory: 52.915 GB
Split the graph: 0.268 seconds
Construct subgraphs: 0.046 seconds
9540
9599
9401
9289
9206
9235
9581
9560
9476
9224
9135
9135
9134
9515
9553
9638
9151
9130
9110
9386
9573
metis partition time  3.535369873046875
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  2.891268014907837


block_gen_time in "generate_blocks_for_one_layer_block"  43.518486976623535

connection checking time:  58.602192878723145
block generation total time  46.40975499153137
generate_dataloader_block spend   111.54874658584595
pure train time  5.158904790878296
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.49609375 GB
    Memory Allocated: 0.47023630142211914  GigaBytes
Max Memory Allocated: 13.7173490524292  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.041965007781982
loading full batch data spends  0.7763235569000244
Convert a graph into a bidirected graph: 0.458 seconds, peak memory: 53.319 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 53.319 GB
Metis partitioning: 2.857 seconds, peak memory: 53.319 GB
Split the graph: 0.299 seconds
Construct subgraphs: 0.082 seconds
9164
9327
9158
9551
9506
9177
9325
9587
9600
9489
9378
9181
9503
9388
9581
9560
9141
9572
9144
9124
9115
metis partition time  3.7204809188842773
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.019184350967407


block_gen_time in "generate_blocks_for_one_layer_block"  42.60318326950073

connection checking time:  61.26435875892639
block generation total time  47.62236762046814
generate_dataloader_block spend   115.90778732299805
pure train time  5.114747047424316
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.505859375 GB
    Memory Allocated: 0.4609346389770508  GigaBytes
Max Memory Allocated: 13.7173490524292  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.8098504543304443
loading full batch data spends  0.75189208984375
Convert a graph into a bidirected graph: 0.500 seconds, peak memory: 53.725 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 53.725 GB
Metis partitioning: 2.853 seconds, peak memory: 53.879 GB
Split the graph: 0.352 seconds
Construct subgraphs: 0.102 seconds
9164
9327
9158
9551
9506
9177
9325
9587
9600
9489
9378
9181
9503
9388
9581
9560
9141
9572
9144
9124
9115
metis partition time  3.82848858833313
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.533407926559448


block_gen_time in "generate_blocks_for_one_layer_block"  38.371028423309326

connection checking time:  61.21780014038086
block generation total time  43.904436349868774
generate_dataloader_block spend   112.23576307296753
pure train time  4.723581552505493
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.505859375 GB
    Memory Allocated: 0.46096324920654297  GigaBytes
Max Memory Allocated: 13.7173490524292  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.622410774230957
loading full batch data spends  0.7935435771942139
Convert a graph into a bidirected graph: 0.491 seconds, peak memory: 54.292 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.292 GB
Metis partitioning: 2.884 seconds, peak memory: 54.292 GB
Split the graph: 0.306 seconds
Construct subgraphs: 0.069 seconds
9563
9605
9503
9223
9216
9157
9609
9528
9293
9288
9135
9109
9613
9254
9596
9148
9142
9132
9551
9266
9640
metis partition time  3.7642362117767334
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.1938796043396


block_gen_time in "generate_blocks_for_one_layer_block"  42.61041307449341

connection checking time:  53.824971199035645
block generation total time  47.80429267883301
generate_dataloader_block spend   108.75981497764587
pure train time  4.761780261993408
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.505859375 GB
    Memory Allocated: 0.47002458572387695  GigaBytes
Max Memory Allocated: 13.720460891723633  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.482971429824829
loading full batch data spends  0.7428441047668457
Convert a graph into a bidirected graph: 0.481 seconds, peak memory: 54.821 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.821 GB
Metis partitioning: 2.637 seconds, peak memory: 54.973 GB
Split the graph: 0.240 seconds
Construct subgraphs: 0.070 seconds
9535
9611
9383
9248
9178
9225
9507
9538
9335
9217
9238
9429
9575
9608
9235
9213
9284
9311
9641
9128
9132
metis partition time  3.4494516849517822
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.116355895996094


block_gen_time in "generate_blocks_for_one_layer_block"  42.67463040351868

connection checking time:  62.28317475318909
block generation total time  47.79098629951477
generate_dataloader_block spend   116.90470361709595
pure train time  5.117016077041626
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.505859375 GB
    Memory Allocated: 0.4619002342224121  GigaBytes
Max Memory Allocated: 13.720460891723633  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.3776376247406006
loading full batch data spends  0.824030876159668
Convert a graph into a bidirected graph: 0.408 seconds, peak memory: 55.459 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.459 GB
Metis partitioning: 2.861 seconds, peak memory: 55.459 GB
Split the graph: 0.322 seconds
Construct subgraphs: 0.065 seconds
9540
9599
9401
9289
9206
9235
9581
9560
9476
9224
9135
9135
9134
9515
9553
9638
9151
9130
9110
9386
9573
metis partition time  3.669609546661377
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.605067491531372


block_gen_time in "generate_blocks_for_one_layer_block"  42.84521532058716

connection checking time:  61.22955584526062
block generation total time  48.45028281211853
generate_dataloader_block spend   116.70920372009277
pure train time  5.139119386672974
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.505859375 GB
    Memory Allocated: 0.47196102142333984  GigaBytes
Max Memory Allocated: 13.720460891723633  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2447617053985596
Total (block generation + training)time/epoch 123.15187730107989
pure train time/epoch 5.0025248527526855

num_input_list  [17423887, 17431753, 17426847, 17437604, 17436627, 17438154, 17440840, 17429326, 17429512, 17438954]
