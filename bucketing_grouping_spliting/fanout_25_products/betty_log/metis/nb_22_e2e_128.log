main start at this time 1693474447.1211812
#nodes: 2449029
#edges: 123718024
#classes: 47
success----------------------------------------
196571
39255
2164782
# Nodes: 2400608
# Edges: 123718024
# Train: 196571
# Val: 39255
# Test: 2164782
# Classes: 47

in feats:  100
Convert a graph into a bidirected graph: 1.459 seconds, peak memory: 30.378 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.378 GB
Metis partitioning: 2.721 seconds, peak memory: 30.378 GB
Split the graph: 0.164 seconds
Construct subgraphs: 0.084 seconds
9135
9135
8878
9048
9027
9125
9156
8722
9135
8716
8719
8694
8790
9126
9103
9118
8980
8741
8732
8721
9055
8715
metis partition time  4.455119609832764
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.834481716156006


block_gen_time in "generate_blocks_for_one_layer_block"  48.644195795059204

connection checking time:  66.3804543018341
block generation total time  54.47867751121521
pure train time  6.025401830673218
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.830078125 GB
    Memory Allocated: 0.45567989349365234  GigaBytes
Max Memory Allocated: 13.085093975067139  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 5.209737300872803
Convert a graph into a bidirected graph: 0.549 seconds, peak memory: 49.437 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 49.437 GB
Metis partitioning: 2.923 seconds, peak memory: 49.558 GB
Split the graph: 0.234 seconds
Construct subgraphs: 0.091 seconds
9135
9135
8878
9048
9027
9125
9156
8722
9135
8716
8719
8694
8790
9126
9103
9118
8980
8741
8732
8721
9055
8715
metis partition time  3.837177038192749
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.9894208908081055


block_gen_time in "generate_blocks_for_one_layer_block"  45.79201865196228

connection checking time:  66.81941199302673
block generation total time  51.781439542770386
pure train time  5.6230309009552
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.525390625 GB
    Memory Allocated: 0.45498132705688477  GigaBytes
Max Memory Allocated: 13.088522911071777  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.891932487487793
Convert a graph into a bidirected graph: 0.495 seconds, peak memory: 53.163 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 53.163 GB
Metis partitioning: 2.897 seconds, peak memory: 53.202 GB
Split the graph: 0.251 seconds
Construct subgraphs: 0.085 seconds
9135
9135
8878
9048
9027
9125
9156
8722
9135
8716
8719
8694
8790
9126
9103
9118
8980
8741
8732
8721
9055
8715
metis partition time  3.7583279609680176
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.067450046539307


block_gen_time in "generate_blocks_for_one_layer_block"  46.29696011543274

connection checking time:  66.1996214389801
block generation total time  52.364410161972046
pure train time  5.639404058456421
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.525390625 GB
    Memory Allocated: 0.4544491767883301  GigaBytes
Max Memory Allocated: 13.130065441131592  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.5958251953125
loading full batch data spends  0.8844571113586426
Convert a graph into a bidirected graph: 0.462 seconds, peak memory: 54.429 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.429 GB
Metis partitioning: 3.036 seconds, peak memory: 54.429 GB
Split the graph: 0.303 seconds
Construct subgraphs: 0.111 seconds
9135
9135
8878
9048
9027
9125
9156
8722
9135
8716
8719
8694
8790
9126
9103
9118
8980
8741
8732
8721
9055
8715
metis partition time  3.9332849979400635
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.929108142852783


block_gen_time in "generate_blocks_for_one_layer_block"  27.897282361984253

connection checking time:  47.466323137283325
block generation total time  33.826390504837036
generate_dataloader_block spend   88.67973017692566
pure train time  6.149234771728516
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.525390625 GB
    Memory Allocated: 0.4534645080566406  GigaBytes
Max Memory Allocated: 13.130065441131592  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.308686256408691
loading full batch data spends  0.8779442310333252
Convert a graph into a bidirected graph: 0.526 seconds, peak memory: 56.269 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.269 GB
Metis partitioning: 3.021 seconds, peak memory: 56.269 GB
Split the graph: 0.239 seconds
Construct subgraphs: 0.087 seconds
9135
9135
8878
9048
9027
9125
9156
8722
9135
8716
8719
8694
8790
9126
9103
9118
8980
8741
8732
8721
9055
8715
metis partition time  3.8939547538757324
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.07531476020813


block_gen_time in "generate_blocks_for_one_layer_block"  46.29339361190796

connection checking time:  65.02368831634521
block generation total time  52.36870837211609
generate_dataloader_block spend   124.88624429702759
pure train time  5.960607528686523
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.525390625 GB
    Memory Allocated: 0.4580245018005371  GigaBytes
Max Memory Allocated: 13.130065441131592  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.040731906890869
loading full batch data spends  0.8702373504638672
Convert a graph into a bidirected graph: 0.451 seconds, peak memory: 57.247 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.247 GB
Metis partitioning: 3.083 seconds, peak memory: 57.257 GB
Split the graph: 0.261 seconds
Construct subgraphs: 0.081 seconds
9135
9135
8878
9048
9027
9125
9156
8722
9135
8716
8719
8694
8790
9126
9103
9118
8980
8741
8732
8721
9055
8715
metis partition time  3.897711753845215
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.147228717803955


block_gen_time in "generate_blocks_for_one_layer_block"  46.57665538787842

connection checking time:  66.28571033477783
block generation total time  52.72388410568237
generate_dataloader_block spend   126.53552651405334
pure train time  5.8871824741363525
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.525390625 GB
    Memory Allocated: 0.4534587860107422  GigaBytes
Max Memory Allocated: 13.130065441131592  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.8027637004852295
loading full batch data spends  0.7935431003570557
Convert a graph into a bidirected graph: 0.510 seconds, peak memory: 58.383 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.383 GB
Metis partitioning: 3.174 seconds, peak memory: 58.597 GB
Split the graph: 0.278 seconds
Construct subgraphs: 0.080 seconds
8715
8700
8965
8796
9200
8674
9203
8725
9046
8996
9133
9199
8790
9000
9194
8950
9200
8780
8674
9203
8678
8750
metis partition time  4.063333749771118
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.065715551376343


block_gen_time in "generate_blocks_for_one_layer_block"  47.13496470451355

connection checking time:  65.1831579208374
block generation total time  53.20068025588989
generate_dataloader_block spend   126.0020854473114
pure train time  6.1153364181518555
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.669921875 GB
    Memory Allocated: 0.4556088447570801  GigaBytes
Max Memory Allocated: 13.186747074127197  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6149821281433105
loading full batch data spends  0.8385293483734131
Convert a graph into a bidirected graph: 0.475 seconds, peak memory: 65.534 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.534 GB
Metis partitioning: 3.020 seconds, peak memory: 65.534 GB
Split the graph: 0.360 seconds
Construct subgraphs: 0.084 seconds
9135
9135
8878
9048
9027
9125
9156
8722
9135
8716
8719
8694
8790
9126
9103
9118
8980
8741
8732
8721
9055
8715
metis partition time  3.95246958732605
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.091054439544678


block_gen_time in "generate_blocks_for_one_layer_block"  46.374178886413574

connection checking time:  65.18750429153442
block generation total time  52.46523332595825
generate_dataloader_block spend   125.19829654693604
pure train time  5.652221202850342
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.669921875 GB
    Memory Allocated: 0.4562349319458008  GigaBytes
Max Memory Allocated: 13.186747074127197  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.4914443492889404
loading full batch data spends  0.778918981552124
Convert a graph into a bidirected graph: 0.462 seconds, peak memory: 65.534 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.534 GB
Metis partitioning: 3.198 seconds, peak memory: 65.534 GB
Split the graph: 0.320 seconds
Construct subgraphs: 0.081 seconds
8715
8700
8965
8796
9200
8674
9203
8725
9046
8996
9133
9199
8790
9000
9194
8950
9200
8780
8674
9203
8678
8750
metis partition time  4.082830190658569
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.070620775222778


block_gen_time in "generate_blocks_for_one_layer_block"  46.95809054374695

connection checking time:  65.62255263328552
block generation total time  53.02871131896973
generate_dataloader_block spend   126.4326491355896
pure train time  5.864506006240845
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.3671875 GB
    Memory Allocated: 0.4564695358276367  GigaBytes
Max Memory Allocated: 13.20818042755127  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.374300003051758
loading full batch data spends  0.8372719287872314
Convert a graph into a bidirected graph: 0.475 seconds, peak memory: 65.534 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 65.534 GB
Metis partitioning: 3.036 seconds, peak memory: 65.534 GB
Split the graph: 0.267 seconds
Construct subgraphs: 0.047 seconds
9135
9135
8878
9048
9027
9125
9156
8722
9135
8716
8719
8694
8790
9126
9103
9118
8980
8741
8732
8721
9055
8715
metis partition time  3.836571455001831
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  6.107424259185791


block_gen_time in "generate_blocks_for_one_layer_block"  47.32448434829712

connection checking time:  66.82763171195984
block generation total time  53.43190860748291
generate_dataloader_block spend   127.81580400466919
pure train time  5.793114423751831
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.3671875 GB
    Memory Allocated: 0.4557352066040039  GigaBytes
Max Memory Allocated: 13.20818042755127  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2406342029571533
Total (block generation + training)time/epoch 131.08890925134932
pure train time/epoch 5.8788280089696245

num_input_list  [17854542, 17859222, 17856095, 17866481, 17869804, 17863931, 17870880, 17863822, 17856873, 17863242]
