main start at this time 1693468139.3673372
#nodes: 2449029
#edges: 123718024
#classes: 47
success----------------------------------------
196571
39255
2164782
# Nodes: 2400608
# Edges: 123718024
# Train: 196571
# Val: 39255
# Test: 2164782
# Classes: 47

in feats:  100
Convert a graph into a bidirected graph: 1.593 seconds, peak memory: 30.348 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.348 GB
Metis partitioning: 2.697 seconds, peak memory: 30.348 GB
Split the graph: 0.268 seconds
Construct subgraphs: 0.122 seconds
11831
11893
11828
11339
11265
11298
11269
11831
11857
11247
11267
11380
11851
11356
11864
11365
11830
metis partition time  4.700039625167847
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  7.015828847885132


block_gen_time in "generate_blocks_for_one_layer_block"  44.7769832611084

connection checking time:  60.20378494262695
block generation total time  51.79281210899353
pure train time  5.820591926574707
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.853515625 GB
    Memory Allocated: 0.5299777984619141  GigaBytes
Max Memory Allocated: 16.418997287750244  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 5.204677104949951
Convert a graph into a bidirected graph: 0.530 seconds, peak memory: 77.359 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.359 GB
Metis partitioning: 2.722 seconds, peak memory: 77.359 GB
Split the graph: 0.272 seconds
Construct subgraphs: 0.052 seconds
11863
11266
11225
11264
11813
11856
11845
11790
11898
11270
11837
11240
11312
11894
11624
11233
11341
metis partition time  3.6087000370025635
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.678444862365723


block_gen_time in "generate_blocks_for_one_layer_block"  42.02660298347473

connection checking time:  58.83356285095215
block generation total time  47.705047845840454
pure train time  4.017038583755493
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.701171875 GB
    Memory Allocated: 0.5186614990234375  GigaBytes
Max Memory Allocated: 16.418997287750244  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.889488697052002
Convert a graph into a bidirected graph: 0.501 seconds, peak memory: 77.359 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.359 GB
Metis partitioning: 2.760 seconds, peak memory: 77.359 GB
Split the graph: 0.202 seconds
Construct subgraphs: 0.065 seconds
11831
11893
11828
11339
11265
11298
11269
11831
11857
11247
11267
11380
11851
11356
11864
11365
11830
metis partition time  3.549769401550293
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  3.279797077178955


block_gen_time in "generate_blocks_for_one_layer_block"  42.87204337120056

connection checking time:  52.62343788146973
block generation total time  46.15184044837952
pure train time  4.708619832992554
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.701171875 GB
    Memory Allocated: 0.5275063514709473  GigaBytes
Max Memory Allocated: 16.418997287750244  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.590771198272705
loading full batch data spends  0.9496901035308838
Convert a graph into a bidirected graph: 0.462 seconds, peak memory: 77.359 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.359 GB
Metis partitioning: 2.851 seconds, peak memory: 77.359 GB
Split the graph: 0.194 seconds
Construct subgraphs: 0.081 seconds
11812
11530
11225
11288
11750
11735
11828
11753
11259
11827
11277
11240
11276
11278
11823
11837
11833
metis partition time  3.610718011856079
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.909189224243164


block_gen_time in "generate_blocks_for_one_layer_block"  43.267444133758545

connection checking time:  60.02010202407837
block generation total time  49.17663335800171
generate_dataloader_block spend   115.75024509429932
pure train time  4.400210618972778
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.703125 GB
    Memory Allocated: 0.5257306098937988  GigaBytes
Max Memory Allocated: 16.418997287750244  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.30623197555542
loading full batch data spends  0.8044357299804688
Convert a graph into a bidirected graph: 0.397 seconds, peak memory: 77.359 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.359 GB
Metis partitioning: 2.848 seconds, peak memory: 77.359 GB
Split the graph: 0.203 seconds
Construct subgraphs: 0.044 seconds
11831
11893
11828
11339
11265
11298
11269
11831
11857
11247
11267
11380
11851
11356
11864
11365
11830
metis partition time  3.503217935562134
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.758895635604858


block_gen_time in "generate_blocks_for_one_layer_block"  42.90142226219177

connection checking time:  57.726245403289795
block generation total time  48.66031789779663
generate_dataloader_block spend   113.18105268478394
pure train time  4.410265684127808
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.703125 GB
    Memory Allocated: 0.5269198417663574  GigaBytes
Max Memory Allocated: 16.418997287750244  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.0416669845581055
loading full batch data spends  0.8210935592651367
Convert a graph into a bidirected graph: 0.497 seconds, peak memory: 77.359 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.359 GB
Metis partitioning: 2.715 seconds, peak memory: 77.359 GB
Split the graph: 0.255 seconds
Construct subgraphs: 0.061 seconds
11831
11893
11828
11339
11265
11298
11269
11831
11857
11247
11267
11380
11851
11356
11864
11365
11830
metis partition time  3.5442540645599365
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.156890392303467


block_gen_time in "generate_blocks_for_one_layer_block"  42.167927742004395

connection checking time:  58.01838684082031
block generation total time  47.32481813430786
generate_dataloader_block spend   112.32108163833618
pure train time  4.307246208190918
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.548828125 GB
    Memory Allocated: 0.5299463272094727  GigaBytes
Max Memory Allocated: 16.418997287750244  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.796562433242798
loading full batch data spends  0.7921149730682373
Convert a graph into a bidirected graph: 0.417 seconds, peak memory: 77.513 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.513 GB
Metis partitioning: 2.821 seconds, peak memory: 77.513 GB
Split the graph: 0.201 seconds
Construct subgraphs: 0.040 seconds
11831
11893
11828
11339
11265
11298
11269
11831
11857
11247
11267
11380
11851
11356
11864
11365
11830
metis partition time  3.4908761978149414
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.724822282791138


block_gen_time in "generate_blocks_for_one_layer_block"  43.25255250930786

connection checking time:  58.31803607940674
block generation total time  48.977374792099
generate_dataloader_block spend   114.15736389160156
pure train time  4.523885488510132
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.548828125 GB
    Memory Allocated: 0.5288548469543457  GigaBytes
Max Memory Allocated: 16.418997287750244  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6208243370056152
loading full batch data spends  0.8296914100646973
Convert a graph into a bidirected graph: 0.468 seconds, peak memory: 77.688 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.688 GB
Metis partitioning: 2.933 seconds, peak memory: 77.688 GB
Split the graph: 0.201 seconds
Construct subgraphs: 0.077 seconds
11812
11530
11225
11288
11750
11735
11828
11753
11259
11827
11277
11240
11276
11278
11823
11837
11833
metis partition time  3.7025411128997803
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.130496025085449


block_gen_time in "generate_blocks_for_one_layer_block"  42.85599374771118

connection checking time:  59.16936159133911
block generation total time  47.98648977279663
generate_dataloader_block spend   114.34924221038818
pure train time  4.594318866729736
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.548828125 GB
    Memory Allocated: 0.5343418121337891  GigaBytes
Max Memory Allocated: 16.418997287750244  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.481048583984375
loading full batch data spends  0.8158433437347412
Convert a graph into a bidirected graph: 0.487 seconds, peak memory: 77.697 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.697 GB
Metis partitioning: 2.986 seconds, peak memory: 77.697 GB
Split the graph: 0.230 seconds
Construct subgraphs: 0.086 seconds
11831
11893
11828
11339
11265
11298
11269
11831
11857
11247
11267
11380
11851
11356
11864
11365
11830
metis partition time  3.8190667629241943
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.996237754821777


block_gen_time in "generate_blocks_for_one_layer_block"  44.11786866188049

connection checking time:  59.801544189453125
block generation total time  50.11410641670227
generate_dataloader_block spend   117.52342915534973
pure train time  4.502459287643433
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.548828125 GB
    Memory Allocated: 0.5272889137268066  GigaBytes
Max Memory Allocated: 16.418997287750244  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.367929220199585
loading full batch data spends  0.8371353149414062
Convert a graph into a bidirected graph: 0.535 seconds, peak memory: 77.733 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.733 GB
Metis partitioning: 2.994 seconds, peak memory: 77.733 GB
Split the graph: 0.351 seconds
Construct subgraphs: 0.061 seconds
11812
11530
11225
11288
11750
11735
11828
11753
11259
11827
11277
11240
11276
11278
11823
11837
11833
metis partition time  3.9636268615722656
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.144726276397705


block_gen_time in "generate_blocks_for_one_layer_block"  43.04452633857727

connection checking time:  58.037561893463135
block generation total time  48.189252614974976
generate_dataloader_block spend   113.76352095603943
pure train time  4.425683975219727
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.548828125 GB
    Memory Allocated: 0.5276041030883789  GigaBytes
Max Memory Allocated: 16.418997287750244  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.2380332946777344
Total (block generation + training)time/epoch 123.13340275628227
pure train time/epoch 4.4606432517369585

num_input_list  [15521332, 15522031, 15526290, 15532937, 15535373, 15531991, 15530321, 15527014, 15522656, 15531885]
