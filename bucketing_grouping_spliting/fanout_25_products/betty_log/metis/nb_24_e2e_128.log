main start at this time 1693477202.8934515
#nodes: 2449029
#edges: 123718024
#classes: 47
success----------------------------------------
196571
39255
2164782
# Nodes: 2400608
# Edges: 123718024
# Train: 196571
# Val: 39255
# Test: 2164782
# Classes: 47

in feats:  100
Convert a graph into a bidirected graph: 1.432 seconds, peak memory: 30.417 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 30.417 GB
Metis partitioning: 2.451 seconds, peak memory: 30.417 GB
Split the graph: 0.218 seconds
Construct subgraphs: 0.050 seconds
8212
8370
8195
8298
8352
8044
8339
7974
8365
8209
8385
8388
7969
7967
8013
7981
8245
7990
8383
7994
8085
8069
8364
8380
metis partition time  4.18215012550354
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.412133455276489


block_gen_time in "generate_blocks_for_one_layer_block"  26.94580101966858

connection checking time:  59.24327301979065
block generation total time  32.35793447494507
pure train time  5.5313568115234375
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.470703125 GB
    Memory Allocated: 0.4494490623474121  GigaBytes
Max Memory Allocated: 12.240664958953857  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 5.201858997344971
Convert a graph into a bidirected graph: 0.520 seconds, peak memory: 57.011 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.011 GB
Metis partitioning: 2.503 seconds, peak memory: 57.132 GB
Split the graph: 0.295 seconds
Construct subgraphs: 0.044 seconds
8283
8027
8276
7979
8359
8056
8402
8027
8101
7991
7972
8282
8084
7955
8436
8330
8007
8207
8414
8356
8126
8146
8363
8392
metis partition time  3.3796985149383545
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.518348217010498


block_gen_time in "generate_blocks_for_one_layer_block"  42.857454776763916

connection checking time:  63.755534172058105
block generation total time  48.375802993774414
pure train time  6.123715877532959
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.54296875 GB
    Memory Allocated: 0.4467344284057617  GigaBytes
Max Memory Allocated: 12.240664958953857  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.893073558807373
Convert a graph into a bidirected graph: 0.506 seconds, peak memory: 62.702 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.702 GB
Metis partitioning: 2.884 seconds, peak memory: 62.702 GB
Split the graph: 0.288 seconds
Construct subgraphs: 0.083 seconds
8212
8370
8195
8298
8352
8044
8339
7974
8365
8209
8385
8388
7969
7967
8013
7981
8245
7990
8383
7994
8085
8069
8364
8380
metis partition time  3.7906298637390137
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.0257179737091064


block_gen_time in "generate_blocks_for_one_layer_block"  43.235095262527466

connection checking time:  63.36828398704529
block generation total time  48.26081323623657
pure train time  5.544025897979736
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.54296875 GB
    Memory Allocated: 0.4476141929626465  GigaBytes
Max Memory Allocated: 12.240664958953857  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.590790271759033
loading full batch data spends  0.8484718799591064
Convert a graph into a bidirected graph: 0.501 seconds, peak memory: 62.702 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.702 GB
Metis partitioning: 2.728 seconds, peak memory: 62.702 GB
Split the graph: 0.277 seconds
Construct subgraphs: 0.057 seconds
8283
8027
8276
7979
8359
8056
8402
8027
8101
7991
7972
8282
8084
7955
8436
8330
8007
8207
8414
8356
8126
8146
8363
8392
metis partition time  3.5770621299743652
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  3.0109803676605225


block_gen_time in "generate_blocks_for_one_layer_block"  26.20620894432068

connection checking time:  45.65545701980591
block generation total time  29.2171893119812
generate_dataloader_block spend   81.32578372955322
pure train time  4.939791917800903
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.54296875 GB
    Memory Allocated: 0.44873952865600586  GigaBytes
Max Memory Allocated: 12.269070148468018  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.309858798980713
loading full batch data spends  0.8804798126220703
Convert a graph into a bidirected graph: 0.422 seconds, peak memory: 62.825 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.825 GB
Metis partitioning: 2.791 seconds, peak memory: 62.950 GB
Split the graph: 0.319 seconds
Construct subgraphs: 0.064 seconds
8283
8027
8276
7979
8359
8056
8402
8027
8101
7991
7972
8282
8084
7955
8436
8330
8007
8207
8414
8356
8126
8146
8363
8392
metis partition time  3.609717845916748
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.563754558563232


block_gen_time in "generate_blocks_for_one_layer_block"  43.694005489349365

connection checking time:  63.975152254104614
block generation total time  49.2577600479126
generate_dataloader_block spend   120.1813497543335
pure train time  5.476741790771484
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.54296875 GB
    Memory Allocated: 0.44703149795532227  GigaBytes
Max Memory Allocated: 12.269070148468018  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.0397186279296875
loading full batch data spends  0.8872714042663574
Convert a graph into a bidirected graph: 0.460 seconds, peak memory: 66.087 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.087 GB
Metis partitioning: 2.882 seconds, peak memory: 66.129 GB
Split the graph: 0.276 seconds
Construct subgraphs: 0.084 seconds
8283
8027
8276
7979
8359
8056
8402
8027
8101
7991
7972
8282
8084
7955
8436
8330
8007
8207
8414
8356
8126
8146
8363
8392
metis partition time  3.7245755195617676
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.0526745319366455


block_gen_time in "generate_blocks_for_one_layer_block"  42.86026430130005

connection checking time:  63.84309005737305
block generation total time  47.912938833236694
generate_dataloader_block spend   118.84661793708801
pure train time  5.142009496688843
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.1796875 GB
    Memory Allocated: 0.4476962089538574  GigaBytes
Max Memory Allocated: 12.269070148468018  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.801002264022827
loading full batch data spends  0.8061437606811523
Convert a graph into a bidirected graph: 0.431 seconds, peak memory: 70.047 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 70.047 GB
Metis partitioning: 2.855 seconds, peak memory: 70.260 GB
Split the graph: 0.312 seconds
Construct subgraphs: 0.087 seconds
8212
8370
8195
8298
8352
8044
8339
7974
8365
8209
8385
8388
7969
7967
8013
7981
8245
7990
8383
7994
8085
8069
8364
8380
metis partition time  3.7167062759399414
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.548702716827393


block_gen_time in "generate_blocks_for_one_layer_block"  42.945372343063354

connection checking time:  64.808358669281
block generation total time  48.49407505989075
generate_dataloader_block spend   120.44439840316772
pure train time  5.397418737411499
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.1796875 GB
    Memory Allocated: 0.44799375534057617  GigaBytes
Max Memory Allocated: 12.269070148468018  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6103053092956543
loading full batch data spends  0.838515043258667
Convert a graph into a bidirected graph: 0.450 seconds, peak memory: 73.182 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.182 GB
Metis partitioning: 2.855 seconds, peak memory: 73.227 GB
Split the graph: 0.301 seconds
Construct subgraphs: 0.092 seconds
8283
8027
8276
7979
8359
8056
8402
8027
8101
7991
7972
8282
8084
7955
8436
8330
8007
8207
8414
8356
8126
8146
8363
8392
metis partition time  3.7196028232574463
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.563261270523071


block_gen_time in "generate_blocks_for_one_layer_block"  44.02918744087219

connection checking time:  63.77002239227295
block generation total time  49.592448711395264
generate_dataloader_block spend   120.58089756965637
pure train time  5.550613641738892
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.1796875 GB
    Memory Allocated: 0.4463629722595215  GigaBytes
Max Memory Allocated: 12.269070148468018  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.4860198497772217
loading full batch data spends  0.7998983860015869
Convert a graph into a bidirected graph: 0.505 seconds, peak memory: 74.449 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.449 GB
Metis partitioning: 2.911 seconds, peak memory: 74.449 GB
Split the graph: 0.291 seconds
Construct subgraphs: 0.057 seconds
8283
8027
8276
7979
8359
8056
8402
8027
8101
7991
7972
8282
8084
7955
8436
8330
8007
8207
8414
8356
8126
8146
8363
8392
metis partition time  3.7807657718658447
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.614629745483398


block_gen_time in "generate_blocks_for_one_layer_block"  43.79226064682007

connection checking time:  61.323434352874756
block generation total time  49.40689039230347
generate_dataloader_block spend   117.75166726112366
pure train time  5.3688788414001465
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.833984375 GB
    Memory Allocated: 0.44667816162109375  GigaBytes
Max Memory Allocated: 12.269070148468018  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.374490737915039
loading full batch data spends  0.8035402297973633
Convert a graph into a bidirected graph: 0.520 seconds, peak memory: 75.169 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.169 GB
Metis partitioning: 2.938 seconds, peak memory: 75.169 GB
Split the graph: 0.317 seconds
Construct subgraphs: 0.084 seconds
8212
8370
8195
8298
8352
8044
8339
7974
8365
8209
8385
8388
7969
7967
8013
7981
8245
7990
8383
7994
8085
8069
8364
8380
metis partition time  3.882413625717163
The batched output nid list before graph partition

block_gen_time in "generate_blocks_for_one_layer_block"  5.410669326782227


block_gen_time in "generate_blocks_for_one_layer_block"  43.944761991500854

connection checking time:  61.5191216468811
block generation total time  49.35543131828308
generate_dataloader_block spend   117.97349882125854
pure train time  5.402037858963013
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.833984375 GB
    Memory Allocated: 0.44821882247924805  GigaBytes
Max Memory Allocated: 12.269070148468018  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.234119176864624
Total (block generation + training)time/epoch 123.76345791135516
pure train time/epoch 5.3896167278289795

num_input_list  [18668706, 18679914, 18677886, 18673138, 18684537, 18682969, 18676861, 18677856, 18671491, 18677209]
