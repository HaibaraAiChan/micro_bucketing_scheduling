main start at this time 1693515833.8804646
#nodes: 2449029
#edges: 123718024
#classes: 47
success----------------------------------------
196571
39255
2164782
# Nodes: 2400608
# Edges: 123718024
# Train: 196571
# Val: 39255
# Test: 2164782
# Classes: 47

in feats:  100
REG start----................................
Convert a graph into a bidirected graph: 3.198 seconds, peak memory: 34.210 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 34.210 GB
Metis partitioning: 14.516 seconds, peak memory: 35.338 GB
Split the graph: 1.482 seconds
Construct subgraphs: 0.028 seconds
REG metis partition end ----................................
REG construction  time spent:  13.706502676010132
pure dgl.metis_partition the time spent:  19.250126123428345

block_gen_time in "generate_blocks_for_one_layer_block"  5.842622518539429


block_gen_time in "generate_blocks_for_one_layer_block"  10.155991315841675

connection checking time:  16.966373205184937
block generation total time  15.998613834381104
pure train time  4.411383152008057
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.986328125 GB
    Memory Allocated: 0.20900821685791016  GigaBytes
Max Memory Allocated: 7.249645233154297  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 5.210428237915039
REG start----................................
Convert a graph into a bidirected graph: 3.140 seconds, peak memory: 72.846 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.846 GB
Metis partitioning: 15.551 seconds, peak memory: 73.985 GB
Split the graph: 0.902 seconds
Construct subgraphs: 0.461 seconds
REG metis partition end ----................................
REG construction  time spent:  10.17636752128601
pure dgl.metis_partition the time spent:  20.0810763835907

block_gen_time in "generate_blocks_for_one_layer_block"  4.99611496925354


block_gen_time in "generate_blocks_for_one_layer_block"  18.250504970550537

connection checking time:  25.36034607887268
block generation total time  23.246619939804077
pure train time  4.580373764038086
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.986328125 GB
    Memory Allocated: 0.20277738571166992  GigaBytes
Max Memory Allocated: 7.249645233154297  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.891226768493652
REG start----................................
Convert a graph into a bidirected graph: 3.064 seconds, peak memory: 79.195 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 79.195 GB
Metis partitioning: 15.545 seconds, peak memory: 80.359 GB
Split the graph: 1.061 seconds
Construct subgraphs: 0.383 seconds
REG metis partition end ----................................
REG construction  time spent:  13.058556318283081
pure dgl.metis_partition the time spent:  20.080413103103638

block_gen_time in "generate_blocks_for_one_layer_block"  5.544397830963135


block_gen_time in "generate_blocks_for_one_layer_block"  17.661497592926025

connection checking time:  24.767297744750977
block generation total time  23.20589542388916
pure train time  4.5048229694366455
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.986328125 GB
    Memory Allocated: 0.19858789443969727  GigaBytes
Max Memory Allocated: 7.249645233154297  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.590620040893555
loading full batch data spends  0.9170606136322021
REG start----................................
Convert a graph into a bidirected graph: 3.218 seconds, peak memory: 81.503 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 81.503 GB
Metis partitioning: 16.298 seconds, peak memory: 81.503 GB
Split the graph: 0.811 seconds
Construct subgraphs: 0.500 seconds
REG metis partition end ----................................
REG construction  time spent:  13.114887237548828
pure dgl.metis_partition the time spent:  20.852431774139404

block_gen_time in "generate_blocks_for_one_layer_block"  5.178442001342773


block_gen_time in "generate_blocks_for_one_layer_block"  17.481606006622314

connection checking time:  24.523125410079956
block generation total time  22.660048007965088
generate_dataloader_block spend   85.2127845287323
pure train time  4.56840705871582
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.4140625 GB
    Memory Allocated: 0.22532939910888672  GigaBytes
Max Memory Allocated: 7.412300109863281  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.305482864379883
loading full batch data spends  0.9369614124298096
REG start----................................
Convert a graph into a bidirected graph: 3.157 seconds, peak memory: 83.148 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 83.148 GB
Metis partitioning: 16.522 seconds, peak memory: 84.325 GB
Split the graph: 0.880 seconds
Construct subgraphs: 0.726 seconds
REG metis partition end ----................................
REG construction  time spent:  13.272470235824585
pure dgl.metis_partition the time spent:  21.311643600463867

block_gen_time in "generate_blocks_for_one_layer_block"  5.0628132820129395


block_gen_time in "generate_blocks_for_one_layer_block"  17.303739070892334

connection checking time:  24.524597883224487
block generation total time  22.366552352905273
generate_dataloader_block spend   85.69247102737427
pure train time  4.515668630599976
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.4140625 GB
    Memory Allocated: 0.23801183700561523  GigaBytes
Max Memory Allocated: 7.412300109863281  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 4.038418769836426
loading full batch data spends  0.9030303955078125
REG start----................................
Convert a graph into a bidirected graph: 3.084 seconds, peak memory: 85.061 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 85.061 GB
Metis partitioning: 15.904 seconds, peak memory: 85.061 GB
Split the graph: 1.029 seconds
Construct subgraphs: 0.585 seconds
REG metis partition end ----................................
REG construction  time spent:  13.23232388496399
pure dgl.metis_partition the time spent:  20.628174304962158

block_gen_time in "generate_blocks_for_one_layer_block"  5.407654285430908


block_gen_time in "generate_blocks_for_one_layer_block"  17.10769534111023

connection checking time:  24.468507528305054
block generation total time  22.515349626541138
generate_dataloader_block spend   85.00441598892212
pure train time  4.465774297714233
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.4140625 GB
    Memory Allocated: 0.2360076904296875  GigaBytes
Max Memory Allocated: 7.412300109863281  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.803893804550171
loading full batch data spends  0.9096951484680176
REG start----................................
Convert a graph into a bidirected graph: 3.159 seconds, peak memory: 85.061 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 85.061 GB
Metis partitioning: 16.177 seconds, peak memory: 85.061 GB
Split the graph: 1.040 seconds
Construct subgraphs: 0.779 seconds
REG metis partition end ----................................
REG construction  time spent:  13.730026006698608
pure dgl.metis_partition the time spent:  21.181220769882202

block_gen_time in "generate_blocks_for_one_layer_block"  3.583904981613159


block_gen_time in "generate_blocks_for_one_layer_block"  18.70763659477234

connection checking time:  24.210907697677612
block generation total time  22.291541576385498
generate_dataloader_block spend   85.67404341697693
pure train time  4.497867107391357
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.591796875 GB
    Memory Allocated: 0.1915736198425293  GigaBytes
Max Memory Allocated: 7.603667259216309  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6180789470672607
loading full batch data spends  0.928231954574585
REG start----................................
Convert a graph into a bidirected graph: 3.115 seconds, peak memory: 85.061 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 85.061 GB
Metis partitioning: 16.101 seconds, peak memory: 86.056 GB
Split the graph: 0.779 seconds
Construct subgraphs: 0.743 seconds
REG metis partition end ----................................
REG construction  time spent:  13.249104261398315
pure dgl.metis_partition the time spent:  20.764922618865967

block_gen_time in "generate_blocks_for_one_layer_block"  5.051042795181274


block_gen_time in "generate_blocks_for_one_layer_block"  17.307841539382935

connection checking time:  25.096370458602905
block generation total time  22.35888433456421
generate_dataloader_block spend   85.52012038230896
pure train time  4.491024732589722
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.591796875 GB
    Memory Allocated: 0.22381353378295898  GigaBytes
Max Memory Allocated: 7.603667259216309  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.488415002822876
loading full batch data spends  0.9255497455596924
REG start----................................
Convert a graph into a bidirected graph: 3.347 seconds, peak memory: 86.702 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 86.702 GB
Metis partitioning: 16.496 seconds, peak memory: 86.702 GB
Split the graph: 0.878 seconds
Construct subgraphs: 0.764 seconds
REG metis partition end ----................................
REG construction  time spent:  13.436191082000732
pure dgl.metis_partition the time spent:  21.512956142425537

block_gen_time in "generate_blocks_for_one_layer_block"  5.085410118103027


block_gen_time in "generate_blocks_for_one_layer_block"  17.740253925323486

connection checking time:  25.23092555999756
block generation total time  22.825664043426514
generate_dataloader_block spend   87.30611991882324
pure train time  4.673475742340088
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.591796875 GB
    Memory Allocated: 0.25385522842407227  GigaBytes
Max Memory Allocated: 7.603667259216309  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.375363349914551
loading full batch data spends  0.9266800880432129
REG start----................................
Convert a graph into a bidirected graph: 3.155 seconds, peak memory: 86.702 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 86.702 GB
Metis partitioning: 16.486 seconds, peak memory: 86.702 GB
Split the graph: 0.933 seconds
Construct subgraphs: 0.556 seconds
REG metis partition end ----................................
REG construction  time spent:  13.083827495574951
pure dgl.metis_partition the time spent:  21.156166315078735

block_gen_time in "generate_blocks_for_one_layer_block"  3.0047214031219482


block_gen_time in "generate_blocks_for_one_layer_block"  17.057867527008057

connection checking time:  23.91846203804016
block generation total time  20.062588930130005
generate_dataloader_block spend   82.08370804786682
pure train time  4.545769929885864
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.591796875 GB
    Memory Allocated: 0.22978782653808594  GigaBytes
Max Memory Allocated: 7.603667259216309  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.249614953994751
Total (block generation + training)time/epoch 92.07411520821708
pure train time/epoch 4.531596740086873

num_input_list  [5766233, 5789363, 5694548, 5864036, 5625330, 5779780, 5861820, 5846307, 5827964, 5737565]
