main start at this time 1697832915.9128244
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 0.615 seconds, peak memory: 25.669 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 25.669 GB
Metis partitioning: 2.706 seconds, peak memory: 25.847 GB
Split the graph: 2.363 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  2.1245923042297363
pure dgl.metis_partition the time spent:  5.710849761962891

block_gen_time in "generate_blocks_for_one_layer_block"  0.5054531097412109

connection checking time:  0.5602824687957764
block generation total time  0.5054531097412109
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 3.708984375 GB
    Memory Allocated: 1.968142032623291  GigaBytes
Max Memory Allocated: 2.1216254234313965  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 3.708984375 GB
    Memory Allocated: 1.9760241508483887  GigaBytes
Max Memory Allocated: 2.1216254234313965  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.76953125 GB
    Memory Allocated: 2.0288801193237305  GigaBytes
Max Memory Allocated: 2.209085464477539  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.76953125 GB
    Memory Allocated: 2.035661220550537  GigaBytes
Max Memory Allocated: 2.209085464477539  GigaBytes

pure train time  0.5505917072296143
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.76953125 GB
    Memory Allocated: 0.05643749237060547  GigaBytes
Max Memory Allocated: 2.209085464477539  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.838052272796631
REG start----................................
Convert a graph into a bidirected graph: 0.623 seconds, peak memory: 33.081 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 33.081 GB
Metis partitioning: 2.730 seconds, peak memory: 33.272 GB
Split the graph: 2.320 seconds
Construct subgraphs: 0.006 seconds
REG metis partition end ----................................
REG construction  time spent:  2.156867742538452
pure dgl.metis_partition the time spent:  5.687843322753906

block_gen_time in "generate_blocks_for_one_layer_block"  0.48966336250305176

connection checking time:  0.5324363708496094
block generation total time  0.48966336250305176
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.76953125 GB
    Memory Allocated: 1.9608240127563477  GigaBytes
Max Memory Allocated: 2.209085464477539  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.76953125 GB
    Memory Allocated: 1.9681739807128906  GigaBytes
Max Memory Allocated: 2.209085464477539  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.0368618965148926  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.043638229370117  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

pure train time  0.11041975021362305
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 0.0570378303527832  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.764238119125366
REG start----................................
Convert a graph into a bidirected graph: 0.612 seconds, peak memory: 35.708 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 35.708 GB
Metis partitioning: 2.772 seconds, peak memory: 35.937 GB
Split the graph: 2.380 seconds
Construct subgraphs: 0.003 seconds
REG metis partition end ----................................
REG construction  time spent:  2.114297866821289
pure dgl.metis_partition the time spent:  5.775218725204468

block_gen_time in "generate_blocks_for_one_layer_block"  0.4917593002319336

connection checking time:  0.550757884979248
block generation total time  0.4917593002319336
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.0132665634155273  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.020186424255371  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.0010695457458496  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.007988929748535  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

pure train time  0.10938668251037598
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 0.056304931640625  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.693819999694824
loading full batch data spends  0.02859640121459961
REG start----................................
Convert a graph into a bidirected graph: 0.641 seconds, peak memory: 38.604 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 38.604 GB
Metis partitioning: 2.758 seconds, peak memory: 38.815 GB
Split the graph: 2.292 seconds
Construct subgraphs: 0.007 seconds
REG metis partition end ----................................
REG construction  time spent:  2.2437264919281006
pure dgl.metis_partition the time spent:  5.712353467941284

block_gen_time in "generate_blocks_for_one_layer_block"  0.5042102336883545

connection checking time:  0.5681524276733398
block generation total time  0.5042102336883545
generate_dataloader_block spend   9.484827041625977
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.022214412689209  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.0291318893432617  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 1.9889979362487793  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 1.995985507965088  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

pure train time  0.10581278800964355
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 0.05620718002319336  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6254489421844482
loading full batch data spends  0.042928457260131836
REG start----................................
Convert a graph into a bidirected graph: 0.627 seconds, peak memory: 41.263 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 41.263 GB
Metis partitioning: 2.778 seconds, peak memory: 41.498 GB
Split the graph: 2.438 seconds
Construct subgraphs: 0.003 seconds
REG metis partition end ----................................
REG construction  time spent:  2.2168211936950684
pure dgl.metis_partition the time spent:  5.854582071304321

block_gen_time in "generate_blocks_for_one_layer_block"  0.5044426918029785

connection checking time:  0.5577671527862549
block generation total time  0.5044426918029785
generate_dataloader_block spend   9.580817222595215
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.025460720062256  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.03239107131958  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 1.9803876876831055  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 1.9873313903808594  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

pure train time  0.09698033332824707
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 0.0558629035949707  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.5577797889709473
loading full batch data spends  0.021754026412963867
REG start----................................
Convert a graph into a bidirected graph: 0.625 seconds, peak memory: 43.899 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 43.899 GB
Metis partitioning: 2.756 seconds, peak memory: 44.122 GB
Split the graph: 2.213 seconds
Construct subgraphs: 0.003 seconds
REG metis partition end ----................................
REG construction  time spent:  2.306750774383545
pure dgl.metis_partition the time spent:  5.605958938598633

block_gen_time in "generate_blocks_for_one_layer_block"  0.4972050189971924

connection checking time:  0.5623502731323242
block generation total time  0.4972050189971924
generate_dataloader_block spend   9.390275001525879
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 1.988267421722412  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 1.9954438209533691  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.003142833709717  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 2.0097618103027344  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

pure train time  0.10479378700256348
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 0.05601978302001953  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.4896960258483887
loading full batch data spends  0.02321624755859375
REG start----................................
Convert a graph into a bidirected graph: 0.616 seconds, peak memory: 46.617 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 46.617 GB
Metis partitioning: 2.731 seconds, peak memory: 46.794 GB
Split the graph: 2.365 seconds
Construct subgraphs: 0.013 seconds
REG metis partition end ----................................
REG construction  time spent:  2.1913583278656006
pure dgl.metis_partition the time spent:  5.733691692352295

block_gen_time in "generate_blocks_for_one_layer_block"  0.4912600517272949

connection checking time:  0.5500779151916504
block generation total time  0.4912600517272949
generate_dataloader_block spend   9.398204565048218
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 1.9444708824157715  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.775390625 GB
    Memory Allocated: 1.9512476921081543  GigaBytes
Max Memory Allocated: 2.214648723602295  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 2.0678367614746094  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 2.074613094329834  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

pure train time  0.08916974067687988
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 0.057836055755615234  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.4209814071655273
loading full batch data spends  0.023222684860229492
REG start----................................
Convert a graph into a bidirected graph: 0.616 seconds, peak memory: 49.486 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 49.486 GB
Metis partitioning: 2.739 seconds, peak memory: 49.674 GB
Split the graph: 2.267 seconds
Construct subgraphs: 0.003 seconds
REG metis partition end ----................................
REG construction  time spent:  2.153564691543579
pure dgl.metis_partition the time spent:  5.633116006851196

block_gen_time in "generate_blocks_for_one_layer_block"  0.48661136627197266

connection checking time:  0.5355410575866699
block generation total time  0.48661136627197266
generate_dataloader_block spend   9.219805240631104
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 1.9822230339050293  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 1.9897637367248535  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 2.014352798461914  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 2.0209789276123047  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

pure train time  0.09690308570861816
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 0.056858062744140625  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.351919651031494
loading full batch data spends  0.018433094024658203
REG start----................................
Convert a graph into a bidirected graph: 0.627 seconds, peak memory: 51.889 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 51.889 GB
Metis partitioning: 2.717 seconds, peak memory: 52.071 GB
Split the graph: 2.245 seconds
Construct subgraphs: 0.003 seconds
REG metis partition end ----................................
REG construction  time spent:  2.1524415016174316
pure dgl.metis_partition the time spent:  5.600395441055298

block_gen_time in "generate_blocks_for_one_layer_block"  0.4712052345275879

connection checking time:  0.5137107372283936
block generation total time  0.4712052345275879
generate_dataloader_block spend   9.124071598052979
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 2.0284714698791504  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 2.0356955528259277  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 1.9705324172973633  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 1.9776091575622559  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

pure train time  0.09933114051818848
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 0.04555463790893555  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.28450870513916
loading full batch data spends  0.017613649368286133
REG start----................................
Convert a graph into a bidirected graph: 0.618 seconds, peak memory: 53.005 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 53.005 GB
Metis partitioning: 2.806 seconds, peak memory: 53.164 GB
Split the graph: 2.445 seconds
Construct subgraphs: 0.005 seconds
REG metis partition end ----................................
REG construction  time spent:  2.1421191692352295
pure dgl.metis_partition the time spent:  5.883108854293823

block_gen_time in "generate_blocks_for_one_layer_block"  0.48711705207824707

connection checking time:  0.549936056137085
block generation total time  0.48711705207824707
generate_dataloader_block spend   9.502223014831543
step  0
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 2.024315357208252  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 2.0312395095825195  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

step  1
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 1.9930391311645508  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 1.999915599822998  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

pure train time  0.10118889808654785
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.904296875 GB
    Memory Allocated: 0.05613374710083008  GigaBytes
Max Memory Allocated: 2.250239372253418  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.223445177078247
Total (block generation + training)time/epoch 9.571080378123693
pure train time/epoch 0.09806116422017415

num_input_list  [158738, 158728, 159200, 160244, 159347, 159727, 158090, 159513, 158789, 160298]
