main start at this time 1689118635.731067
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
loading full batch data spends  0.02102518081665039
REG start----................................
Convert a graph into a bidirected graph: 0.607 seconds, peak memory: 25.663 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 25.663 GB
Metis partitioning: 2.680 seconds, peak memory: 25.840 GB
Split the graph: 2.365 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  2.0934572219848633
pure dgl.metis_partition the time spent:  5.678748846054077
connection checking time:  0.5424859523773193
block generation total time  0.47357630729675293
generate_dataloader_block spend   9.205927848815918
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 3.779296875 GB
    Memory Allocated: 1.9785780906677246  GigaBytes
Max Memory Allocated: 2.13193941116333  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 3.779296875 GB
    Memory Allocated: 1.9863801002502441  GigaBytes
Max Memory Allocated: 2.13193941116333  GigaBytes

----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.7578125 GB
    Memory Allocated: 2.02113676071167  GigaBytes
Max Memory Allocated: 2.1996984481811523  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.7578125 GB
    Memory Allocated: 2.0280680656433105  GigaBytes
Max Memory Allocated: 2.1996984481811523  GigaBytes

pure train time  0.5191411972045898
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.7578125 GB
    Memory Allocated: 0.05645608901977539  GigaBytes
Max Memory Allocated: 2.1996984481811523  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.838052272796631
loading full batch data spends  0.027487754821777344
REG start----................................
Convert a graph into a bidirected graph: 0.594 seconds, peak memory: 33.082 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 33.082 GB
Metis partitioning: 2.668 seconds, peak memory: 33.274 GB
Split the graph: 2.408 seconds
Construct subgraphs: 0.005 seconds
REG metis partition end ----................................
REG construction  time spent:  2.0804617404937744
pure dgl.metis_partition the time spent:  5.682602405548096
connection checking time:  0.5324053764343262
block generation total time  0.46936821937561035
generate_dataloader_block spend   9.158764839172363
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.7578125 GB
    Memory Allocated: 1.9476385116577148  GigaBytes
Max Memory Allocated: 2.1996984481811523  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.7578125 GB
    Memory Allocated: 1.954416275024414  GigaBytes
Max Memory Allocated: 2.1996984481811523  GigaBytes

----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 4.88671875 GB
    Memory Allocated: 2.051708698272705  GigaBytes
Max Memory Allocated: 2.233736515045166  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 4.88671875 GB
    Memory Allocated: 2.0593209266662598  GigaBytes
Max Memory Allocated: 2.233736515045166  GigaBytes

pure train time  0.09788632392883301
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 4.88671875 GB
    Memory Allocated: 0.05827951431274414  GigaBytes
Max Memory Allocated: 2.233736515045166  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.764237880706787
loading full batch data spends  0.02567911148071289
REG start----................................
Convert a graph into a bidirected graph: 0.602 seconds, peak memory: 35.965 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 35.965 GB
Metis partitioning: 2.642 seconds, peak memory: 36.165 GB
Split the graph: 2.229 seconds
Construct subgraphs: 0.008 seconds
REG metis partition end ----................................
REG construction  time spent:  2.0484442710876465
pure dgl.metis_partition the time spent:  5.490628480911255
connection checking time:  0.525435209274292
block generation total time  0.47855520248413086
generate_dataloader_block spend   8.959186553955078
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.079793930053711  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.08695125579834  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.9194879531860352  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.9271035194396973  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

pure train time  0.0903787612915039
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 0.044974327087402344  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6938204765319824
loading full batch data spends  0.016598939895629883
REG start----................................
Convert a graph into a bidirected graph: 0.606 seconds, peak memory: 39.466 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 39.466 GB
Metis partitioning: 2.710 seconds, peak memory: 39.677 GB
Split the graph: 2.299 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  2.1503190994262695
pure dgl.metis_partition the time spent:  5.647662878036499
connection checking time:  0.5345919132232666
block generation total time  0.46502256393432617
generate_dataloader_block spend   9.240704536437988
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.0347485542297363  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.0416669845581055  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.992922306060791  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.00008487701416  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

pure train time  0.09228324890136719
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 0.056256771087646484  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.625448703765869
loading full batch data spends  0.03184056282043457
REG start----................................
Convert a graph into a bidirected graph: 0.616 seconds, peak memory: 42.200 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 42.200 GB
Metis partitioning: 2.729 seconds, peak memory: 42.409 GB
Split the graph: 2.571 seconds
Construct subgraphs: 0.008 seconds
REG metis partition end ----................................
REG construction  time spent:  2.071094274520874
pure dgl.metis_partition the time spent:  5.9351582527160645
connection checking time:  0.527946949005127
block generation total time  0.45746850967407227
generate_dataloader_block spend   9.4378023147583
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.0401954650878906  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.0471267700195312  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.9936060905456543  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.000227928161621  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

pure train time  0.09881329536437988
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 0.05586099624633789  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.5577800273895264
loading full batch data spends  0.027824878692626953
REG start----................................
Convert a graph into a bidirected graph: 0.607 seconds, peak memory: 45.197 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 45.197 GB
Metis partitioning: 2.715 seconds, peak memory: 45.402 GB
Split the graph: 2.197 seconds
Construct subgraphs: 0.008 seconds
REG metis partition end ----................................
REG construction  time spent:  2.114330768585205
pure dgl.metis_partition the time spent:  5.534423589706421
connection checking time:  0.5247352123260498
block generation total time  0.4767892360687256
generate_dataloader_block spend   9.141525506973267
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.9937891960144043  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.001237392425537  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.022946834564209  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.0300846099853516  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

pure train time  0.09351372718811035
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 0.05620384216308594  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.4896960258483887
loading full batch data spends  0.03376364707946777
REG start----................................
Convert a graph into a bidirected graph: 0.602 seconds, peak memory: 47.912 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 47.912 GB
Metis partitioning: 2.733 seconds, peak memory: 48.109 GB
Split the graph: 2.316 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  2.1086041927337646
pure dgl.metis_partition the time spent:  5.680507183074951
connection checking time:  0.5222423076629639
block generation total time  0.4608488082885742
generate_dataloader_block spend   9.230570793151855
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.0384702682495117  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.045593738555908  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.991922378540039  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.9988527297973633  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

pure train time  0.0977480411529541
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 0.05571413040161133  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.420980930328369
loading full batch data spends  0.03340411186218262
REG start----................................
Convert a graph into a bidirected graph: 0.605 seconds, peak memory: 50.643 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 50.643 GB
Metis partitioning: 2.747 seconds, peak memory: 50.843 GB
Split the graph: 2.410 seconds
Construct subgraphs: 0.011 seconds
REG metis partition end ----................................
REG construction  time spent:  2.0911662578582764
pure dgl.metis_partition the time spent:  5.780763149261475
connection checking time:  0.506995677947998
block generation total time  0.4581763744354248
generate_dataloader_block spend   9.283817529678345
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.982961654663086  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.9900951385498047  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.026291847229004  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.0330920219421387  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

pure train time  0.09306907653808594
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 0.056299686431884766  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.3519198894500732
loading full batch data spends  0.029819965362548828
REG start----................................
Convert a graph into a bidirected graph: 0.611 seconds, peak memory: 53.518 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 53.518 GB
Metis partitioning: 2.761 seconds, peak memory: 53.716 GB
Split the graph: 2.426 seconds
Construct subgraphs: 0.006 seconds
REG metis partition end ----................................
REG construction  time spent:  2.019566535949707
pure dgl.metis_partition the time spent:  5.813797950744629
connection checking time:  0.5257086753845215
block generation total time  0.4564199447631836
generate_dataloader_block spend   9.262644290924072
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.9828453063964844  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.9902663230895996  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.0390448570251465  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.046444892883301  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

pure train time  0.0998685359954834
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 0.056641578674316406  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.28450870513916
loading full batch data spends  0.033596038818359375
REG start----................................
Convert a graph into a bidirected graph: 0.628 seconds, peak memory: 54.220 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.220 GB
Metis partitioning: 2.937 seconds, peak memory: 54.220 GB
Split the graph: 2.399 seconds
Construct subgraphs: 0.010 seconds
REG metis partition end ----................................
REG construction  time spent:  2.221348762512207
pure dgl.metis_partition the time spent:  5.983551740646362
connection checking time:  0.47839832305908203
block generation total time  0.4624447822570801
generate_dataloader_block spend   9.577324867248535
----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.98675537109375  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 1.9934711456298828  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after batch_pred = model(blocks, batch_inputs)
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.040192127227783  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------after loss function
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 2.047362804412842  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

pure train time  0.09351181983947754
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.591796875 GB
    Memory Allocated: 0.04700136184692383  GigaBytes
Max Memory Allocated: 2.2632055282592773  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.223444700241089
Total (block generation + training)time/epoch 9.524492502212524
pure train time/epoch 0.09608741601308186

num_input_list  [158881, 157919, 158929, 160239, 159081, 160264, 158277, 159534, 158688, 160090]
