main start at this time 1688923064.266668
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.296 seconds, peak memory: 27.381 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.381 GB
Metis partitioning: 5.448 seconds, peak memory: 27.796 GB
Split the graph: 5.460 seconds
Construct subgraphs: 0.010 seconds
REG metis partition end ----................................
REG construction  time spent:  3.768498420715332
pure dgl.metis_partition the time spent:  12.249744415283203
connection checking time:  1.6416478157043457
block generation total time  1.5849123001098633
average batch blocks generation time:  0.7924561500549316
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.4921875 GB
    Memory Allocated: 0.13498735427856445  GigaBytes
Max Memory Allocated: 19.64652442932129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7441916465759277
Total (block generation + training)time/epoch 22.478336095809937
Training time/epoch 2.48366117477417
Training time without block to device /epoch 2.0100836753845215
Training time without total dataloading part /epoch 1.7270386219024658
load block tensor time/epoch 0.17583823204040527
block to device time/epoch 0.47357749938964844
input features size transfer per epoch 2.682209014892578e-07
blocks size to device per epoch 1.7881393432617188e-07
 Run 0| Epoch 0 |
REG start----................................
Convert a graph into a bidirected graph: 1.314 seconds, peak memory: 53.812 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 53.812 GB
Metis partitioning: 5.443 seconds, peak memory: 53.812 GB
Split the graph: 4.851 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7786622047424316
pure dgl.metis_partition the time spent:  11.648777961730957
connection checking time:  1.6646299362182617
block generation total time  1.6205863952636719
average batch blocks generation time:  0.8102931976318359
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.525390625 GB
    Memory Allocated: 0.1354837417602539  GigaBytes
Max Memory Allocated: 19.64652442932129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.369473695755005
Total (block generation + training)time/epoch 21.683809757232666
Training time/epoch 1.4680068492889404
Training time without block to device /epoch 1.4570021629333496
Training time without total dataloading part /epoch 1.1744771003723145
load block tensor time/epoch 0.17542624473571777
block to device time/epoch 0.01100468635559082
input features size transfer per epoch 2.682209014892578e-07
blocks size to device per epoch 1.7881393432617188e-07
 Run 0| Epoch 1 |
REG start----................................
Convert a graph into a bidirected graph: 1.279 seconds, peak memory: 57.516 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.516 GB
Metis partitioning: 5.388 seconds, peak memory: 57.979 GB
Split the graph: 5.126 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5704410076141357
pure dgl.metis_partition the time spent:  11.831075429916382
connection checking time:  1.6530687808990479
block generation total time  1.5990560054779053
average batch blocks generation time:  0.7995280027389526
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.322265625 GB
    Memory Allocated: 0.11522626876831055  GigaBytes
Max Memory Allocated: 19.64652442932129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.171661376953125
Total (block generation + training)time/epoch 21.41408173243205
Training time/epoch 1.4682996273040771
Training time without block to device /epoch 1.4552569389343262
Training time without total dataloading part /epoch 1.1701056957244873
load block tensor time/epoch 0.19152569770812988
block to device time/epoch 0.013042688369750977
input features size transfer per epoch 2.682209014892578e-07
blocks size to device per epoch 1.7881393432617188e-07
 Run 0| Epoch 2 |
REG start----................................
Convert a graph into a bidirected graph: 1.246 seconds, peak memory: 62.847 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.847 GB
Metis partitioning: 5.757 seconds, peak memory: 63.240 GB
Split the graph: 5.258 seconds
Construct subgraphs: 0.013 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6776211261749268
pure dgl.metis_partition the time spent:  12.29436993598938
connection checking time:  1.6667280197143555
block generation total time  1.59633207321167
average batch blocks generation time:  0.798166036605835
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.08203125 GB
    Memory Allocated: 0.11560678482055664  GigaBytes
Max Memory Allocated: 19.64652442932129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0735998153686523
Total (block generation + training)time/epoch 21.42389267683029
Training time/epoch 1.4409074783325195
Training time without block to device /epoch 1.4317069053649902
Training time without total dataloading part /epoch 1.1484558582305908
load block tensor time/epoch 0.18977856636047363
block to device time/epoch 0.009200572967529297
input features size transfer per epoch 2.682209014892578e-07
blocks size to device per epoch 1.7881393432617188e-07
 Run 0| Epoch 3 |
REG start----................................
Convert a graph into a bidirected graph: 1.346 seconds, peak memory: 66.871 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.871 GB
Metis partitioning: 5.497 seconds, peak memory: 67.336 GB
Split the graph: 5.141 seconds
Construct subgraphs: 0.012 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8747520446777344
pure dgl.metis_partition the time spent:  12.015158891677856
connection checking time:  1.6219055652618408
block generation total time  1.5895540714263916
average batch blocks generation time:  0.7947770357131958
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.04296875 GB
    Memory Allocated: 0.1330275535583496  GigaBytes
Max Memory Allocated: 19.64652442932129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0175576210021973
Total (block generation + training)time/epoch 21.406996631622313
Training time/epoch 1.5131652355194092
Training time without block to device /epoch 1.4995622634887695
Training time without total dataloading part /epoch 1.2141385078430176
load block tensor time/epoch 0.17768621444702148
block to device time/epoch 0.013602972030639648
input features size transfer per epoch 2.682209014892578e-07
blocks size to device per epoch 1.7881393432617188e-07
 Run 0| Epoch 4 |
REG start----................................
Convert a graph into a bidirected graph: 1.318 seconds, peak memory: 68.490 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 68.490 GB
Metis partitioning: 5.389 seconds, peak memory: 68.490 GB
Split the graph: 4.734 seconds
Construct subgraphs: 0.008 seconds
REG metis partition end ----................................
REG construction  time spent:  3.576427936553955
pure dgl.metis_partition the time spent:  11.467704772949219
connection checking time:  1.6592938899993896
block generation total time  1.6117925643920898
average batch blocks generation time:  0.8058962821960449
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.04296875 GB
    Memory Allocated: 0.13511323928833008  GigaBytes
Max Memory Allocated: 19.64652442932129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.941990375518799
Total (block generation + training)time/epoch 21.254804849624634
Training time/epoch 1.4531986713409424
Training time without block to device /epoch 1.4434831142425537
Training time without total dataloading part /epoch 1.1533212661743164
load block tensor time/epoch 0.1830899715423584
block to device time/epoch 0.009715557098388672
input features size transfer per epoch 2.682209014892578e-07
blocks size to device per epoch 1.7881393432617188e-07
 Run 0| Epoch 5 |
REG start----................................
Convert a graph into a bidirected graph: 1.318 seconds, peak memory: 71.095 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.095 GB
Metis partitioning: 5.558 seconds, peak memory: 71.571 GB
Split the graph: 5.104 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7366421222686768
pure dgl.metis_partition the time spent:  12.018189191818237
connection checking time:  1.6287035942077637
block generation total time  1.5862340927124023
average batch blocks generation time:  0.7931170463562012
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.828125 GB
    Memory Allocated: 0.1324319839477539  GigaBytes
Max Memory Allocated: 19.64652442932129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.894247531890869
Total (block generation + training)time/epoch 21.24648298536028
Training time/epoch 1.4515628814697266
Training time without block to device /epoch 1.441662311553955
Training time without total dataloading part /epoch 1.1524899005889893
load block tensor time/epoch 0.18166851997375488
block to device time/epoch 0.009900569915771484
input features size transfer per epoch 2.682209014892578e-07
blocks size to device per epoch 1.7881393432617188e-07
 Run 0| Epoch 6 |
REG start----................................
Convert a graph into a bidirected graph: 1.311 seconds, peak memory: 74.959 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 74.959 GB
Metis partitioning: 5.709 seconds, peak memory: 75.373 GB
Split the graph: 5.280 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.76446795463562
pure dgl.metis_partition the time spent:  12.338077783584595
connection checking time:  1.7613961696624756
block generation total time  1.6185452938079834
average batch blocks generation time:  0.8092726469039917
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.828125 GB
    Memory Allocated: 0.13449716567993164  GigaBytes
Max Memory Allocated: 19.64652442932129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8459248542785645
Total (block generation + training)time/epoch 21.309265911579132
Training time/epoch 1.4731857776641846
Training time without block to device /epoch 1.4576153755187988
Training time without total dataloading part /epoch 1.16237211227417
load block tensor time/epoch 0.18775343894958496
block to device time/epoch 0.015570402145385742
input features size transfer per epoch 2.682209014892578e-07
blocks size to device per epoch 1.7881393432617188e-07
 Run 0| Epoch 7 |
REG start----................................
Convert a graph into a bidirected graph: 1.337 seconds, peak memory: 76.605 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.605 GB
Metis partitioning: 5.589 seconds, peak memory: 76.605 GB
Split the graph: 5.422 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8597302436828613
pure dgl.metis_partition the time spent:  12.388148546218872
connection checking time:  1.6193201541900635
block generation total time  1.612718105316162
average batch blocks generation time:  0.806359052658081
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.619140625 GB
    Memory Allocated: 0.1354389190673828  GigaBytes
Max Memory Allocated: 19.64652442932129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7747926712036133
Total (block generation + training)time/epoch 21.3511577712165
Training time/epoch 1.456735610961914
Training time without block to device /epoch 1.436828374862671
Training time without total dataloading part /epoch 1.1525804996490479
load block tensor time/epoch 0.1755201816558838
block to device time/epoch 0.019907236099243164
input features size transfer per epoch 2.682209014892578e-07
blocks size to device per epoch 1.7881393432617188e-07
 Run 0| Epoch 8 |
REG start----................................
Convert a graph into a bidirected graph: 1.324 seconds, peak memory: 76.680 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.680 GB
Metis partitioning: 5.618 seconds, peak memory: 76.680 GB
Split the graph: 5.309 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7960286140441895
pure dgl.metis_partition the time spent:  12.29215955734253
connection checking time:  1.706974983215332
block generation total time  1.6252899169921875
average batch blocks generation time:  0.8126449584960938
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.619140625 GB
    Memory Allocated: 0.13434886932373047  GigaBytes
Max Memory Allocated: 19.64652442932129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.6979966163635254
Total (block generation + training)time/epoch 21.38004081249237
Training time/epoch 1.4680712223052979
Training time without block to device /epoch 1.4549891948699951
Training time without total dataloading part /epoch 1.1669280529022217
load block tensor time/epoch 0.18041706085205078
block to device time/epoch 0.013082027435302734
input features size transfer per epoch 2.682209014892578e-07
blocks size to device per epoch 1.7881393432617188e-07
 Run 0| Epoch 9 |
