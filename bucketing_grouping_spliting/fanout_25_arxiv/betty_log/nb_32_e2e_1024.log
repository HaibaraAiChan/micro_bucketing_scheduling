main start at this time 1690865004.555413
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.298 seconds, peak memory: 27.373 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.373 GB
Metis partitioning: 6.007 seconds, peak memory: 27.982 GB
Split the graph: 0.606 seconds
Construct subgraphs: 0.090 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6366586685180664
pure dgl.metis_partition the time spent:  8.017154455184937
connection checking time:  3.259495258331299
block generation total time  2.732802629470825
pure train time  7.890982151031494
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 5.7890625 GB
    Memory Allocated: 0.17525482177734375  GigaBytes
Max Memory Allocated: 3.5788636207580566  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7752625942230225
REG start----................................
Convert a graph into a bidirected graph: 1.281 seconds, peak memory: 44.642 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 44.642 GB
Metis partitioning: 6.106 seconds, peak memory: 45.203 GB
Split the graph: 0.643 seconds
Construct subgraphs: 0.099 seconds
REG metis partition end ----................................
REG construction  time spent:  3.662233591079712
pure dgl.metis_partition the time spent:  8.14527153968811
connection checking time:  3.2574424743652344
block generation total time  2.7067415714263916
pure train time  7.476696729660034
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.2421875 GB
    Memory Allocated: 0.17644119262695312  GigaBytes
Max Memory Allocated: 3.755466938018799  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.191716432571411
REG start----................................
Convert a graph into a bidirected graph: 1.321 seconds, peak memory: 54.961 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.961 GB
Metis partitioning: 6.240 seconds, peak memory: 55.514 GB
Split the graph: 1.044 seconds
Construct subgraphs: 0.106 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6587729454040527
pure dgl.metis_partition the time spent:  8.726978540420532
connection checking time:  2.625756025314331
block generation total time  2.7262074947357178
pure train time  7.490487098693848
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.716796875 GB
    Memory Allocated: 0.1747727394104004  GigaBytes
Max Memory Allocated: 3.755466938018799  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.608825206756592
loading full batch data spends  0.12481832504272461
REG start----................................
Convert a graph into a bidirected graph: 1.307 seconds, peak memory: 56.081 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.081 GB
Metis partitioning: 6.171 seconds, peak memory: 56.910 GB
Split the graph: 0.763 seconds
Construct subgraphs: 0.213 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9460089206695557
pure dgl.metis_partition the time spent:  8.47016453742981
connection checking time:  3.2391536235809326
block generation total time  2.7836849689483643
generate_dataloader_block spend   19.080687522888184
pure train time  7.442216873168945
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.173828125 GB
    Memory Allocated: 0.1678471565246582  GigaBytes
Max Memory Allocated: 4.036921501159668  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.080984592437744
loading full batch data spends  0.13664627075195312
REG start----................................
Convert a graph into a bidirected graph: 1.332 seconds, peak memory: 56.910 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.910 GB
Metis partitioning: 6.430 seconds, peak memory: 57.197 GB
Split the graph: 0.833 seconds
Construct subgraphs: 0.153 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8840746879577637
pure dgl.metis_partition the time spent:  8.764594554901123
connection checking time:  3.2504851818084717
block generation total time  2.7044432163238525
generate_dataloader_block spend   19.22761058807373
pure train time  7.5039591789245605
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.173828125 GB
    Memory Allocated: 0.16344738006591797  GigaBytes
Max Memory Allocated: 4.036921501159668  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0667364597320557
loading full batch data spends  0.1030280590057373
REG start----................................
Convert a graph into a bidirected graph: 1.314 seconds, peak memory: 57.197 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.197 GB
Metis partitioning: 6.677 seconds, peak memory: 57.345 GB
Split the graph: 0.645 seconds
Construct subgraphs: 0.121 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9049549102783203
pure dgl.metis_partition the time spent:  8.773591041564941
connection checking time:  3.2089016437530518
block generation total time  2.7220327854156494
generate_dataloader_block spend   19.247320652008057
pure train time  7.475137948989868
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.18359375 GB
    Memory Allocated: 0.1772313117980957  GigaBytes
Max Memory Allocated: 4.036921501159668  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0668492317199707
loading full batch data spends  0.09866547584533691
REG start----................................
Convert a graph into a bidirected graph: 1.417 seconds, peak memory: 57.345 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.345 GB
Metis partitioning: 6.521 seconds, peak memory: 57.345 GB
Split the graph: 1.056 seconds
Construct subgraphs: 0.154 seconds
REG metis partition end ----................................
REG construction  time spent:  4.043826103210449
pure dgl.metis_partition the time spent:  9.163409948348999
connection checking time:  3.2122550010681152
block generation total time  2.7423288822174072
generate_dataloader_block spend   19.83507466316223
pure train time  7.510409116744995
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.703125 GB
    Memory Allocated: 0.15874052047729492  GigaBytes
Max Memory Allocated: 4.159482002258301  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.02834415435791
loading full batch data spends  0.12578964233398438
REG start----................................
Convert a graph into a bidirected graph: 1.309 seconds, peak memory: 57.345 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.345 GB
Metis partitioning: 6.420 seconds, peak memory: 57.748 GB
Split the graph: 1.151 seconds
Construct subgraphs: 0.113 seconds
REG metis partition end ----................................
REG construction  time spent:  3.902398109436035
pure dgl.metis_partition the time spent:  9.013686895370483
connection checking time:  3.14925217628479
block generation total time  2.678591251373291
generate_dataloader_block spend   19.368560314178467
pure train time  7.4849324226379395
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.703125 GB
    Memory Allocated: 0.1728506088256836  GigaBytes
Max Memory Allocated: 4.159482002258301  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.959240674972534
loading full batch data spends  0.1236579418182373
REG start----................................
Convert a graph into a bidirected graph: 1.352 seconds, peak memory: 57.748 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.748 GB
Metis partitioning: 6.778 seconds, peak memory: 57.753 GB
Split the graph: 0.814 seconds
Construct subgraphs: 0.150 seconds
REG metis partition end ----................................
REG construction  time spent:  3.921217441558838
pure dgl.metis_partition the time spent:  9.109394311904907
connection checking time:  2.83990216255188
block generation total time  2.7545511722564697
generate_dataloader_block spend   19.21406626701355
pure train time  7.5060834884643555
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.705078125 GB
    Memory Allocated: 0.1737060546875  GigaBytes
Max Memory Allocated: 4.159482002258301  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.867715835571289
loading full batch data spends  0.1131739616394043
REG start----................................
Convert a graph into a bidirected graph: 1.347 seconds, peak memory: 57.753 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.753 GB
Metis partitioning: 6.616 seconds, peak memory: 57.917 GB
Split the graph: 0.984 seconds
Construct subgraphs: 0.138 seconds
REG metis partition end ----................................
REG construction  time spent:  3.97501277923584
pure dgl.metis_partition the time spent:  9.099785566329956
connection checking time:  2.788461446762085
block generation total time  2.744002103805542
generate_dataloader_block spend   19.1992084980011
pure train time  7.5065813064575195
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 7.705078125 GB
    Memory Allocated: 0.16864490509033203  GigaBytes
Max Memory Allocated: 4.159482002258301  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7676401138305664
Total (block generation + training)time/epoch 28.230760983058385
pure train time/epoch 7.49785057703654

num_input_list  [808870, 791279, 807870, 814159, 791272, 802404, 796465, 779812, 798807, 806871]
