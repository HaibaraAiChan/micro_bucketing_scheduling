main start at this time 1691288260.9446647
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.035 seconds, peak memory: 23.999 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.999 GB
Metis partitioning: 0.145 seconds, peak memory: 24.020 GB
Split the graph: 0.072 seconds
Construct subgraphs: 0.007 seconds
18192
18189
18193
18155
18212
The batched output nid list before graph partition
connection checking time:  3.6679742336273193
block generation total time  3.35185170173645
pure train time  4.224449157714844
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.138671875 GB
    Memory Allocated: 0.2288360595703125  GigaBytes
Max Memory Allocated: 15.120283603668213  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.775481700897217
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 57.176 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 57.176 GB
Metis partitioning: 0.139 seconds, peak memory: 57.176 GB
Split the graph: 0.069 seconds
Construct subgraphs: 0.005 seconds
18192
18189
18193
18155
18212
The batched output nid list before graph partition
connection checking time:  3.5449349880218506
block generation total time  3.2717654705047607
pure train time  3.802948474884033
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.4453125 GB
    Memory Allocated: 0.22916555404663086  GigaBytes
Max Memory Allocated: 15.25542688369751  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1906256675720215
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 69.316 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.316 GB
Metis partitioning: 0.154 seconds, peak memory: 69.316 GB
Split the graph: 0.070 seconds
Construct subgraphs: 0.003 seconds
18192
18189
18193
18155
18212
The batched output nid list before graph partition
connection checking time:  2.3597257137298584
block generation total time  2.9191644191741943
pure train time  3.8195087909698486
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.4453125 GB
    Memory Allocated: 0.22986459732055664  GigaBytes
Max Memory Allocated: 15.25542688369751  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6094348430633545
loading full batch data spends  0.0538175106048584
Convert a graph into a bidirected graph: 0.013 seconds, peak memory: 69.339 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.339 GB
Metis partitioning: 0.140 seconds, peak memory: 69.339 GB
Split the graph: 0.070 seconds
Construct subgraphs: 0.011 seconds
18192
18189
18193
18155
18212
The batched output nid list before graph partition
connection checking time:  3.5575664043426514
block generation total time  3.271737575531006
generate_dataloader_block spend   7.440515995025635
pure train time  3.8138887882232666
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.447265625 GB
    Memory Allocated: 0.22896385192871094  GigaBytes
Max Memory Allocated: 15.25542688369751  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0817947387695312
loading full batch data spends  0.05166196823120117
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 69.357 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.357 GB
Metis partitioning: 0.145 seconds, peak memory: 69.357 GB
Split the graph: 0.067 seconds
Construct subgraphs: 0.005 seconds
18192
18189
18193
18155
18212
The batched output nid list before graph partition
connection checking time:  3.7138047218322754
block generation total time  3.35992169380188
generate_dataloader_block spend   7.703676462173462
pure train time  3.8419551849365234
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.447265625 GB
    Memory Allocated: 0.23039484024047852  GigaBytes
Max Memory Allocated: 15.25542688369751  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0680084228515625
Total (block generation + training)time/epoch 12.315223217010498
pure train time/epoch 3.8419551849365234

mean number of num_input_list  686702.0
