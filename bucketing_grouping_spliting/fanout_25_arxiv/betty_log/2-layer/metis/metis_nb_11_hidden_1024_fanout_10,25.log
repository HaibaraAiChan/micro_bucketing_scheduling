main start at this time 1691288756.9353771
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.036 seconds, peak memory: 23.999 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.999 GB
Metis partitioning: 0.158 seconds, peak memory: 24.021 GB
Split the graph: 0.055 seconds
Construct subgraphs: 0.019 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  4.997805595397949
block generation total time  4.267512083053589
pure train time  5.154152870178223
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 10.91796875 GB
    Memory Allocated: 0.21295738220214844  GigaBytes
Max Memory Allocated: 7.854618549346924  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7758030891418457
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 44.813 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 44.813 GB
Metis partitioning: 0.154 seconds, peak memory: 44.813 GB
Split the graph: 0.042 seconds
Construct subgraphs: 0.006 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  4.869693756103516
block generation total time  4.368241548538208
pure train time  4.777021884918213
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.708984375 GB
    Memory Allocated: 0.21323060989379883  GigaBytes
Max Memory Allocated: 7.995962619781494  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1901748180389404
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 54.470 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.470 GB
Metis partitioning: 0.161 seconds, peak memory: 54.470 GB
Split the graph: 0.039 seconds
Construct subgraphs: 0.005 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  5.114800214767456
block generation total time  4.393611192703247
pure train time  4.751568794250488
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.7109375 GB
    Memory Allocated: 0.21374988555908203  GigaBytes
Max Memory Allocated: 7.995962619781494  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6088685989379883
loading full batch data spends  0.07741427421569824
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 59.402 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.402 GB
Metis partitioning: 0.162 seconds, peak memory: 59.402 GB
Split the graph: 0.057 seconds
Construct subgraphs: 0.008 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  5.045209169387817
block generation total time  4.329327821731567
generate_dataloader_block spend   10.02570652961731
pure train time  4.766979217529297
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.5078125 GB
    Memory Allocated: 0.21337032318115234  GigaBytes
Max Memory Allocated: 8.017609119415283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0808024406433105
loading full batch data spends  0.07479357719421387
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 60.246 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.246 GB
Metis partitioning: 0.173 seconds, peak memory: 60.246 GB
Split the graph: 0.056 seconds
Construct subgraphs: 0.013 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  4.992106914520264
block generation total time  4.335975170135498
generate_dataloader_block spend   9.995051145553589
pure train time  4.772042989730835
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.5078125 GB
    Memory Allocated: 0.2132120132446289  GigaBytes
Max Memory Allocated: 8.017609119415283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0680840015411377
Total (block generation + training)time/epoch 16.007189750671387
pure train time/epoch 4.772042989730835

mean number of num_input_list  1228946.0
