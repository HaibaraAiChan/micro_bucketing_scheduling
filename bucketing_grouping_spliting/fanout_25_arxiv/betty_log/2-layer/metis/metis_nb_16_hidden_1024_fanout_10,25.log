main start at this time 1693078111.1047795
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.038 seconds, peak memory: 24.001 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 24.001 GB
Metis partitioning: 0.159 seconds, peak memory: 24.025 GB
Split the graph: 0.048 seconds
Construct subgraphs: 0.025 seconds
5681
5687
5683
5686
5684
5681
5684
5689
5684
5684
5690
5676
5701
5676
5683
5672
metis partition spend time  0.2803215980529785
The batched output nid list before graph partition
connection checking time:  5.835169076919556
block generation total time  5.013145685195923
pure train time  5.8936989307403564
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.130859375 GB
    Memory Allocated: 0.20490646362304688  GigaBytes
Max Memory Allocated: 5.711555480957031  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7772467136383057
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 46.617 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 46.617 GB
Metis partitioning: 0.159 seconds, peak memory: 46.617 GB
Split the graph: 0.049 seconds
Construct subgraphs: 0.016 seconds
5681
5687
5683
5686
5684
5681
5684
5689
5684
5684
5690
5676
5701
5676
5683
5672
metis partition spend time  0.24851465225219727
The batched output nid list before graph partition
connection checking time:  5.756355047225952
block generation total time  4.954310178756714
pure train time  5.459086656570435
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.822265625 GB
    Memory Allocated: 0.20380258560180664  GigaBytes
Max Memory Allocated: 5.808060646057129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1911191940307617
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 55.525 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.525 GB
Metis partitioning: 0.169 seconds, peak memory: 55.532 GB
Split the graph: 0.090 seconds
Construct subgraphs: 0.030 seconds
5681
5687
5683
5686
5684
5681
5684
5689
5684
5684
5690
5676
5701
5676
5683
5672
metis partition spend time  0.31467461585998535
The batched output nid list before graph partition
connection checking time:  5.697644472122192
block generation total time  4.808820724487305
pure train time  5.445972204208374
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.822265625 GB
    Memory Allocated: 0.20363330841064453  GigaBytes
Max Memory Allocated: 5.808060646057129  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.610135316848755
loading full batch data spends  0.09141230583190918
Convert a graph into a bidirected graph: 0.020 seconds, peak memory: 55.583 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.583 GB
Metis partitioning: 0.181 seconds, peak memory: 55.583 GB
Split the graph: 0.076 seconds
Construct subgraphs: 0.013 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition spend time  0.29570627212524414
The batched output nid list before graph partition
connection checking time:  4.813679218292236
block generation total time  4.5551557540893555
generate_dataloader_block spend   10.01275086402893
pure train time  5.438985109329224
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.37890625 GB
    Memory Allocated: 0.20355224609375  GigaBytes
Max Memory Allocated: 5.860388278961182  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0817694664001465
loading full batch data spends  0.08677220344543457
Convert a graph into a bidirected graph: 0.020 seconds, peak memory: 56.145 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.145 GB
Metis partitioning: 0.171 seconds, peak memory: 56.145 GB
Split the graph: 0.145 seconds
Construct subgraphs: 0.033 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition spend time  0.3785746097564697
The batched output nid list before graph partition
connection checking time:  5.868598461151123
block generation total time  4.896860599517822
generate_dataloader_block spend   11.547902584075928
pure train time  5.4565441608428955
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.37890625 GB
    Memory Allocated: 0.20435857772827148  GigaBytes
Max Memory Allocated: 5.860388278961182  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0671825408935547
loading full batch data spends  0.0873267650604248
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 56.158 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.158 GB
Metis partitioning: 0.169 seconds, peak memory: 56.158 GB
Split the graph: 0.071 seconds
Construct subgraphs: 0.029 seconds
5681
5687
5683
5686
5684
5681
5684
5689
5684
5684
5690
5676
5701
5676
5683
5672
metis partition spend time  0.297168493270874
The batched output nid list before graph partition
connection checking time:  5.772693395614624
block generation total time  2.9893457889556885
generate_dataloader_block spend   9.454373359680176
pure train time  5.327795743942261
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.37890625 GB
    Memory Allocated: 0.20399808883666992  GigaBytes
Max Memory Allocated: 5.860388278961182  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0667996406555176
loading full batch data spends  0.08482098579406738
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 56.158 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.158 GB
Metis partitioning: 0.162 seconds, peak memory: 56.158 GB
Split the graph: 0.102 seconds
Construct subgraphs: 0.024 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition spend time  0.3132941722869873
The batched output nid list before graph partition
connection checking time:  3.9111106395721436
block generation total time  5.039257764816284
generate_dataloader_block spend   9.588921785354614
pure train time  5.464276313781738
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.37890625 GB
    Memory Allocated: 0.20395994186401367  GigaBytes
Max Memory Allocated: 5.860388278961182  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0299768447875977
loading full batch data spends  0.08413505554199219
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 56.185 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.185 GB
Metis partitioning: 0.168 seconds, peak memory: 56.185 GB
Split the graph: 0.069 seconds
Construct subgraphs: 0.032 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition spend time  0.29569506645202637
The batched output nid list before graph partition
connection checking time:  3.1988019943237305
block generation total time  2.546313524246216
generate_dataloader_block spend   6.356612205505371
pure train time  5.378589868545532
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.37890625 GB
    Memory Allocated: 0.20436477661132812  GigaBytes
Max Memory Allocated: 5.860388278961182  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.959855794906616
loading full batch data spends  0.08398699760437012
Convert a graph into a bidirected graph: 0.021 seconds, peak memory: 56.185 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.185 GB
Metis partitioning: 0.170 seconds, peak memory: 56.185 GB
Split the graph: 0.074 seconds
Construct subgraphs: 0.012 seconds
5681
5687
5683
5686
5684
5681
5684
5689
5684
5684
5690
5676
5701
5676
5683
5672
metis partition spend time  0.28275465965270996
The batched output nid list before graph partition
connection checking time:  5.784634828567505
block generation total time  4.880245208740234
generate_dataloader_block spend   11.294097900390625
pure train time  5.418758869171143
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.37890625 GB
    Memory Allocated: 0.20436763763427734  GigaBytes
Max Memory Allocated: 5.860388278961182  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8693227767944336
loading full batch data spends  0.08338451385498047
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 56.185 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.185 GB
Metis partitioning: 0.170 seconds, peak memory: 56.185 GB
Split the graph: 0.089 seconds
Construct subgraphs: 0.030 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
metis partition spend time  0.31482672691345215
The batched output nid list before graph partition
connection checking time:  5.67765736579895
block generation total time  4.82014536857605
generate_dataloader_block spend   11.206531763076782
pure train time  5.4180543422698975
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.37890625 GB
    Memory Allocated: 0.2050037384033203  GigaBytes
Max Memory Allocated: 5.860388278961182  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.768897771835327
Total (block generation + training)time/epoch 16.708206789834158
pure train time/epoch 5.410669883092244

mean number of num_input_list  1559486.4
