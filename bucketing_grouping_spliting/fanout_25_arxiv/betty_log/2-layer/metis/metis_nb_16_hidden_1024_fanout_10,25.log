main start at this time 1691288945.5655994
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.037 seconds, peak memory: 23.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.998 GB
Metis partitioning: 0.162 seconds, peak memory: 24.025 GB
Split the graph: 0.051 seconds
Construct subgraphs: 0.022 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
The batched output nid list before graph partition
connection checking time:  5.761955499649048
block generation total time  4.757076978683472
pure train time  5.862393140792847
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 8.380859375 GB
    Memory Allocated: 0.204559326171875  GigaBytes
Max Memory Allocated: 5.703920364379883  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7766921520233154
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 46.747 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 46.747 GB
Metis partitioning: 0.162 seconds, peak memory: 46.747 GB
Split the graph: 0.049 seconds
Construct subgraphs: 0.010 seconds
5681
5687
5683
5686
5684
5681
5684
5689
5684
5684
5690
5676
5701
5676
5683
5672
The batched output nid list before graph partition
connection checking time:  4.992447137832642
block generation total time  4.911222457885742
pure train time  5.397136449813843
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.10546875 GB
    Memory Allocated: 0.20380544662475586  GigaBytes
Max Memory Allocated: 5.812884330749512  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1927623748779297
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 55.877 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.877 GB
Metis partitioning: 0.169 seconds, peak memory: 55.877 GB
Split the graph: 0.065 seconds
Construct subgraphs: 0.015 seconds
5684
5683
5683
5681
5685
5682
5683
5684
5683
5674
5704
5666
5690
5689
5685
5685
The batched output nid list before graph partition
connection checking time:  5.431674480438232
block generation total time  4.884338617324829
pure train time  5.441225051879883
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.10546875 GB
    Memory Allocated: 0.20484352111816406  GigaBytes
Max Memory Allocated: 5.812884330749512  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.60966420173645
loading full batch data spends  0.0824124813079834
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 55.927 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.927 GB
Metis partitioning: 0.169 seconds, peak memory: 55.927 GB
Split the graph: 0.071 seconds
Construct subgraphs: 0.030 seconds
5681
5687
5683
5686
5684
5681
5684
5689
5684
5684
5690
5676
5701
5676
5683
5672
The batched output nid list before graph partition
connection checking time:  5.777724027633667
block generation total time  4.820730924606323
generate_dataloader_block spend   11.34562349319458
pure train time  5.452212810516357
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.10546875 GB
    Memory Allocated: 0.20484161376953125  GigaBytes
Max Memory Allocated: 5.812884330749512  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0806589126586914
loading full batch data spends  0.08500289916992188
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 55.927 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.927 GB
Metis partitioning: 0.161 seconds, peak memory: 55.927 GB
Split the graph: 0.094 seconds
Construct subgraphs: 0.018 seconds
5681
5687
5683
5686
5684
5681
5684
5689
5684
5684
5690
5676
5701
5676
5683
5672
The batched output nid list before graph partition
connection checking time:  5.527528285980225
block generation total time  4.834064483642578
generate_dataloader_block spend   10.963157653808594
pure train time  5.461313724517822
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 9.10546875 GB
    Memory Allocated: 0.20484495162963867  GigaBytes
Max Memory Allocated: 5.812884330749512  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0670177936553955
Total (block generation + training)time/epoch 17.97536551952362
pure train time/epoch 5.461313724517822

mean number of num_input_list  1560030.8
