main start at this time 1693077937.8793027
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.037 seconds, peak memory: 24.002 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 24.002 GB
Metis partitioning: 0.158 seconds, peak memory: 24.025 GB
Split the graph: 0.049 seconds
Construct subgraphs: 0.020 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition spend time  0.27536869049072266
The batched output nid list before graph partition
connection checking time:  5.150950908660889
block generation total time  4.488551139831543
pure train time  5.295799493789673
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.248046875 GB
    Memory Allocated: 0.21058273315429688  GigaBytes
Max Memory Allocated: 7.291525363922119  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7756142616271973
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 45.974 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 45.974 GB
Metis partitioning: 0.160 seconds, peak memory: 45.974 GB
Split the graph: 0.059 seconds
Construct subgraphs: 0.022 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition spend time  0.26864147186279297
The batched output nid list before graph partition
connection checking time:  5.1543354988098145
block generation total time  4.4586522579193115
pure train time  4.849584579467773
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.248046875 GB
    Memory Allocated: 0.20960474014282227  GigaBytes
Max Memory Allocated: 7.346175193786621  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1905412673950195
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 55.682 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 55.682 GB
Metis partitioning: 0.171 seconds, peak memory: 55.682 GB
Split the graph: 0.044 seconds
Construct subgraphs: 0.006 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition spend time  0.24833965301513672
The batched output nid list before graph partition
connection checking time:  5.142022609710693
block generation total time  4.525054454803467
pure train time  4.896260499954224
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.248046875 GB
    Memory Allocated: 0.20963811874389648  GigaBytes
Max Memory Allocated: 7.388826370239258  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6033902168273926
loading full batch data spends  0.0803382396697998
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 58.467 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.467 GB
Metis partitioning: 0.172 seconds, peak memory: 58.467 GB
Split the graph: 0.095 seconds
Construct subgraphs: 0.014 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition spend time  0.3143470287322998
The batched output nid list before graph partition
connection checking time:  5.199554681777954
block generation total time  4.664570569992065
generate_dataloader_block spend   10.58746886253357
pure train time  4.864042520523071
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.974609375 GB
    Memory Allocated: 0.20978784561157227  GigaBytes
Max Memory Allocated: 7.388826370239258  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.081075429916382
loading full batch data spends  0.08620619773864746
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 59.174 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.174 GB
Metis partitioning: 0.180 seconds, peak memory: 59.174 GB
Split the graph: 0.051 seconds
Construct subgraphs: 0.006 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition spend time  0.26039862632751465
The batched output nid list before graph partition
connection checking time:  4.550839424133301
block generation total time  4.436399221420288
generate_dataloader_block spend   9.561944484710693
pure train time  4.867419719696045
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.974609375 GB
    Memory Allocated: 0.21012449264526367  GigaBytes
Max Memory Allocated: 7.392453193664551  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0676002502441406
loading full batch data spends  0.07773184776306152
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 59.208 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.208 GB
Metis partitioning: 0.179 seconds, peak memory: 59.208 GB
Split the graph: 0.047 seconds
Construct subgraphs: 0.007 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition spend time  0.26062583923339844
The batched output nid list before graph partition
connection checking time:  5.295744895935059
block generation total time  4.786077976226807
generate_dataloader_block spend   10.734336376190186
pure train time  4.867775201797485
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.99609375 GB
    Memory Allocated: 0.2100982666015625  GigaBytes
Max Memory Allocated: 7.414999008178711  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0659022331237793
loading full batch data spends  0.07864975929260254
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 59.208 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.208 GB
Metis partitioning: 0.172 seconds, peak memory: 59.208 GB
Split the graph: 0.056 seconds
Construct subgraphs: 0.007 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition spend time  0.2616233825683594
The batched output nid list before graph partition
connection checking time:  4.915412187576294
block generation total time  4.738910913467407
generate_dataloader_block spend   10.24375605583191
pure train time  4.898587465286255
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.99609375 GB
    Memory Allocated: 0.21013498306274414  GigaBytes
Max Memory Allocated: 7.414999008178711  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0284109115600586
loading full batch data spends  0.07800745964050293
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 59.211 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.211 GB
Metis partitioning: 0.167 seconds, peak memory: 59.211 GB
Split the graph: 0.051 seconds
Construct subgraphs: 0.005 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition spend time  0.24827909469604492
The batched output nid list before graph partition
connection checking time:  3.007411003112793
block generation total time  2.595454692840576
generate_dataloader_block spend   6.167123794555664
pure train time  4.884252071380615
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.99609375 GB
    Memory Allocated: 0.2102212905883789  GigaBytes
Max Memory Allocated: 7.431338787078857  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.9586825370788574
loading full batch data spends  0.05729961395263672
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 59.227 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.227 GB
Metis partitioning: 0.164 seconds, peak memory: 59.227 GB
Split the graph: 0.083 seconds
Construct subgraphs: 0.014 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition spend time  0.2919163703918457
The batched output nid list before graph partition
connection checking time:  5.351807594299316
block generation total time  4.599846124649048
generate_dataloader_block spend   10.639812231063843
pure train time  4.885990381240845
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.99609375 GB
    Memory Allocated: 0.21015691757202148  GigaBytes
Max Memory Allocated: 7.431338787078857  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8684167861938477
loading full batch data spends  0.07161831855773926
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 59.227 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.227 GB
Metis partitioning: 0.166 seconds, peak memory: 59.227 GB
Split the graph: 0.054 seconds
Construct subgraphs: 0.005 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
metis partition spend time  0.24803590774536133
The batched output nid list before graph partition
connection checking time:  4.6957104206085205
block generation total time  4.367554426193237
generate_dataloader_block spend   9.630677223205566
pure train time  4.916831731796265
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.99609375 GB
    Memory Allocated: 0.21008634567260742  GigaBytes
Max Memory Allocated: 7.431338787078857  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.768047571182251
Total (block generation + training)time/epoch 15.78333728654044
pure train time/epoch 4.886809428532918

mean number of num_input_list  1301917.8
