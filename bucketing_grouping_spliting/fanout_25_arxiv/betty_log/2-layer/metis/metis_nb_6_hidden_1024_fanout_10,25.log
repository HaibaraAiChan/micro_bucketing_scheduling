main start at this time 1691288334.153924
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.038 seconds, peak memory: 24.061 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 24.061 GB
Metis partitioning: 0.148 seconds, peak memory: 24.091 GB
Split the graph: 0.056 seconds
Construct subgraphs: 0.004 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.9997401237487793
block generation total time  3.5476326942443848
pure train time  4.398559093475342
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.33984375 GB
    Memory Allocated: 0.22483539581298828  GigaBytes
Max Memory Allocated: 13.058993339538574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7763924598693848
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 60.778 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.778 GB
Metis partitioning: 0.144 seconds, peak memory: 60.778 GB
Split the graph: 0.058 seconds
Construct subgraphs: 0.015 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.9150288105010986
block generation total time  3.510352849960327
pure train time  3.982434034347534
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.3828125 GB
    Memory Allocated: 0.22482681274414062  GigaBytes
Max Memory Allocated: 13.166175365447998  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1909584999084473
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 67.991 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 67.991 GB
Metis partitioning: 0.154 seconds, peak memory: 67.991 GB
Split the graph: 0.060 seconds
Construct subgraphs: 0.004 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.9020001888275146
block generation total time  3.6207759380340576
pure train time  4.0042712688446045
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.3828125 GB
    Memory Allocated: 0.22498083114624023  GigaBytes
Max Memory Allocated: 13.166175365447998  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6141247749328613
loading full batch data spends  0.06948399543762207
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 68.020 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 68.020 GB
Metis partitioning: 0.156 seconds, peak memory: 68.020 GB
Split the graph: 0.059 seconds
Construct subgraphs: 0.004 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.9525339603424072
block generation total time  3.6606955528259277
generate_dataloader_block spend   8.24273943901062
pure train time  4.01385235786438
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.82421875 GB
    Memory Allocated: 0.2255253791809082  GigaBytes
Max Memory Allocated: 13.173163414001465  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.080289125442505
loading full batch data spends  0.06731414794921875
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 69.497 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.497 GB
Metis partitioning: 0.162 seconds, peak memory: 69.497 GB
Split the graph: 0.086 seconds
Construct subgraphs: 0.005 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.9100706577301025
block generation total time  3.561302661895752
generate_dataloader_block spend   8.13254690170288
pure train time  4.003859758377075
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.82421875 GB
    Memory Allocated: 0.22540664672851562  GigaBytes
Max Memory Allocated: 13.173163414001465  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0677688121795654
Total (block generation + training)time/epoch 13.195022344589233
pure train time/epoch 4.003859758377075

mean number of num_input_list  792429.0
