main start at this time 1691288495.6578608
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.039 seconds, peak memory: 24.061 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 24.061 GB
Metis partitioning: 0.155 seconds, peak memory: 24.088 GB
Split the graph: 0.061 seconds
Construct subgraphs: 0.024 seconds
11369
11367
11369
11364
11368
11367
11369
11368
The batched output nid list before graph partition
connection checking time:  4.469594240188599
block generation total time  3.95255970954895
pure train time  4.74324893951416
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.63671875 GB
    Memory Allocated: 0.21968364715576172  GigaBytes
Max Memory Allocated: 10.25349235534668  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7755889892578125
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 61.326 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.326 GB
Metis partitioning: 0.149 seconds, peak memory: 61.326 GB
Split the graph: 0.045 seconds
Construct subgraphs: 0.005 seconds
11369
11367
11369
11364
11368
11367
11369
11368
The batched output nid list before graph partition
connection checking time:  4.392005205154419
block generation total time  3.9790382385253906
pure train time  4.324310302734375
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.798828125 GB
    Memory Allocated: 0.21911954879760742  GigaBytes
Max Memory Allocated: 10.396082878112793  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1899728775024414
Convert a graph into a bidirected graph: 0.021 seconds, peak memory: 64.290 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.290 GB
Metis partitioning: 0.164 seconds, peak memory: 64.290 GB
Split the graph: 0.061 seconds
Construct subgraphs: 0.007 seconds
11369
11367
11369
11364
11368
11367
11369
11368
The batched output nid list before graph partition
connection checking time:  4.503904819488525
block generation total time  4.053152799606323
pure train time  4.350600481033325
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.802734375 GB
    Memory Allocated: 0.2189655303955078  GigaBytes
Max Memory Allocated: 10.40130615234375  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6082406044006348
loading full batch data spends  0.07271504402160645
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 64.325 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.325 GB
Metis partitioning: 0.161 seconds, peak memory: 64.325 GB
Split the graph: 0.072 seconds
Construct subgraphs: 0.006 seconds
11369
11367
11369
11364
11368
11367
11369
11368
The batched output nid list before graph partition
connection checking time:  4.142887115478516
block generation total time  4.065545320510864
generate_dataloader_block spend   8.765701532363892
pure train time  4.345166444778442
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.802734375 GB
    Memory Allocated: 0.21948719024658203  GigaBytes
Max Memory Allocated: 10.40130615234375  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0822017192840576
loading full batch data spends  0.07195329666137695
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 64.329 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 64.329 GB
Metis partitioning: 0.171 seconds, peak memory: 64.329 GB
Split the graph: 0.078 seconds
Construct subgraphs: 0.011 seconds
11369
11367
11369
11364
11368
11367
11369
11368
The batched output nid list before graph partition
connection checking time:  4.43197226524353
block generation total time  3.957650899887085
generate_dataloader_block spend   9.0782949924469
pure train time  4.339132070541382
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.802734375 GB
    Memory Allocated: 0.21914339065551758  GigaBytes
Max Memory Allocated: 10.40130615234375  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.067549705505371
Total (block generation + training)time/epoch 14.323729395866394
pure train time/epoch 4.339132070541382

mean number of num_input_list  983235.0
