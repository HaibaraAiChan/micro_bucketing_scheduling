main start at this time 1691289048.0362892
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.037 seconds, peak memory: 23.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.998 GB
Metis partitioning: 0.174 seconds, peak memory: 24.029 GB
Split the graph: 0.036 seconds
Construct subgraphs: 0.023 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.784055233001709
block generation total time  5.588677883148193
pure train time  7.95972752571106
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.138671875 GB
    Memory Allocated: 0.18869256973266602  GigaBytes
Max Memory Allocated: 3.1817221641540527  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.776543378829956
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 52.359 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.359 GB
Metis partitioning: 0.172 seconds, peak memory: 52.359 GB
Split the graph: 0.069 seconds
Construct subgraphs: 0.024 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.0793421268463135
block generation total time  5.156255483627319
pure train time  7.67705512046814
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.1484375 GB
    Memory Allocated: 0.18837356567382812  GigaBytes
Max Memory Allocated: 3.2265520095825195  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.190824270248413
Convert a graph into a bidirected graph: 0.022 seconds, peak memory: 52.539 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.539 GB
Metis partitioning: 0.199 seconds, peak memory: 52.539 GB
Split the graph: 0.079 seconds
Construct subgraphs: 0.016 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.669381380081177
block generation total time  5.58102822303772
pure train time  7.783108949661255
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.1484375 GB
    Memory Allocated: 0.18942785263061523  GigaBytes
Max Memory Allocated: 3.246330738067627  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6064438819885254
loading full batch data spends  0.12204241752624512
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 52.582 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.582 GB
Metis partitioning: 0.184 seconds, peak memory: 52.582 GB
Split the graph: 0.099 seconds
Construct subgraphs: 0.046 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.739079475402832
block generation total time  5.5465216636657715
generate_dataloader_block spend   13.065040826797485
pure train time  7.743537187576294
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.158203125 GB
    Memory Allocated: 0.1881852149963379  GigaBytes
Max Memory Allocated: 3.246330738067627  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0809707641601562
loading full batch data spends  0.11760830879211426
Convert a graph into a bidirected graph: 0.021 seconds, peak memory: 52.582 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.582 GB
Metis partitioning: 0.195 seconds, peak memory: 52.582 GB
Split the graph: 0.080 seconds
Construct subgraphs: 0.033 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  3.657639503479004
block generation total time  2.9783120155334473
generate_dataloader_block spend   7.3897621631622314
pure train time  7.632967710494995
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.158203125 GB
    Memory Allocated: 0.1886758804321289  GigaBytes
Max Memory Allocated: 3.2714462280273438  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.068270206451416
Total (block generation + training)time/epoch 19.73009765148163
pure train time/epoch 7.632967710494995

mean number of num_input_list  2258815.8
