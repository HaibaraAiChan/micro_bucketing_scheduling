main start at this time 1691288670.026629
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.038 seconds, peak memory: 23.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.998 GB
Metis partitioning: 0.156 seconds, peak memory: 24.025 GB
Split the graph: 0.053 seconds
Construct subgraphs: 0.023 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.942546606063843
block generation total time  4.297724485397339
pure train time  4.98376727104187
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.74609375 GB
    Memory Allocated: 0.21483325958251953  GigaBytes
Max Memory Allocated: 8.551996231079102  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.774567127227783
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 45.688 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 45.688 GB
Metis partitioning: 0.152 seconds, peak memory: 45.688 GB
Split the graph: 0.045 seconds
Construct subgraphs: 0.004 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.740004062652588
block generation total time  4.271646738052368
pure train time  4.593836545944214
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.671875 GB
    Memory Allocated: 0.21413660049438477  GigaBytes
Max Memory Allocated: 8.66434097290039  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.189958095550537
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 54.443 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.443 GB
Metis partitioning: 0.160 seconds, peak memory: 54.443 GB
Split the graph: 0.050 seconds
Construct subgraphs: 0.005 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.973942518234253
block generation total time  4.345743179321289
pure train time  4.560399293899536
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.2147350311279297  GigaBytes
Max Memory Allocated: 8.66434097290039  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.609703779220581
loading full batch data spends  0.07500123977661133
Convert a graph into a bidirected graph: 0.022 seconds, peak memory: 61.320 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.320 GB
Metis partitioning: 0.167 seconds, peak memory: 61.320 GB
Split the graph: 0.040 seconds
Construct subgraphs: 0.004 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  2.7004947662353516
block generation total time  2.273350477218628
generate_dataloader_block spend   5.479970455169678
pure train time  4.5869340896606445
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21442079544067383  GigaBytes
Max Memory Allocated: 8.66434097290039  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0824191570281982
loading full batch data spends  0.0740365982055664
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 61.396 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.396 GB
Metis partitioning: 0.164 seconds, peak memory: 61.396 GB
Split the graph: 0.041 seconds
Construct subgraphs: 0.006 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.9887473583221436
block generation total time  4.369886875152588
generate_dataloader_block spend   9.985682010650635
pure train time  4.56691312789917
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21407461166381836  GigaBytes
Max Memory Allocated: 8.668843746185303  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.068305730819702
Total (block generation + training)time/epoch 13.490991473197937
pure train time/epoch 4.56691312789917

mean number of num_input_list  1152120.8
