main start at this time 1691288850.0995245
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.037 seconds, peak memory: 24.031 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 24.031 GB
Metis partitioning: 0.158 seconds, peak memory: 24.062 GB
Split the graph: 0.049 seconds
Construct subgraphs: 0.023 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
The batched output nid list before graph partition
connection checking time:  5.126225233078003
block generation total time  4.506246089935303
pure train time  5.2778425216674805
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.240234375 GB
    Memory Allocated: 0.2105884552001953  GigaBytes
Max Memory Allocated: 7.282246112823486  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7763116359710693
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 45.942 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 45.942 GB
Metis partitioning: 0.160 seconds, peak memory: 45.942 GB
Split the graph: 0.047 seconds
Construct subgraphs: 0.016 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
The batched output nid list before graph partition
connection checking time:  5.059047222137451
block generation total time  4.411547899246216
pure train time  4.852671146392822
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.240234375 GB
    Memory Allocated: 0.21003150939941406  GigaBytes
Max Memory Allocated: 7.364517688751221  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.191068410873413
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 56.139 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 56.139 GB
Metis partitioning: 0.172 seconds, peak memory: 56.139 GB
Split the graph: 0.060 seconds
Construct subgraphs: 0.009 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
The batched output nid list before graph partition
connection checking time:  4.977071523666382
block generation total time  4.513259649276733
pure train time  4.898828983306885
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.240234375 GB
    Memory Allocated: 0.20964336395263672  GigaBytes
Max Memory Allocated: 7.402393341064453  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6068618297576904
loading full batch data spends  0.0767672061920166
Convert a graph into a bidirected graph: 0.021 seconds, peak memory: 58.379 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 58.379 GB
Metis partitioning: 0.173 seconds, peak memory: 58.379 GB
Split the graph: 0.046 seconds
Construct subgraphs: 0.006 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
The batched output nid list before graph partition
connection checking time:  5.203981161117554
block generation total time  4.468484163284302
generate_dataloader_block spend   10.329158544540405
pure train time  4.927768707275391
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.966796875 GB
    Memory Allocated: 0.210113525390625  GigaBytes
Max Memory Allocated: 7.402393341064453  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.081113576889038
loading full batch data spends  0.08363556861877441
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 59.141 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.141 GB
Metis partitioning: 0.170 seconds, peak memory: 59.141 GB
Split the graph: 0.053 seconds
Construct subgraphs: 0.007 seconds
7576
7579
7574
7576
7589
7566
7577
7585
7584
7578
7579
7578
The batched output nid list before graph partition
connection checking time:  5.215433597564697
block generation total time  4.499644041061401
generate_dataloader_block spend   10.38769245147705
pure train time  4.908625364303589
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.966796875 GB
    Memory Allocated: 0.20993804931640625  GigaBytes
Max Memory Allocated: 7.402393341064453  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0677499771118164
Total (block generation + training)time/epoch 16.530757665634155
pure train time/epoch 4.908625364303589

mean number of num_input_list  1301928.6
