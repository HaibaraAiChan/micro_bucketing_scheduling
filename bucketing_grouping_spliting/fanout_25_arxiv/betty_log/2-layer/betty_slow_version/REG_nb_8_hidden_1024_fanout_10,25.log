main start at this time 1691459072.021063
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.301 seconds, peak memory: 27.380 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.380 GB
Metis partitioning: 6.021 seconds, peak memory: 27.996 GB
Split the graph: 2.394 seconds
Construct subgraphs: 0.111 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7544078826904297
pure dgl.metis_partition the time spent:  9.863789081573486
connection checking time:  1.738851547241211
block generation total time  1.3695178031921387
epoch,  0
pure train time  4.364816188812256
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.4140625 GB
    Memory Allocated: 0.19033145904541016  GigaBytes
Max Memory Allocated: 11.979208946228027  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7740910053253174
REG start----................................
Convert a graph into a bidirected graph: 1.300 seconds, peak memory: 71.811 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.811 GB
Metis partitioning: 6.038 seconds, peak memory: 72.397 GB
Split the graph: 2.421 seconds
Construct subgraphs: 0.030 seconds
REG metis partition end ----................................
REG construction  time spent:  3.3509950637817383
pure dgl.metis_partition the time spent:  9.805171012878418
connection checking time:  2.220959424972534
block generation total time  2.088465690612793
epoch,  1
pure train time  4.1380743980407715
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.44140625 GB
    Memory Allocated: 0.17021942138671875  GigaBytes
Max Memory Allocated: 11.979208946228027  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1920628547668457
REG start----................................
Convert a graph into a bidirected graph: 1.282 seconds, peak memory: 72.809 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.809 GB
Metis partitioning: 6.011 seconds, peak memory: 72.809 GB
Split the graph: 2.334 seconds
Construct subgraphs: 0.027 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8444974422454834
pure dgl.metis_partition the time spent:  9.670416593551636
connection checking time:  2.2606141567230225
block generation total time  2.123765468597412
epoch,  2
pure train time  4.152629375457764
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.44140625 GB
    Memory Allocated: 0.19041013717651367  GigaBytes
Max Memory Allocated: 12.056947708129883  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.600881814956665
loading full batch data spends  0.09094023704528809
REG start----................................
Convert a graph into a bidirected graph: 1.324 seconds, peak memory: 73.090 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.090 GB
Metis partitioning: 5.997 seconds, peak memory: 73.090 GB
Split the graph: 2.227 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.805177927017212
pure dgl.metis_partition the time spent:  9.579668283462524
connection checking time:  2.2770872116088867
block generation total time  2.1273982524871826
generate_dataloader_block spend   18.459952116012573
epoch,  3
pure train time  4.137695789337158
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.44140625 GB
    Memory Allocated: 0.18973731994628906  GigaBytes
Max Memory Allocated: 12.056947708129883  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0812222957611084
loading full batch data spends  0.07657957077026367
REG start----................................
Convert a graph into a bidirected graph: 1.309 seconds, peak memory: 73.090 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.090 GB
Metis partitioning: 6.130 seconds, peak memory: 73.090 GB
Split the graph: 2.471 seconds
Construct subgraphs: 0.013 seconds
REG metis partition end ----................................
REG construction  time spent:  3.831721067428589
pure dgl.metis_partition the time spent:  9.939992189407349
connection checking time:  2.20589280128479
block generation total time  2.075941562652588
generate_dataloader_block spend   18.7177312374115
epoch,  4
pure train time  4.12953782081604
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.041015625 GB
    Memory Allocated: 0.19066619873046875  GigaBytes
Max Memory Allocated: 12.119553565979004  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.065964937210083
loading full batch data spends  0.07616162300109863
REG start----................................
Convert a graph into a bidirected graph: 1.345 seconds, peak memory: 73.765 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.765 GB
Metis partitioning: 6.415 seconds, peak memory: 74.333 GB
Split the graph: 2.570 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7407822608947754
pure dgl.metis_partition the time spent:  10.365576028823853
connection checking time:  2.2761597633361816
block generation total time  2.119736671447754
generate_dataloader_block spend   19.220985651016235
epoch,  5
pure train time  4.137471914291382
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.646484375 GB
    Memory Allocated: 0.19822263717651367  GigaBytes
Max Memory Allocated: 12.119553565979004  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0659217834472656
loading full batch data spends  0.08524608612060547
REG start----................................
Convert a graph into a bidirected graph: 1.350 seconds, peak memory: 75.440 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.440 GB
Metis partitioning: 6.343 seconds, peak memory: 76.011 GB
Split the graph: 2.493 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.809394359588623
pure dgl.metis_partition the time spent:  10.217363834381104
connection checking time:  2.288318634033203
block generation total time  2.142886161804199
generate_dataloader_block spend   19.152103185653687
epoch,  6
pure train time  4.135201930999756
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.646484375 GB
    Memory Allocated: 0.18890857696533203  GigaBytes
Max Memory Allocated: 12.119553565979004  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0305089950561523
loading full batch data spends  0.05171322822570801
REG start----................................
Convert a graph into a bidirected graph: 1.304 seconds, peak memory: 76.461 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.461 GB
Metis partitioning: 6.310 seconds, peak memory: 76.461 GB
Split the graph: 2.406 seconds
Construct subgraphs: 0.031 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6386642456054688
pure dgl.metis_partition the time spent:  10.066340684890747
connection checking time:  2.286586046218872
block generation total time  2.131279706954956
generate_dataloader_block spend   18.846386671066284
epoch,  7
pure train time  4.112978219985962
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.646484375 GB
    Memory Allocated: 0.19033288955688477  GigaBytes
Max Memory Allocated: 12.119553565979004  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.958526134490967
loading full batch data spends  0.0979151725769043
REG start----................................
Convert a graph into a bidirected graph: 1.345 seconds, peak memory: 76.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.510 GB
Metis partitioning: 6.386 seconds, peak memory: 76.510 GB
Split the graph: 2.315 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.4528448581695557
pure dgl.metis_partition the time spent:  10.079493761062622
connection checking time:  2.231870651245117
block generation total time  2.086341142654419
generate_dataloader_block spend   18.551977396011353
epoch,  8
pure train time  4.13109564781189
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.646484375 GB
    Memory Allocated: 0.1980438232421875  GigaBytes
Max Memory Allocated: 12.144018650054932  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.866804361343384
loading full batch data spends  0.06230497360229492
REG start----................................
Convert a graph into a bidirected graph: 1.290 seconds, peak memory: 76.510 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.510 GB
Metis partitioning: 6.192 seconds, peak memory: 76.510 GB
Split the graph: 2.128 seconds
Construct subgraphs: 0.031 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7637853622436523
pure dgl.metis_partition the time spent:  9.656882524490356
connection checking time:  2.252923011779785
block generation total time  2.1285526752471924
generate_dataloader_block spend   18.497276067733765
epoch,  9
pure train time  4.147177696228027
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.70703125 GB
    Memory Allocated: 0.19068622589111328  GigaBytes
Max Memory Allocated: 12.144018650054932  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.768714427947998
loading full batch data spends  0.09312629699707031
REG start----................................
Convert a graph into a bidirected graph: 1.370 seconds, peak memory: 76.516 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.516 GB
Metis partitioning: 6.314 seconds, peak memory: 76.516 GB
Split the graph: 2.505 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  4.000603437423706
pure dgl.metis_partition the time spent:  10.224324464797974
connection checking time:  2.2471923828125
block generation total time  2.1307215690612793
generate_dataloader_block spend   19.301255464553833
epoch,  10
pure train time  4.147181510925293
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.70703125 GB
    Memory Allocated: 0.18914270401000977  GigaBytes
Max Memory Allocated: 12.144018650054932  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.6725845336914062
loading full batch data spends  0.06102752685546875
REG start----................................
Convert a graph into a bidirected graph: 1.312 seconds, peak memory: 76.516 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.516 GB
Metis partitioning: 6.420 seconds, peak memory: 76.516 GB
Split the graph: 2.920 seconds
Construct subgraphs: 0.042 seconds
REG metis partition end ----................................
REG construction  time spent:  4.214756727218628
pure dgl.metis_partition the time spent:  10.711736917495728
connection checking time:  2.2725508213043213
block generation total time  2.1152231693267822
generate_dataloader_block spend   20.04832124710083
epoch,  11
pure train time  4.123096227645874
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.70703125 GB
    Memory Allocated: 0.16954326629638672  GigaBytes
Max Memory Allocated: 12.167072296142578  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.606856107711792
loading full batch data spends  0.07567334175109863
REG start----................................
Convert a graph into a bidirected graph: 1.285 seconds, peak memory: 76.530 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.530 GB
Metis partitioning: 6.328 seconds, peak memory: 76.530 GB
Split the graph: 2.662 seconds
Construct subgraphs: 0.031 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7900381088256836
pure dgl.metis_partition the time spent:  10.32205057144165
connection checking time:  2.2848961353302
block generation total time  2.1474969387054443
generate_dataloader_block spend   19.27194833755493
epoch,  12
pure train time  4.138375759124756
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.70703125 GB
    Memory Allocated: 0.1780381202697754  GigaBytes
Max Memory Allocated: 12.167072296142578  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.5588583946228027
loading full batch data spends  0.06489181518554688
REG start----................................
Convert a graph into a bidirected graph: 1.313 seconds, peak memory: 76.571 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.571 GB
Metis partitioning: 6.323 seconds, peak memory: 76.571 GB
Split the graph: 2.599 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.891737699508667
pure dgl.metis_partition the time spent:  10.269535779953003
connection checking time:  2.210604429244995
block generation total time  2.0875954627990723
generate_dataloader_block spend   19.15475058555603
epoch,  13
pure train time  4.131844758987427
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.70703125 GB
    Memory Allocated: 0.1969776153564453  GigaBytes
Max Memory Allocated: 12.167072296142578  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.473437786102295
loading full batch data spends  0.07032632827758789
REG start----................................
Convert a graph into a bidirected graph: 1.432 seconds, peak memory: 76.571 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.571 GB
Metis partitioning: 6.725 seconds, peak memory: 76.571 GB
Split the graph: 2.540 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8348119258880615
pure dgl.metis_partition the time spent:  10.737834692001343
connection checking time:  2.3012704849243164
block generation total time  2.132524013519287
generate_dataloader_block spend   19.723231315612793
epoch,  14
pure train time  4.12992525100708
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.70703125 GB
    Memory Allocated: 0.18926668167114258  GigaBytes
Max Memory Allocated: 12.167072296142578  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.3982834815979004
loading full batch data spends  0.08036541938781738
REG start----................................
Convert a graph into a bidirected graph: 1.376 seconds, peak memory: 76.571 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.571 GB
Metis partitioning: 6.585 seconds, peak memory: 76.571 GB
Split the graph: 2.635 seconds
Construct subgraphs: 0.032 seconds
REG metis partition end ----................................
REG construction  time spent:  3.914729118347168
pure dgl.metis_partition the time spent:  10.645308256149292
connection checking time:  2.257356882095337
block generation total time  2.1199824810028076
generate_dataloader_block spend   19.66537380218506
epoch,  15
pure train time  4.150148153305054
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.318359375 GB
    Memory Allocated: 0.18381690979003906  GigaBytes
Max Memory Allocated: 12.167072296142578  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.3224029541015625
loading full batch data spends  0.07124567031860352
REG start----................................
Convert a graph into a bidirected graph: 1.295 seconds, peak memory: 77.131 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.131 GB
Metis partitioning: 6.456 seconds, peak memory: 77.761 GB
Split the graph: 2.621 seconds
Construct subgraphs: 0.026 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8608336448669434
pure dgl.metis_partition the time spent:  10.417912483215332
connection checking time:  2.2419629096984863
block generation total time  2.086623430252075
generate_dataloader_block spend   19.32512593269348
epoch,  16
pure train time  4.145883798599243
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.318359375 GB
    Memory Allocated: 0.1887679100036621  GigaBytes
Max Memory Allocated: 12.167072296142578  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.251290798187256
loading full batch data spends  0.06032228469848633
REG start----................................
Convert a graph into a bidirected graph: 1.314 seconds, peak memory: 78.212 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 78.212 GB
Metis partitioning: 6.526 seconds, peak memory: 78.212 GB
Split the graph: 2.750 seconds
Construct subgraphs: 0.038 seconds
REG metis partition end ----................................
REG construction  time spent:  3.903470039367676
pure dgl.metis_partition the time spent:  10.645986795425415
connection checking time:  2.2880468368530273
block generation total time  2.1289219856262207
generate_dataloader_block spend   19.694790601730347
epoch,  17
pure train time  4.135677099227905
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.318359375 GB
    Memory Allocated: 0.17663240432739258  GigaBytes
Max Memory Allocated: 12.167072296142578  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.1944169998168945
loading full batch data spends  0.054238080978393555
REG start----................................
Convert a graph into a bidirected graph: 1.293 seconds, peak memory: 78.212 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 78.212 GB
Metis partitioning: 6.456 seconds, peak memory: 78.212 GB
Split the graph: 2.531 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7988781929016113
pure dgl.metis_partition the time spent:  10.317553281784058
connection checking time:  2.265517473220825
block generation total time  2.08675217628479
generate_dataloader_block spend   19.188273191452026
epoch,  18
pure train time  4.115136623382568
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.318359375 GB
    Memory Allocated: 0.19675683975219727  GigaBytes
Max Memory Allocated: 12.197978973388672  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.145071029663086
loading full batch data spends  0.0671079158782959
REG start----................................
Convert a graph into a bidirected graph: 1.313 seconds, peak memory: 78.284 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 78.284 GB
Metis partitioning: 6.468 seconds, peak memory: 78.284 GB
Split the graph: 2.369 seconds
Construct subgraphs: 0.029 seconds
REG metis partition end ----................................
REG construction  time spent:  4.057244777679443
pure dgl.metis_partition the time spent:  10.197206974029541
connection checking time:  2.247748613357544
block generation total time  2.113792657852173
generate_dataloader_block spend   19.358847856521606
epoch,  19
pure train time  4.151222229003906
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 23.318359375 GB
    Memory Allocated: 0.18949365615844727  GigaBytes
Max Memory Allocated: 12.197978973388672  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.089531421661377
Total (block generation + training)time/epoch 24.25123662107131
pure train time/epoch 4.135494454701742

num_input_list  [428557, 419964, 430080, 430868, 412997, 422035, 432941, 423733, 413576, 430623, 421377, 423403, 430226, 421949, 420410, 417052, 416250, 426509, 408621, 419010]
