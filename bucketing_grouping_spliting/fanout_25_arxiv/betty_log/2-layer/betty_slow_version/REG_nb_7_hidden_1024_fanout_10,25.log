main start at this time 1691458582.711201
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.351 seconds, peak memory: 27.381 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.381 GB
Metis partitioning: 6.007 seconds, peak memory: 28.158 GB
Split the graph: 2.460 seconds
Construct subgraphs: 0.141 seconds
REG metis partition end ----................................
REG construction  time spent:  3.947983503341675
pure dgl.metis_partition the time spent:  9.977517127990723
connection checking time:  2.1356396675109863
block generation total time  1.9726231098175049
epoch,  0
pure train time  4.4094250202178955
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.18343544006347656  GigaBytes
Max Memory Allocated: 13.733734130859375  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.776888370513916
REG start----................................
Convert a graph into a bidirected graph: 1.373 seconds, peak memory: 67.462 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 67.462 GB
Metis partitioning: 5.897 seconds, peak memory: 68.211 GB
Split the graph: 2.803 seconds
Construct subgraphs: 0.035 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7131426334381104
pure dgl.metis_partition the time spent:  10.123451471328735
connection checking time:  2.0942845344543457
block generation total time  1.9938366413116455
epoch,  1
pure train time  3.954188346862793
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.18305587768554688  GigaBytes
Max Memory Allocated: 13.733734130859375  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1909990310668945
REG start----................................
Convert a graph into a bidirected graph: 1.314 seconds, peak memory: 70.084 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 70.084 GB
Metis partitioning: 5.852 seconds, peak memory: 70.827 GB
Split the graph: 2.482 seconds
Construct subgraphs: 0.024 seconds
REG metis partition end ----................................
REG construction  time spent:  3.948134660720825
pure dgl.metis_partition the time spent:  9.689435243606567
connection checking time:  2.132070302963257
block generation total time  1.9808037281036377
epoch,  2
pure train time  3.9741923809051514
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.20046091079711914  GigaBytes
Max Memory Allocated: 13.733734130859375  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.611551284790039
loading full batch data spends  0.07480835914611816
REG start----................................
Convert a graph into a bidirected graph: 1.313 seconds, peak memory: 71.224 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.224 GB
Metis partitioning: 5.828 seconds, peak memory: 71.224 GB
Split the graph: 2.774 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8929226398468018
pure dgl.metis_partition the time spent:  9.95187783241272
connection checking time:  2.1223199367523193
block generation total time  2.011808156967163
generate_dataloader_block spend   18.68169116973877
epoch,  3
pure train time  3.9580140113830566
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.20060253143310547  GigaBytes
Max Memory Allocated: 13.733734130859375  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0783629417419434
loading full batch data spends  0.0693504810333252
REG start----................................
Convert a graph into a bidirected graph: 1.276 seconds, peak memory: 71.313 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.313 GB
Metis partitioning: 6.041 seconds, peak memory: 71.313 GB
Split the graph: 2.751 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.810980796813965
pure dgl.metis_partition the time spent:  10.10522985458374
connection checking time:  2.1315486431121826
block generation total time  1.9936120510101318
generate_dataloader_block spend   18.74101424217224
epoch,  4
pure train time  3.9635417461395264
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.1943988800048828  GigaBytes
Max Memory Allocated: 13.733734130859375  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0671918392181396
loading full batch data spends  0.07101678848266602
REG start----................................
Convert a graph into a bidirected graph: 1.320 seconds, peak memory: 71.313 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.313 GB
Metis partitioning: 6.169 seconds, peak memory: 71.313 GB
Split the graph: 2.570 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8047878742218018
pure dgl.metis_partition the time spent:  10.09850811958313
connection checking time:  2.051574230194092
block generation total time  1.9342951774597168
generate_dataloader_block spend   18.560763835906982
epoch,  5
pure train time  3.9609169960021973
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.194427490234375  GigaBytes
Max Memory Allocated: 13.733734130859375  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0660390853881836
loading full batch data spends  0.08387374877929688
REG start----................................
Convert a graph into a bidirected graph: 1.296 seconds, peak memory: 71.313 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.313 GB
Metis partitioning: 6.065 seconds, peak memory: 71.313 GB
Split the graph: 2.571 seconds
Construct subgraphs: 0.015 seconds
REG metis partition end ----................................
REG construction  time spent:  3.756075620651245
pure dgl.metis_partition the time spent:  9.962806940078735
connection checking time:  2.170088529586792
block generation total time  1.9735419750213623
generate_dataloader_block spend   18.581280946731567
epoch,  6
pure train time  3.962610960006714
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.18113136291503906  GigaBytes
Max Memory Allocated: 13.762062072753906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0279006958007812
loading full batch data spends  0.07326364517211914
REG start----................................
Convert a graph into a bidirected graph: 1.361 seconds, peak memory: 71.324 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.324 GB
Metis partitioning: 6.611 seconds, peak memory: 71.324 GB
Split the graph: 2.721 seconds
Construct subgraphs: 0.025 seconds
REG metis partition end ----................................
REG construction  time spent:  4.216069459915161
pure dgl.metis_partition the time spent:  10.73480772972107
connection checking time:  2.1168277263641357
block generation total time  2.023892402648926
generate_dataloader_block spend   19.791198015213013
epoch,  7
pure train time  3.9683096408843994
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.1981043815612793  GigaBytes
Max Memory Allocated: 13.762062072753906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.959285020828247
loading full batch data spends  0.06622910499572754
REG start----................................
Convert a graph into a bidirected graph: 1.364 seconds, peak memory: 71.324 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.324 GB
Metis partitioning: 6.353 seconds, peak memory: 71.324 GB
Split the graph: 2.595 seconds
Construct subgraphs: 0.011 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8646090030670166
pure dgl.metis_partition the time spent:  10.341086626052856
connection checking time:  2.180117130279541
block generation total time  1.9688560962677002
generate_dataloader_block spend   19.05485224723816
epoch,  8
pure train time  3.946462392807007
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.19484949111938477  GigaBytes
Max Memory Allocated: 13.762062072753906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8664915561676025
loading full batch data spends  0.07050347328186035
REG start----................................
Convert a graph into a bidirected graph: 1.305 seconds, peak memory: 71.324 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.324 GB
Metis partitioning: 6.217 seconds, peak memory: 71.324 GB
Split the graph: 2.902 seconds
Construct subgraphs: 0.009 seconds
REG metis partition end ----................................
REG construction  time spent:  3.822441339492798
pure dgl.metis_partition the time spent:  10.449144124984741
connection checking time:  2.2063217163085938
block generation total time  2.017899751663208
generate_dataloader_block spend   19.236636877059937
epoch,  9
pure train time  3.9549496173858643
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.20050048828125  GigaBytes
Max Memory Allocated: 13.762062072753906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.766387462615967
loading full batch data spends  0.05002999305725098
REG start----................................
Convert a graph into a bidirected graph: 1.392 seconds, peak memory: 71.334 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.334 GB
Metis partitioning: 6.364 seconds, peak memory: 71.334 GB
Split the graph: 3.107 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9229753017425537
pure dgl.metis_partition the time spent:  10.902434349060059
connection checking time:  2.151660442352295
block generation total time  1.9900898933410645
generate_dataloader_block spend   19.679092407226562
epoch,  10
pure train time  3.9829823970794678
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.20032691955566406  GigaBytes
Max Memory Allocated: 13.762062072753906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.66977858543396
loading full batch data spends  0.09042525291442871
REG start----................................
Convert a graph into a bidirected graph: 1.354 seconds, peak memory: 71.334 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.334 GB
Metis partitioning: 6.378 seconds, peak memory: 71.334 GB
Split the graph: 2.535 seconds
Construct subgraphs: 0.045 seconds
REG metis partition end ----................................
REG construction  time spent:  3.980339288711548
pure dgl.metis_partition the time spent:  10.329384088516235
connection checking time:  2.1434361934661865
block generation total time  1.9890038967132568
generate_dataloader_block spend   19.14440941810608
epoch,  11
pure train time  3.9541854858398438
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.2007150650024414  GigaBytes
Max Memory Allocated: 13.762062072753906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.6070098876953125
loading full batch data spends  0.08770036697387695
REG start----................................
Convert a graph into a bidirected graph: 1.237 seconds, peak memory: 71.451 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.451 GB
Metis partitioning: 6.244 seconds, peak memory: 71.451 GB
Split the graph: 2.823 seconds
Construct subgraphs: 0.027 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7624542713165283
pure dgl.metis_partition the time spent:  10.348535537719727
connection checking time:  2.1752939224243164
block generation total time  1.98581862449646
generate_dataloader_block spend   18.980854272842407
epoch,  12
pure train time  3.9845364093780518
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.19407987594604492  GigaBytes
Max Memory Allocated: 13.762062072753906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.555210828781128
loading full batch data spends  0.0809323787689209
REG start----................................
Convert a graph into a bidirected graph: 1.285 seconds, peak memory: 71.451 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.451 GB
Metis partitioning: 6.155 seconds, peak memory: 71.451 GB
Split the graph: 2.733 seconds
Construct subgraphs: 0.015 seconds
REG metis partition end ----................................
REG construction  time spent:  3.818194627761841
pure dgl.metis_partition the time spent:  10.206520318984985
connection checking time:  2.120924949645996
block generation total time  1.9878480434417725
generate_dataloader_block spend   18.836734771728516
epoch,  13
pure train time  3.940565824508667
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 18.21875 GB
    Memory Allocated: 0.19462108612060547  GigaBytes
Max Memory Allocated: 13.762062072753906  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.4695284366607666
loading full batch data spends  0.09581303596496582
REG start----................................
Convert a graph into a bidirected graph: 1.342 seconds, peak memory: 71.451 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.451 GB
Metis partitioning: 6.366 seconds, peak memory: 71.451 GB
Split the graph: 2.931 seconds
Construct subgraphs: 0.024 seconds
REG metis partition end ----................................
REG construction  time spent:  3.913944721221924
pure dgl.metis_partition the time spent:  10.681757688522339
connection checking time:  2.085569381713867
block generation total time  1.9489896297454834
generate_dataloader_block spend   19.35407567024231
epoch,  14
pure train time  3.999666929244995
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.09375 GB
    Memory Allocated: 0.19816303253173828  GigaBytes
Max Memory Allocated: 13.918935298919678  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.392953395843506
loading full batch data spends  0.06048226356506348
REG start----................................
Convert a graph into a bidirected graph: 1.355 seconds, peak memory: 72.048 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 72.048 GB
Metis partitioning: 6.437 seconds, peak memory: 72.812 GB
Split the graph: 2.739 seconds
Construct subgraphs: 0.020 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8792428970336914
pure dgl.metis_partition the time spent:  10.568697929382324
connection checking time:  2.1403918266296387
block generation total time  1.9989497661590576
generate_dataloader_block spend   19.291083812713623
epoch,  15
pure train time  3.954484462738037
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.09375 GB
    Memory Allocated: 0.19481420516967773  GigaBytes
Max Memory Allocated: 13.918935298919678  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.316887617111206
loading full batch data spends  0.051596879959106445
REG start----................................
Convert a graph into a bidirected graph: 1.334 seconds, peak memory: 73.203 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.203 GB
Metis partitioning: 6.129 seconds, peak memory: 73.203 GB
Split the graph: 2.917 seconds
Construct subgraphs: 0.022 seconds
REG metis partition end ----................................
REG construction  time spent:  3.857945442199707
pure dgl.metis_partition the time spent:  10.420352220535278
connection checking time:  2.1488935947418213
block generation total time  1.9725594520568848
generate_dataloader_block spend   19.141860485076904
epoch,  16
pure train time  3.977050542831421
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.09375 GB
    Memory Allocated: 0.19525671005249023  GigaBytes
Max Memory Allocated: 13.918935298919678  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.2469162940979004
loading full batch data spends  0.06500506401062012
REG start----................................
Convert a graph into a bidirected graph: 1.317 seconds, peak memory: 73.312 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.312 GB
Metis partitioning: 6.451 seconds, peak memory: 73.312 GB
Split the graph: 2.477 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.896347761154175
pure dgl.metis_partition the time spent:  10.275352954864502
connection checking time:  2.170077085494995
block generation total time  2.0100064277648926
generate_dataloader_block spend   19.090349912643433
epoch,  17
pure train time  3.9809224605560303
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.09375 GB
    Memory Allocated: 0.19447708129882812  GigaBytes
Max Memory Allocated: 13.918935298919678  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.1933908462524414
loading full batch data spends  0.08045625686645508
REG start----................................
Convert a graph into a bidirected graph: 1.295 seconds, peak memory: 73.312 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.312 GB
Metis partitioning: 6.366 seconds, peak memory: 73.312 GB
Split the graph: 2.893 seconds
Construct subgraphs: 0.011 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9719769954681396
pure dgl.metis_partition the time spent:  10.582020998001099
connection checking time:  1.0972437858581543
block generation total time  1.0278489589691162
generate_dataloader_block spend   17.31219244003296
epoch,  18
pure train time  3.9449241161346436
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.09375 GB
    Memory Allocated: 0.19481849670410156  GigaBytes
Max Memory Allocated: 13.918935298919678  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.1445229053497314
loading full batch data spends  0.06976580619812012
REG start----................................
Convert a graph into a bidirected graph: 1.320 seconds, peak memory: 73.312 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 73.312 GB
Metis partitioning: 6.309 seconds, peak memory: 73.312 GB
Split the graph: 2.440 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  4.04029393196106
pure dgl.metis_partition the time spent:  10.110243082046509
connection checking time:  2.1045148372650146
block generation total time  1.9774420261383057
generate_dataloader_block spend   18.94406509399414
epoch,  19
pure train time  3.950399875640869
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.09375 GB
    Memory Allocated: 0.19451045989990234  GigaBytes
Max Memory Allocated: 13.918935298919678  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.0845766067504883
Total (block generation + training)time/epoch 23.827033070956958
pure train time/epoch 3.964197874069214

num_input_list  [390159, 380627, 393634, 392191, 394243, 369662, 394795, 383711, 387089, 394869, 389078, 384754, 394150, 383718, 380126, 381612, 386514, 397684, 388469, 376006]
