main start at this time 1690862848.4098773
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
REG start----................................
Convert a graph into a bidirected graph: 1.289 seconds, peak memory: 27.475 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.475 GB
Metis partitioning: 5.721 seconds, peak memory: 28.113 GB
Split the graph: 1.783 seconds
Construct subgraphs: 0.110 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6485748291015625
pure dgl.metis_partition the time spent:  8.918920755386353
connection checking time:  2.034416913986206
block generation total time  1.8071081638336182
pure train time  4.830907583236694
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.984375 GB
    Memory Allocated: 0.16695117950439453  GigaBytes
Max Memory Allocated: 9.873639106750488  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.776153802871704
REG start----................................
Convert a graph into a bidirected graph: 1.288 seconds, peak memory: 52.923 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.923 GB
Metis partitioning: 5.852 seconds, peak memory: 53.500 GB
Split the graph: 1.931 seconds
Construct subgraphs: 0.125 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6878304481506348
pure dgl.metis_partition the time spent:  9.210741519927979
connection checking time:  2.1298816204071045
block generation total time  2.12740159034729
pure train time  4.421090602874756
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 14.013671875 GB
    Memory Allocated: 0.18570423126220703  GigaBytes
Max Memory Allocated: 9.873639106750488  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1916840076446533
REG start----................................
Convert a graph into a bidirected graph: 1.294 seconds, peak memory: 62.342 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 62.342 GB
Metis partitioning: 5.974 seconds, peak memory: 62.958 GB
Split the graph: 2.107 seconds
Construct subgraphs: 0.010 seconds
REG metis partition end ----................................
REG construction  time spent:  3.5327751636505127
pure dgl.metis_partition the time spent:  9.399096488952637
connection checking time:  2.423112154006958
block generation total time  2.174175262451172
pure train time  4.409593343734741
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.328125 GB
    Memory Allocated: 0.18539714813232422  GigaBytes
Max Memory Allocated: 10.189553260803223  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6039443016052246
loading full batch data spends  0.06870293617248535
REG start----................................
Convert a graph into a bidirected graph: 1.312 seconds, peak memory: 69.054 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.054 GB
Metis partitioning: 5.691 seconds, peak memory: 69.668 GB
Split the graph: 1.761 seconds
Construct subgraphs: 0.025 seconds
REG metis partition end ----................................
REG construction  time spent:  3.218899965286255
pure dgl.metis_partition the time spent:  8.805049896240234
connection checking time:  2.31208872795105
block generation total time  2.193507194519043
generate_dataloader_block spend   17.13950276374817
pure train time  4.449360370635986
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.34375 GB
    Memory Allocated: 0.1847701072692871  GigaBytes
Max Memory Allocated: 10.189553260803223  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0811634063720703
loading full batch data spends  0.09095335006713867
REG start----................................
Convert a graph into a bidirected graph: 1.311 seconds, peak memory: 69.940 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.940 GB
Metis partitioning: 5.932 seconds, peak memory: 69.940 GB
Split the graph: 1.740 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.930763006210327
pure dgl.metis_partition the time spent:  9.01758623123169
connection checking time:  2.3522050380706787
block generation total time  2.1177330017089844
generate_dataloader_block spend   18.063778400421143
pure train time  4.435045957565308
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 16.34375 GB
    Memory Allocated: 0.1672687530517578  GigaBytes
Max Memory Allocated: 10.189553260803223  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0686299800872803
loading full batch data spends  0.08887577056884766
REG start----................................
Convert a graph into a bidirected graph: 1.309 seconds, peak memory: 70.043 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 70.043 GB
Metis partitioning: 6.054 seconds, peak memory: 70.043 GB
Split the graph: 2.066 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.855299472808838
pure dgl.metis_partition the time spent:  9.459887981414795
connection checking time:  2.1269986629486084
block generation total time  2.142078161239624
generate_dataloader_block spend   18.169991493225098
pure train time  4.419511556625366
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.697265625 GB
    Memory Allocated: 0.16642522811889648  GigaBytes
Max Memory Allocated: 10.325028419494629  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0672054290771484
loading full batch data spends  0.07076406478881836
REG start----................................
Convert a graph into a bidirected graph: 1.362 seconds, peak memory: 70.485 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 70.485 GB
Metis partitioning: 5.845 seconds, peak memory: 71.059 GB
Split the graph: 1.985 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8855042457580566
pure dgl.metis_partition the time spent:  9.224560022354126
connection checking time:  2.2122786045074463
block generation total time  2.1715641021728516
generate_dataloader_block spend   18.08696675300598
pure train time  4.414958953857422
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.697265625 GB
    Memory Allocated: 0.1949634552001953  GigaBytes
Max Memory Allocated: 10.332882404327393  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0292885303497314
loading full batch data spends  0.06345963478088379
REG start----................................
Convert a graph into a bidirected graph: 1.357 seconds, peak memory: 71.129 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.129 GB
Metis partitioning: 6.067 seconds, peak memory: 71.151 GB
Split the graph: 1.828 seconds
Construct subgraphs: 0.060 seconds
REG metis partition end ----................................
REG construction  time spent:  3.968508005142212
pure dgl.metis_partition the time spent:  9.32827353477478
connection checking time:  2.404592752456665
block generation total time  2.1692323684692383
generate_dataloader_block spend   18.53294348716736
pure train time  4.456052780151367
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.716796875 GB
    Memory Allocated: 0.18515872955322266  GigaBytes
Max Memory Allocated: 10.332882404327393  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.959723949432373
loading full batch data spends  0.07517671585083008
REG start----................................
Convert a graph into a bidirected graph: 1.281 seconds, peak memory: 71.404 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.404 GB
Metis partitioning: 5.943 seconds, peak memory: 71.404 GB
Split the graph: 2.120 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8754148483276367
pure dgl.metis_partition the time spent:  9.382896423339844
connection checking time:  2.3891592025756836
block generation total time  2.1114425659179688
generate_dataloader_block spend   18.30653166770935
pure train time  4.397807836532593
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 17.71875 GB
    Memory Allocated: 0.1670241355895996  GigaBytes
Max Memory Allocated: 10.332882404327393  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.86993408203125
loading full batch data spends  0.06640887260437012
REG start----................................
Convert a graph into a bidirected graph: 1.365 seconds, peak memory: 71.404 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 71.404 GB
Metis partitioning: 6.037 seconds, peak memory: 71.404 GB
Split the graph: 1.931 seconds
Construct subgraphs: 0.019 seconds
REG metis partition end ----................................
REG construction  time spent:  3.9591541290283203
pure dgl.metis_partition the time spent:  9.368929862976074
connection checking time:  2.1908512115478516
block generation total time  2.16047739982605
generate_dataloader_block spend   18.30581498146057
pure train time  4.448884963989258
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.078125 GB
    Memory Allocated: 0.19588565826416016  GigaBytes
Max Memory Allocated: 10.47055959701538  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.769502878189087
Total (block generation + training)time/epoch 23.4995048727308
pure train time/epoch 4.428710341453552

num_input_list  [460308, 472900, 475345, 482160, 456139, 460437, 479874, 468691, 478065, 465430]
