main start at this time 1689055713.1680098
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
loading full batch data spends  0.055262088775634766
REG start----................................
Convert a graph into a bidirected graph: 1.280 seconds, peak memory: 27.376 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.376 GB
Metis partitioning: 5.621 seconds, peak memory: 28.206 GB
Split the graph: 3.147 seconds
Construct subgraphs: 0.126 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6585683822631836
pure dgl.metis_partition the time spent:  10.190735101699829
connection checking time:  2.0134291648864746
block generation total time  1.8554518222808838
generate_dataloader_block spend   18.368939638137817
pure train time  4.12682580947876
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.962890625 GB
    Memory Allocated: 0.20122432708740234  GigaBytes
Max Memory Allocated: 17.48433017730713  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7755746841430664
loading full batch data spends  0.07628226280212402
REG start----................................
Convert a graph into a bidirected graph: 1.312 seconds, peak memory: 66.581 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 66.581 GB
Metis partitioning: 5.828 seconds, peak memory: 67.323 GB
Split the graph: 3.080 seconds
Construct subgraphs: 0.025 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7086682319641113
pure dgl.metis_partition the time spent:  10.26053524017334
connection checking time:  2.008521556854248
block generation total time  1.8851284980773926
generate_dataloader_block spend   18.527419805526733
pure train time  3.733593463897705
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.986328125 GB
    Memory Allocated: 0.20325422286987305  GigaBytes
Max Memory Allocated: 17.48433017730713  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1919164657592773
loading full batch data spends  0.0775914192199707
REG start----................................
Convert a graph into a bidirected graph: 1.328 seconds, peak memory: 75.581 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.581 GB
Metis partitioning: 5.829 seconds, peak memory: 76.307 GB
Split the graph: 3.230 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.7581756114959717
pure dgl.metis_partition the time spent:  10.416579723358154
connection checking time:  1.9416356086730957
block generation total time  1.8851754665374756
generate_dataloader_block spend   18.666308403015137
pure train time  3.7329165935516357
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.986328125 GB
    Memory Allocated: 0.20069646835327148  GigaBytes
Max Memory Allocated: 17.48433017730713  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.610151529312134
loading full batch data spends  0.08881807327270508
REG start----................................
Convert a graph into a bidirected graph: 1.343 seconds, peak memory: 76.678 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.678 GB
Metis partitioning: 6.113 seconds, peak memory: 76.678 GB
Split the graph: 3.009 seconds
Construct subgraphs: 0.112 seconds
REG metis partition end ----................................
REG construction  time spent:  3.954817533493042
pure dgl.metis_partition the time spent:  10.592451572418213
connection checking time:  1.9968392848968506
block generation total time  1.8626713752746582
generate_dataloader_block spend   19.058853149414062
pure train time  3.7390315532684326
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.986328125 GB
    Memory Allocated: 0.20241689682006836  GigaBytes
Max Memory Allocated: 17.48433017730713  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.079151153564453
loading full batch data spends  0.06669473648071289
REG start----................................
Convert a graph into a bidirected graph: 1.394 seconds, peak memory: 76.689 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.689 GB
Metis partitioning: 6.233 seconds, peak memory: 76.689 GB
Split the graph: 2.916 seconds
Construct subgraphs: 0.027 seconds
REG metis partition end ----................................
REG construction  time spent:  3.702136278152466
pure dgl.metis_partition the time spent:  10.586381196975708
connection checking time:  1.0665483474731445
block generation total time  1.0034611225128174
generate_dataloader_block spend   16.90726947784424
pure train time  3.7412147521972656
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 21.990234375 GB
    Memory Allocated: 0.2029738426208496  GigaBytes
Max Memory Allocated: 17.48433017730713  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0678675174713135
loading full batch data spends  0.058125972747802734
REG start----................................
Convert a graph into a bidirected graph: 1.354 seconds, peak memory: 76.821 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.821 GB
Metis partitioning: 6.204 seconds, peak memory: 76.821 GB
Split the graph: 3.332 seconds
Construct subgraphs: 0.014 seconds
REG metis partition end ----................................
REG construction  time spent:  3.824309825897217
pure dgl.metis_partition the time spent:  10.92102313041687
connection checking time:  1.9954607486724854
block generation total time  1.84779953956604
generate_dataloader_block spend   19.25693368911743
pure train time  3.908060073852539
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 15.529296875 GB
    Memory Allocated: 0.20149946212768555  GigaBytes
Max Memory Allocated: 17.808032512664795  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.067160129547119
loading full batch data spends  0.04672574996948242
REG start----................................
Convert a graph into a bidirected graph: 1.380 seconds, peak memory: 76.952 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.952 GB
Metis partitioning: 6.348 seconds, peak memory: 76.952 GB
Split the graph: 3.134 seconds
Construct subgraphs: 0.057 seconds
REG metis partition end ----................................
REG construction  time spent:  4.034472703933716
pure dgl.metis_partition the time spent:  10.936044216156006
connection checking time:  1.9725501537322998
block generation total time  1.976935625076294
generate_dataloader_block spend   19.581337451934814
pure train time  3.753603935241699
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.177734375 GB
    Memory Allocated: 0.20060110092163086  GigaBytes
Max Memory Allocated: 17.808032512664795  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0287179946899414
loading full batch data spends  0.06792712211608887
REG start----................................
Convert a graph into a bidirected graph: 1.356 seconds, peak memory: 76.952 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.952 GB
Metis partitioning: 6.296 seconds, peak memory: 76.952 GB
Split the graph: 2.928 seconds
Construct subgraphs: 0.011 seconds
REG metis partition end ----................................
REG construction  time spent:  3.787303924560547
pure dgl.metis_partition the time spent:  10.606908082962036
connection checking time:  1.2686522006988525
block generation total time  0.9728262424468994
generate_dataloader_block spend   17.276912689208984
pure train time  3.72998309135437
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.943359375 GB
    Memory Allocated: 0.20250892639160156  GigaBytes
Max Memory Allocated: 17.808032512664795  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.9617180824279785
loading full batch data spends  0.04793119430541992
REG start----................................
Convert a graph into a bidirected graph: 1.408 seconds, peak memory: 76.952 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.952 GB
Metis partitioning: 6.151 seconds, peak memory: 76.952 GB
Split the graph: 3.268 seconds
Construct subgraphs: 0.039 seconds
REG metis partition end ----................................
REG construction  time spent:  3.884263277053833
pure dgl.metis_partition the time spent:  10.882619142532349
connection checking time:  2.042008638381958
block generation total time  1.918365716934204
generate_dataloader_block spend   19.45534896850586
pure train time  3.7525479793548584
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.734375 GB
    Memory Allocated: 0.20089960098266602  GigaBytes
Max Memory Allocated: 17.808032512664795  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.869546890258789
loading full batch data spends  0.0473170280456543
REG start----................................
Convert a graph into a bidirected graph: 1.318 seconds, peak memory: 76.952 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.952 GB
Metis partitioning: 5.953 seconds, peak memory: 76.952 GB
Split the graph: 2.973 seconds
Construct subgraphs: 0.007 seconds
REG metis partition end ----................................
REG construction  time spent:  4.04151177406311
pure dgl.metis_partition the time spent:  10.269188404083252
connection checking time:  2.018920421600342
block generation total time  1.9236204624176025
generate_dataloader_block spend   18.909831523895264
pure train time  3.748351812362671
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.734375 GB
    Memory Allocated: 0.20128536224365234  GigaBytes
Max Memory Allocated: 17.808032512664795  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7698757648468018
Total (block generation + training)time/epoch 23.278355622291564
pure train time/epoch 3.7722936073939004

num_input_list  [338515, 337592, 339956, 338472, 339416, 329702, 344956, 335819, 335376, 334413]
