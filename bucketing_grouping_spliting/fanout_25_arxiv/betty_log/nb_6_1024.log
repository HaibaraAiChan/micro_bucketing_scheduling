main start at this time 1689057094.2199602
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
loading full batch data spends  0.04952859878540039
REG start----................................
Convert a graph into a bidirected graph: 1.285 seconds, peak memory: 27.374 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 27.374 GB
Metis partitioning: 5.755 seconds, peak memory: 28.153 GB
Split the graph: 2.580 seconds
Construct subgraphs: 0.097 seconds
REG metis partition end ----................................
REG construction  time spent:  3.6910269260406494
pure dgl.metis_partition the time spent:  9.750294923782349
connection checking time:  2.060300827026367
block generation total time  1.9020934104919434
generate_dataloader_block spend   18.023030281066895
pure train time  4.281386613845825
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.572265625 GB
    Memory Allocated: 0.19614601135253906  GigaBytes
Max Memory Allocated: 14.685857772827148  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.776339054107666
loading full batch data spends  0.08579111099243164
REG start----................................
Convert a graph into a bidirected graph: 1.309 seconds, peak memory: 67.870 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 67.870 GB
Metis partitioning: 5.825 seconds, peak memory: 68.674 GB
Split the graph: 2.894 seconds
Construct subgraphs: 0.010 seconds
REG metis partition end ----................................
REG construction  time spent:  3.770237684249878
pure dgl.metis_partition the time spent:  10.053404331207275
connection checking time:  2.071171283721924
block generation total time  1.8637280464172363
generate_dataloader_block spend   18.434717416763306
pure train time  3.8807461261749268
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.607421875 GB
    Memory Allocated: 0.1961665153503418  GigaBytes
Max Memory Allocated: 15.01337718963623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.190708875656128
loading full batch data spends  0.08205389976501465
REG start----................................
Convert a graph into a bidirected graph: 1.346 seconds, peak memory: 75.881 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 75.881 GB
Metis partitioning: 5.896 seconds, peak memory: 76.626 GB
Split the graph: 2.924 seconds
Construct subgraphs: 0.015 seconds
REG metis partition end ----................................
REG construction  time spent:  3.805145502090454
pure dgl.metis_partition the time spent:  10.195863962173462
connection checking time:  2.1961822509765625
block generation total time  2.0768392086029053
generate_dataloader_block spend   18.965013027191162
pure train time  3.864001750946045
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.638671875 GB
    Memory Allocated: 0.19735383987426758  GigaBytes
Max Memory Allocated: 15.01337718963623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6114072799682617
loading full batch data spends  0.07137250900268555
REG start----................................
Convert a graph into a bidirected graph: 1.331 seconds, peak memory: 76.846 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 76.846 GB
Metis partitioning: 5.896 seconds, peak memory: 76.846 GB
Split the graph: 2.302 seconds
Construct subgraphs: 0.016 seconds
REG metis partition end ----................................
REG construction  time spent:  3.88411545753479
pure dgl.metis_partition the time spent:  9.562156677246094
connection checking time:  2.076890707015991
block generation total time  1.9193081855773926
generate_dataloader_block spend   18.11104154586792
pure train time  3.881169319152832
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.650390625 GB
    Memory Allocated: 0.1957707405090332  GigaBytes
Max Memory Allocated: 15.01337718963623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0805811882019043
loading full batch data spends  0.0652155876159668
REG start----................................
Convert a graph into a bidirected graph: 1.339 seconds, peak memory: 77.027 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.027 GB
Metis partitioning: 5.938 seconds, peak memory: 77.027 GB
Split the graph: 3.129 seconds
Construct subgraphs: 0.015 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8784031867980957
pure dgl.metis_partition the time spent:  10.436316013336182
connection checking time:  2.0521979331970215
block generation total time  1.9307630062103271
generate_dataloader_block spend   18.982795238494873
pure train time  3.8793869018554688
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.650390625 GB
    Memory Allocated: 0.19617128372192383  GigaBytes
Max Memory Allocated: 15.01337718963623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.068572998046875
loading full batch data spends  0.08554387092590332
REG start----................................
Convert a graph into a bidirected graph: 1.294 seconds, peak memory: 77.048 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.048 GB
Metis partitioning: 5.953 seconds, peak memory: 77.048 GB
Split the graph: 2.873 seconds
Construct subgraphs: 0.018 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8394601345062256
pure dgl.metis_partition the time spent:  10.15457558631897
connection checking time:  2.0883162021636963
block generation total time  1.9561970233917236
generate_dataloader_block spend   18.735145330429077
pure train time  3.8834218978881836
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.65234375 GB
    Memory Allocated: 0.19741439819335938  GigaBytes
Max Memory Allocated: 15.01337718963623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.06789231300354
loading full batch data spends  0.08555388450622559
REG start----................................
Convert a graph into a bidirected graph: 1.440 seconds, peak memory: 77.048 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.048 GB
Metis partitioning: 6.329 seconds, peak memory: 77.048 GB
Split the graph: 2.865 seconds
Construct subgraphs: 0.013 seconds
REG metis partition end ----................................
REG construction  time spent:  3.928088665008545
pure dgl.metis_partition the time spent:  10.663174390792847
connection checking time:  2.1509439945220947
block generation total time  2.0244503021240234
generate_dataloader_block spend   19.45754885673523
pure train time  3.8887524604797363
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.65234375 GB
    Memory Allocated: 0.19713735580444336  GigaBytes
Max Memory Allocated: 15.01337718963623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0310444831848145
loading full batch data spends  0.08300971984863281
REG start----................................
Convert a graph into a bidirected graph: 1.323 seconds, peak memory: 77.048 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.048 GB
Metis partitioning: 6.013 seconds, peak memory: 77.048 GB
Split the graph: 3.111 seconds
Construct subgraphs: 0.017 seconds
REG metis partition end ----................................
REG construction  time spent:  3.8619558811187744
pure dgl.metis_partition the time spent:  10.47891354560852
connection checking time:  2.0545263290405273
block generation total time  1.8996851444244385
generate_dataloader_block spend   18.97335648536682
pure train time  3.8911190032958984
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.65234375 GB
    Memory Allocated: 0.19600248336791992  GigaBytes
Max Memory Allocated: 15.01337718963623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.96303391456604
loading full batch data spends  0.05276942253112793
REG start----................................
Convert a graph into a bidirected graph: 1.392 seconds, peak memory: 77.080 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.080 GB
Metis partitioning: 6.207 seconds, peak memory: 77.080 GB
Split the graph: 2.595 seconds
Construct subgraphs: 0.021 seconds
REG metis partition end ----................................
REG construction  time spent:  3.987717866897583
pure dgl.metis_partition the time spent:  10.231455564498901
connection checking time:  2.080739736557007
block generation total time  1.9494616985321045
generate_dataloader_block spend   18.921660900115967
pure train time  3.8968281745910645
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.65234375 GB
    Memory Allocated: 0.1958789825439453  GigaBytes
Max Memory Allocated: 15.01337718963623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8700993061065674
loading full batch data spends  0.05898880958557129
REG start----................................
Convert a graph into a bidirected graph: 1.359 seconds, peak memory: 77.080 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 77.080 GB
Metis partitioning: 6.381 seconds, peak memory: 77.080 GB
Split the graph: 3.091 seconds
Construct subgraphs: 0.023 seconds
REG metis partition end ----................................
REG construction  time spent:  4.085750102996826
pure dgl.metis_partition the time spent:  10.870214462280273
connection checking time:  2.1353859901428223
block generation total time  1.9484426975250244
generate_dataloader_block spend   19.752490758895874
pure train time  3.868504047393799
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 22.65234375 GB
    Memory Allocated: 0.19567108154296875  GigaBytes
Max Memory Allocated: 15.01337718963623  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7714571952819824
Total (block generation + training)time/epoch 23.686597657203674
pure train time/epoch 3.884668747584025

num_input_list  [366356, 353299, 384671, 367902, 349686, 379315, 375831, 356917, 361675, 374805]
