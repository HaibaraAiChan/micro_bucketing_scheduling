main start at this time 1691262328.0445957
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.034 seconds, peak memory: 23.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.998 GB
Metis partitioning: 0.150 seconds, peak memory: 24.027 GB
Split the graph: 0.065 seconds
Construct subgraphs: 0.006 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.915659189224243
block generation total time  3.502267837524414
pure train time  4.329018592834473
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.33984375 GB
    Memory Allocated: 0.22483539581298828  GigaBytes
Max Memory Allocated: 13.058993339538574  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7763924598693848
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 61.528 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.528 GB
Metis partitioning: 0.150 seconds, peak memory: 61.528 GB
Split the graph: 0.063 seconds
Construct subgraphs: 0.017 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.945146083831787
block generation total time  3.5615813732147217
pure train time  3.9744186401367188
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.3828125 GB
    Memory Allocated: 0.22482681274414062  GigaBytes
Max Memory Allocated: 13.166175365447998  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1909584999084473
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 67.989 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 67.989 GB
Metis partitioning: 0.154 seconds, peak memory: 67.989 GB
Split the graph: 0.055 seconds
Construct subgraphs: 0.003 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.4802157878875732
block generation total time  3.452864408493042
pure train time  3.950795888900757
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 19.3828125 GB
    Memory Allocated: 0.22498083114624023  GigaBytes
Max Memory Allocated: 13.166175365447998  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6141247749328613
loading full batch data spends  0.06427645683288574
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 68.020 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 68.020 GB
Metis partitioning: 0.149 seconds, peak memory: 68.020 GB
Split the graph: 0.093 seconds
Construct subgraphs: 0.005 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  2.076202392578125
block generation total time  1.8455595970153809
generate_dataloader_block spend   4.448384046554565
pure train time  3.9691028594970703
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.82421875 GB
    Memory Allocated: 0.2255253791809082  GigaBytes
Max Memory Allocated: 13.173163414001465  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.080289125442505
loading full batch data spends  0.06584811210632324
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 69.488 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.488 GB
Metis partitioning: 0.168 seconds, peak memory: 69.488 GB
Split the graph: 0.084 seconds
Construct subgraphs: 0.007 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.845237970352173
block generation total time  3.5512490272521973
generate_dataloader_block spend   8.066171407699585
pure train time  3.9627068042755127
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.82421875 GB
    Memory Allocated: 0.22540664672851562  GigaBytes
Max Memory Allocated: 13.173163414001465  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0677688121795654
loading full batch data spends  0.0635843276977539
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 69.523 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.523 GB
Metis partitioning: 0.157 seconds, peak memory: 69.523 GB
Split the graph: 0.065 seconds
Construct subgraphs: 0.005 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.857684373855591
block generation total time  3.5626394748687744
generate_dataloader_block spend   8.050615549087524
pure train time  3.9793975353240967
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.82421875 GB
    Memory Allocated: 0.22565793991088867  GigaBytes
Max Memory Allocated: 13.173163414001465  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0676960945129395
loading full batch data spends  0.08238530158996582
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 69.546 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.546 GB
Metis partitioning: 0.152 seconds, peak memory: 69.546 GB
Split the graph: 0.066 seconds
Construct subgraphs: 0.005 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.855550765991211
block generation total time  3.5454375743865967
generate_dataloader_block spend   8.042236328125
pure train time  3.963237762451172
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.82421875 GB
    Memory Allocated: 0.2253561019897461  GigaBytes
Max Memory Allocated: 13.173163414001465  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0312092304229736
loading full batch data spends  0.044677019119262695
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 69.546 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.546 GB
Metis partitioning: 0.145 seconds, peak memory: 69.546 GB
Split the graph: 0.072 seconds
Construct subgraphs: 0.005 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.947155475616455
block generation total time  3.5798180103302
generate_dataloader_block spend   8.135781526565552
pure train time  3.976449728012085
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.82421875 GB
    Memory Allocated: 0.22564268112182617  GigaBytes
Max Memory Allocated: 13.173163414001465  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.960914373397827
loading full batch data spends  0.05977797508239746
Convert a graph into a bidirected graph: 0.014 seconds, peak memory: 69.547 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.547 GB
Metis partitioning: 0.149 seconds, peak memory: 69.547 GB
Split the graph: 0.079 seconds
Construct subgraphs: 0.008 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.836928129196167
block generation total time  3.5175745487213135
generate_dataloader_block spend   7.983984708786011
pure train time  3.9947001934051514
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.82421875 GB
    Memory Allocated: 0.22533178329467773  GigaBytes
Max Memory Allocated: 13.173163414001465  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.870706081390381
loading full batch data spends  0.048853397369384766
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 69.547 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 69.547 GB
Metis partitioning: 0.154 seconds, peak memory: 69.547 GB
Split the graph: 0.077 seconds
Construct subgraphs: 0.004 seconds
15163
15158
15154
15157
15150
15159
The batched output nid list before graph partition
connection checking time:  3.9658453464508057
block generation total time  3.6737778186798096
generate_dataloader_block spend   8.273627042770386
pure train time  3.99930739402771
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 20.82421875 GB
    Memory Allocated: 0.22517061233520508  GigaBytes
Max Memory Allocated: 13.173163414001465  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7698583602905273
Total (block generation + training)time/epoch 12.524915252413068
pure train time/epoch 3.9792999029159546

mean number of num_input_list  792593.4
