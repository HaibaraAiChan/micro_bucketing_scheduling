main start at this time 1691263623.0081332
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.040 seconds, peak memory: 23.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.998 GB
Metis partitioning: 0.181 seconds, peak memory: 24.033 GB
Split the graph: 0.039 seconds
Construct subgraphs: 0.026 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.64716649055481
block generation total time  5.4444122314453125
pure train time  8.124182939529419
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.138671875 GB
    Memory Allocated: 0.18869256973266602  GigaBytes
Max Memory Allocated: 3.1817221641540527  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.776543378829956
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 52.359 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.359 GB
Metis partitioning: 0.176 seconds, peak memory: 52.359 GB
Split the graph: 0.111 seconds
Construct subgraphs: 0.039 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.790146827697754
block generation total time  5.515270948410034
pure train time  7.894446849822998
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.1484375 GB
    Memory Allocated: 0.18837356567382812  GigaBytes
Max Memory Allocated: 3.2265520095825195  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.190824270248413
Convert a graph into a bidirected graph: 0.020 seconds, peak memory: 52.537 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.537 GB
Metis partitioning: 0.192 seconds, peak memory: 52.537 GB
Split the graph: 0.110 seconds
Construct subgraphs: 0.033 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  5.916207790374756
block generation total time  5.178828716278076
pure train time  7.727189540863037
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.1484375 GB
    Memory Allocated: 0.18942785263061523  GigaBytes
Max Memory Allocated: 3.246330738067627  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6064438819885254
loading full batch data spends  0.1312406063079834
Convert a graph into a bidirected graph: 0.022 seconds, peak memory: 52.579 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.579 GB
Metis partitioning: 0.183 seconds, peak memory: 52.579 GB
Split the graph: 0.074 seconds
Construct subgraphs: 0.028 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.564525365829468
block generation total time  5.572011470794678
generate_dataloader_block spend   12.762740850448608
pure train time  7.902350902557373
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.158203125 GB
    Memory Allocated: 0.1881852149963379  GigaBytes
Max Memory Allocated: 3.246330738067627  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0809707641601562
loading full batch data spends  0.12651944160461426
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 52.579 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.579 GB
Metis partitioning: 0.182 seconds, peak memory: 52.579 GB
Split the graph: 0.104 seconds
Construct subgraphs: 0.035 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.823437929153442
block generation total time  5.578258037567139
generate_dataloader_block spend   13.182895421981812
pure train time  7.889138221740723
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.158203125 GB
    Memory Allocated: 0.1886758804321289  GigaBytes
Max Memory Allocated: 3.2714462280273438  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.068270206451416
loading full batch data spends  0.11746931076049805
Convert a graph into a bidirected graph: 0.020 seconds, peak memory: 52.612 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.612 GB
Metis partitioning: 0.179 seconds, peak memory: 52.612 GB
Split the graph: 0.068 seconds
Construct subgraphs: 0.038 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.557645082473755
block generation total time  5.550385236740112
generate_dataloader_block spend   12.838534116744995
pure train time  7.722070693969727
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.158203125 GB
    Memory Allocated: 0.18863391876220703  GigaBytes
Max Memory Allocated: 3.2714462280273438  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0666298866271973
loading full batch data spends  0.11441659927368164
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 52.613 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.613 GB
Metis partitioning: 0.187 seconds, peak memory: 52.613 GB
Split the graph: 0.080 seconds
Construct subgraphs: 0.038 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.754696607589722
block generation total time  5.798366546630859
generate_dataloader_block spend   13.307933807373047
pure train time  7.8151726722717285
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.158203125 GB
    Memory Allocated: 0.18822956085205078  GigaBytes
Max Memory Allocated: 3.2714462280273438  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.030496120452881
loading full batch data spends  0.10483098030090332
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 52.613 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.613 GB
Metis partitioning: 0.158 seconds, peak memory: 52.613 GB
Split the graph: 0.066 seconds
Construct subgraphs: 0.022 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.201671361923218
block generation total time  5.617862701416016
generate_dataloader_block spend   12.383305311203003
pure train time  7.89679217338562
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.158203125 GB
    Memory Allocated: 0.18816280364990234  GigaBytes
Max Memory Allocated: 3.2714462280273438  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.9585158824920654
loading full batch data spends  0.11550664901733398
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 52.615 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.615 GB
Metis partitioning: 0.177 seconds, peak memory: 52.615 GB
Split the graph: 0.052 seconds
Construct subgraphs: 0.016 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.547150135040283
block generation total time  5.568015098571777
generate_dataloader_block spend   12.746922492980957
pure train time  7.9002156257629395
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.158203125 GB
    Memory Allocated: 0.1881875991821289  GigaBytes
Max Memory Allocated: 3.2714462280273438  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8693087100982666
loading full batch data spends  0.11444878578186035
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 52.629 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 52.629 GB
Metis partitioning: 0.193 seconds, peak memory: 52.629 GB
Split the graph: 0.068 seconds
Construct subgraphs: 0.021 seconds
2843
2841
2837
2840
2843
2842
2844
2844
2838
2846
2841
2841
2842
2842
2841
2844
2842
2843
2842
2843
2842
2840
2836
2845
2843
2842
2846
2842
2839
2843
2842
2842
The batched output nid list before graph partition
connection checking time:  6.59745454788208
block generation total time  5.584100008010864
generate_dataloader_block spend   12.910876750946045
pure train time  7.89871072769165
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 6.158203125 GB
    Memory Allocated: 0.18828248977661133  GigaBytes
Max Memory Allocated: 3.2714462280273438  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.768183708190918
Total (block generation + training)time/epoch 22.538395847593033
pure train time/epoch 7.853683352470398

mean number of num_input_list  2257888.3
