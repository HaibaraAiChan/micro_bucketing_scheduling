main start at this time 1691263099.229272
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.039 seconds, peak memory: 23.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.998 GB
Metis partitioning: 0.163 seconds, peak memory: 24.025 GB
Split the graph: 0.043 seconds
Construct subgraphs: 0.020 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  4.781818389892578
block generation total time  4.00823450088501
pure train time  5.1757917404174805
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 10.91796875 GB
    Memory Allocated: 0.21295738220214844  GigaBytes
Max Memory Allocated: 7.854618549346924  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.7758030891418457
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 44.746 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 44.746 GB
Metis partitioning: 0.157 seconds, peak memory: 44.746 GB
Split the graph: 0.051 seconds
Construct subgraphs: 0.006 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  5.025298118591309
block generation total time  4.382030248641968
pure train time  4.782431125640869
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.708984375 GB
    Memory Allocated: 0.21323060989379883  GigaBytes
Max Memory Allocated: 7.995962619781494  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.1901748180389404
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 54.406 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.406 GB
Metis partitioning: 0.163 seconds, peak memory: 54.406 GB
Split the graph: 0.050 seconds
Construct subgraphs: 0.007 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  5.067806005477905
block generation total time  4.400830984115601
pure train time  4.731335163116455
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 11.7109375 GB
    Memory Allocated: 0.21374988555908203  GigaBytes
Max Memory Allocated: 7.995962619781494  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.6088685989379883
loading full batch data spends  0.07563900947570801
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 59.400 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 59.400 GB
Metis partitioning: 0.165 seconds, peak memory: 59.400 GB
Split the graph: 0.056 seconds
Construct subgraphs: 0.010 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  5.043485641479492
block generation total time  4.3861353397369385
generate_dataloader_block spend   10.076559066772461
pure train time  4.738539695739746
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.5078125 GB
    Memory Allocated: 0.21337032318115234  GigaBytes
Max Memory Allocated: 8.017609119415283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0808024406433105
loading full batch data spends  0.06326723098754883
Convert a graph into a bidirected graph: 0.013 seconds, peak memory: 60.251 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.251 GB
Metis partitioning: 0.164 seconds, peak memory: 60.251 GB
Split the graph: 0.055 seconds
Construct subgraphs: 0.011 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  5.122551918029785
block generation total time  4.399037599563599
generate_dataloader_block spend   10.155866384506226
pure train time  4.745578289031982
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.5078125 GB
    Memory Allocated: 0.2132120132446289  GigaBytes
Max Memory Allocated: 8.017609119415283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0680840015411377
loading full batch data spends  0.06879615783691406
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 60.270 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.270 GB
Metis partitioning: 0.144 seconds, peak memory: 60.270 GB
Split the graph: 0.052 seconds
Construct subgraphs: 0.006 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  2.71096134185791
block generation total time  2.269993782043457
generate_dataloader_block spend   5.438801050186157
pure train time  4.680186986923218
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.513671875 GB
    Memory Allocated: 0.21373271942138672  GigaBytes
Max Memory Allocated: 8.017609119415283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.067650079727173
loading full batch data spends  0.06972646713256836
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 60.283 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.283 GB
Metis partitioning: 0.148 seconds, peak memory: 60.283 GB
Split the graph: 0.070 seconds
Construct subgraphs: 0.009 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  2.8237977027893066
block generation total time  2.3175296783447266
generate_dataloader_block spend   5.6506407260894775
pure train time  4.774874925613403
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.515625 GB
    Memory Allocated: 0.21286678314208984  GigaBytes
Max Memory Allocated: 8.017609119415283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0293920040130615
loading full batch data spends  0.06895899772644043
Convert a graph into a bidirected graph: 0.020 seconds, peak memory: 60.284 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.284 GB
Metis partitioning: 0.162 seconds, peak memory: 60.284 GB
Split the graph: 0.044 seconds
Construct subgraphs: 0.006 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  4.899503707885742
block generation total time  4.416545629501343
generate_dataloader_block spend   9.95037317276001
pure train time  4.771554708480835
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.515625 GB
    Memory Allocated: 0.2125234603881836  GigaBytes
Max Memory Allocated: 8.017609119415283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.959042549133301
loading full batch data spends  0.07436895370483398
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 60.284 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.284 GB
Metis partitioning: 0.161 seconds, peak memory: 60.284 GB
Split the graph: 0.065 seconds
Construct subgraphs: 0.007 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  5.048095703125
block generation total time  4.384953260421753
generate_dataloader_block spend   10.096408367156982
pure train time  4.757458209991455
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.525390625 GB
    Memory Allocated: 0.21422338485717773  GigaBytes
Max Memory Allocated: 8.017609119415283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.869901657104492
loading full batch data spends  0.06927919387817383
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 60.284 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 60.284 GB
Metis partitioning: 0.164 seconds, peak memory: 60.284 GB
Split the graph: 0.056 seconds
Construct subgraphs: 0.007 seconds
8268
8269
8271
8262
8269
8263
8266
8267
8277
8262
8267
The batched output nid list before graph partition
connection checking time:  2.877729654312134
block generation total time  2.2980337142944336
generate_dataloader_block spend   5.725697994232178
pure train time  4.739852666854858
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.52734375 GB
    Memory Allocated: 0.21355438232421875  GigaBytes
Max Memory Allocated: 8.017609119415283  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.768188238143921
Total (block generation + training)time/epoch 14.095045600618635
pure train time/epoch 4.744917631149292

mean number of num_input_list  1228962.5
