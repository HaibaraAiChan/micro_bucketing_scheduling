main start at this time 1691262933.0474205
ogbn-arxiv
# Nodes: 169343
# Edges: 2315598
# Train: 90941
# Val: 29799
# Test: 48603
# Classes: 40

in feats:  128
Convert a graph into a bidirected graph: 0.038 seconds, peak memory: 23.998 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 23.998 GB
Metis partitioning: 0.154 seconds, peak memory: 24.026 GB
Split the graph: 0.053 seconds
Construct subgraphs: 0.023 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.809561729431152
block generation total time  4.2344701290130615
pure train time  4.995493173599243
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 12.74609375 GB
    Memory Allocated: 0.21483325958251953  GigaBytes
Max Memory Allocated: 8.551996231079102  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.774567127227783
Convert a graph into a bidirected graph: 0.019 seconds, peak memory: 45.993 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 45.993 GB
Metis partitioning: 0.151 seconds, peak memory: 45.993 GB
Split the graph: 0.054 seconds
Construct subgraphs: 0.008 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.837676048278809
block generation total time  4.239693880081177
pure train time  4.589646100997925
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.671875 GB
    Memory Allocated: 0.21413660049438477  GigaBytes
Max Memory Allocated: 8.66434097290039  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.189958095550537
Convert a graph into a bidirected graph: 0.015 seconds, peak memory: 54.315 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 54.315 GB
Metis partitioning: 0.160 seconds, peak memory: 54.315 GB
Split the graph: 0.053 seconds
Construct subgraphs: 0.004 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  3.6058096885681152
block generation total time  3.968266248703003
pure train time  4.577012062072754
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.2147350311279297  GigaBytes
Max Memory Allocated: 8.66434097290039  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.609703779220581
loading full batch data spends  0.07101082801818848
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 61.325 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.325 GB
Metis partitioning: 0.157 seconds, peak memory: 61.325 GB
Split the graph: 0.043 seconds
Construct subgraphs: 0.006 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.42818284034729
block generation total time  3.971209764480591
generate_dataloader_block spend   8.92688536643982
pure train time  4.5954296588897705
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21442079544067383  GigaBytes
Max Memory Allocated: 8.66434097290039  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0824191570281982
loading full batch data spends  0.0690467357635498
Convert a graph into a bidirected graph: 0.018 seconds, peak memory: 61.381 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.381 GB
Metis partitioning: 0.153 seconds, peak memory: 61.381 GB
Split the graph: 0.049 seconds
Construct subgraphs: 0.006 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.842296838760376
block generation total time  4.287425756454468
generate_dataloader_block spend   9.750622034072876
pure train time  4.579599380493164
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21407461166381836  GigaBytes
Max Memory Allocated: 8.668843746185303  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.068305730819702
loading full batch data spends  0.0698854923248291
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 61.400 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.400 GB
Metis partitioning: 0.160 seconds, peak memory: 61.400 GB
Split the graph: 0.056 seconds
Construct subgraphs: 0.009 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.932970762252808
block generation total time  4.292996883392334
generate_dataloader_block spend   9.864656686782837
pure train time  4.57534384727478
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21406936645507812  GigaBytes
Max Memory Allocated: 8.668843746185303  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.068012237548828
loading full batch data spends  0.07593083381652832
Convert a graph into a bidirected graph: 0.021 seconds, peak memory: 61.408 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.408 GB
Metis partitioning: 0.162 seconds, peak memory: 61.408 GB
Split the graph: 0.056 seconds
Construct subgraphs: 0.009 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.862478733062744
block generation total time  4.271906852722168
generate_dataloader_block spend   9.80105996131897
pure train time  4.594283580780029
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.2140049934387207  GigaBytes
Max Memory Allocated: 8.668843746185303  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 3.0301451683044434
loading full batch data spends  0.07838106155395508
Convert a graph into a bidirected graph: 0.016 seconds, peak memory: 61.408 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.408 GB
Metis partitioning: 0.162 seconds, peak memory: 61.408 GB
Split the graph: 0.051 seconds
Construct subgraphs: 0.008 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.871641159057617
block generation total time  4.259422063827515
generate_dataloader_block spend   9.757618427276611
pure train time  4.617684364318848
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21402788162231445  GigaBytes
Max Memory Allocated: 8.668843746185303  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.9612879753112793
loading full batch data spends  0.05928206443786621
Convert a graph into a bidirected graph: 0.013 seconds, peak memory: 61.434 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.434 GB
Metis partitioning: 0.153 seconds, peak memory: 61.434 GB
Split the graph: 0.053 seconds
Construct subgraphs: 0.005 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.898916006088257
block generation total time  4.305680751800537
generate_dataloader_block spend   9.777005910873413
pure train time  4.587860107421875
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.2142930030822754  GigaBytes
Max Memory Allocated: 8.668843746185303  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.8702239990234375
loading full batch data spends  0.06720447540283203
Convert a graph into a bidirected graph: 0.017 seconds, peak memory: 61.434 GB
Construct multi-constraint weights: 0.000 seconds, peak memory: 61.434 GB
Metis partitioning: 0.163 seconds, peak memory: 61.434 GB
Split the graph: 0.050 seconds
Construct subgraphs: 0.008 seconds
9098
9095
9094
9090
9097
9092
9094
9094
9094
9093
The batched output nid list before graph partition
connection checking time:  4.9042768478393555
block generation total time  4.324016332626343
generate_dataloader_block spend   9.85566759109497
pure train time  4.605015516281128
-----------------------------------------after optimizer zero grad
 Nvidia-smi: 13.69921875 GB
    Memory Allocated: 0.21455621719360352  GigaBytes
Max Memory Allocated: 8.668843746185303  GigaBytes

----------------------------------------------------------pseudo_mini_loss sum 2.7679595947265625
Total (block generation + training)time/epoch 15.433687993458339
pure train time/epoch 4.593297799428304

mean number of num_input_list  1152117.3
